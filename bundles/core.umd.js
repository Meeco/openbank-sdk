(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("@angular/http"), require("@angular/core"), require("@angular/common"), require("rxjs/add/observable/throw"), require("rxjs/add/operator/catch"), require("rxjs/add/operator/map"));
	else if(typeof define === 'function' && define.amd)
		define(["@angular/http", "@angular/core", "@angular/common", "rxjs/add/observable/throw", "rxjs/add/operator/catch", "rxjs/add/operator/map"], factory);
	else if(typeof exports === 'object')
		exports["ngx-obp-core"] = factory(require("@angular/http"), require("@angular/core"), require("@angular/common"), require("rxjs/add/observable/throw"), require("rxjs/add/operator/catch"), require("rxjs/add/operator/map"));
	else
		root["ngx-obp-core"] = factory(root["@angular/http"], root["@angular/core"], root["@angular/common"], root["rxjs/add/observable/throw"], root["rxjs/add/operator/catch"], root["rxjs/add/operator/map"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_18__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 14);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Configuration; });
var Configuration = (function () {
    function Configuration(configurationParameters) {
        if (configurationParameters === void 0) { configurationParameters = {}; }
        this.apiKeys = configurationParameters.apiKeys;
        this.username = configurationParameters.username;
        this.password = configurationParameters.password;
        this.accessToken = configurationParameters.accessToken;
        this.basePath = configurationParameters.basePath;
        this.withCredentials = configurationParameters.withCredentials;
    }
    return Configuration;
}());



/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BASE_PATH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return COLLECTION_FORMATS; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);

var BASE_PATH = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["InjectionToken"]('basePath');
var COLLECTION_FORMATS = {
    'csv': ',',
    'tsv': '   ',
    'ssv': ' ',
    'pipes': '|'
};


/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_observable_throw__ = __webpack_require__(16);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__ = __webpack_require__(17);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(18);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
// RxJS imports according to https://angular.io/docs/ts/latest/guide/server-communication.html#!#rxjs
// See node_module/rxjs/Rxjs.js
// Import just the rxjs statics and operators we need for THIS app.
// Statics

// Operators




/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_1_2_1Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_1_2_1Service = (function () {
    function Func_1_2_1Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_1_2_1Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_1_2_1Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Posts a comment about a transaction TRANSACTION_ID on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> VIEW_ID.</p><p>${authenticationRequiredMessage(false)}</p><p>Authentication is required since the comment is linked with the user.</p>
     * @summary Add comment.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCommentForViewOnTransaction = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCommentForViewOnTransactionWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add the geolocation of the counterparty's registered address</p>
     * @summary Add Corporate Location to Counterparty
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyCorporateLocation = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyCorporateLocationWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a url that points to the logo of the counterparty</p>
     * @summary Add image url to other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyImageUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyImageUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a description of the counter party from the perpestive of the account e.g. My dentist.</p>
     * @summary Add Counterparty More Info
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyMoreInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyMoreInfoWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add open corporates url to other bank account.</p>
     * @summary Add Open Corporates URL to Counterparty
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyOpenCorporatesUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyOpenCorporatesUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add geocoordinates of the counterparty's main location</p>
     * @summary Add physical location to other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyPhysicalLocation = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyPhysicalLocationWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Creates the public alias for the other account OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p><p>Note: Public aliases are automatically generated for new 'other accounts / counterparties', so this call should only be used if the public alias was deleted.</p><p>The VIEW_ID parameter should be a view the caller is permitted to access to and that has permission to create public aliases.</p>
     * @summary Add public alias to other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyPublicAlias = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyPublicAliasWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>A url which represents the counterparty (home page url etc.)</p>
     * @summary Add url to other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddCounterpartyUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Posts an image about a transaction TRANSACTION_ID on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> VIEW_ID.</p><p>Authentication is Mandatory</p><p>The image is linked with the user.</p>
     * @summary Add an image.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddImageForViewOnTransaction = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddImageForViewOnTransactionWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Creates a private alias for the other account OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Create Other Account Private Alias
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddOtherAccountPrivateAlias = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddOtherAccountPrivateAliasWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Grants the user USER_ID at their provider PROVIDER_ID access to a list of views at BANK_ID for account ACCOUNT_ID.</p><p>All url parameters must be <a href=\"http://en.wikipedia.org/wiki/Percent-encoding\">%-encoded</a>, which is often especially relevant for USER_ID and PROVIDER_ID.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Grant User access to a list of views.
     * @param body BANK_BODY
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddPermissionForUserForBankAccountForMultipleViews = function (body, PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddPermissionForUserForBankAccountForMultipleViewsWithHttpInfo(body, PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Grants the user USER_ID at their provider PROVIDER_ID access to the view VIEW_ID at BANK_ID for account ACCOUNT_ID. All url parameters must be <a href=\"http://en.wikipedia.org/wiki/Percent-encoding\">%-encoded</a>, which is often especially relevant for USER_ID and PROVIDER_ID.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p><p>Granting access to a public view will return an error message, as the user already has access.</p>
     * @summary Grant User access to View.
     * @param body BANK_BODY
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddPermissionForUserForBankAccountForOneView = function (body, PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddPermissionForUserForBankAccountForOneViewWithHttpInfo(body, PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Posts a tag about a transaction TRANSACTION_ID on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> VIEW_ID.</p><p>Authentication is Mandatory</p><p>Authentication is required as the tag is linked with the user.</p>
     * @summary Add a tag.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddTagForViewOnTransaction = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddTagForViewOnTransactionWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Creates a description of the transaction TRANSACTION_ID.</p><p>Note: Unlike other items of metadata, there is only one \"narrative\" per transaction accross all views. If you set narrative via a view e.g. view-x it will be seen via view-y (as long as view-y has permission to see the narrative).</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Add narrative.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddTransactionNarrative = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddTransactionNarrativeWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Creates a \"where\" Geo tag on a transaction TRANSACTION_ID in a <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication is Mandatory</p><p>The geo tag is linked with the user.</p>
     * @summary Add where tag.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddWhereTagForViewOnTransaction = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121AddWhereTagForViewOnTransactionWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the bank specified by BANK_ID Returns information about a single bank specified by BANK_ID including:</p><ul>  <li>Short and full name of bank</li>  <li>Logo URL</li>  <li>Website</li></ul>
     * @summary Get Bank
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121BankById = function (BANK_ID, extraHttpRequestParams) {
        return this.func121BankByIdWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete the comment COMMENT_ID about the transaction TRANSACTION_ID made on <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the comment.</p>
     * @summary Delete comment.
     * @param COMMENT_ID The comment id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCommentForViewOnTransaction = function (COMMENT_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCommentForViewOnTransactionWithHttpInfo(COMMENT_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete corporate location of other bank account. Delete the geolocation of the counterparty's registered address</p>
     * @summary Delete Counterparty Corporate Location.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyCorporateLocation = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyCorporateLocationWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete image url of other bank account.</p>
     * @summary Delete Counterparty Image URL
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyImageUrl = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyImageUrlWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     *
     * @summary Delete more info of other bank account.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyMoreInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyMoreInfoWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete open corporate url of other bank account.</p>
     * @summary Delete Counterparty Open Corporates URL
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyOpenCorporatesUrl = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyOpenCorporatesUrlWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete physical location of other bank account.</p>
     * @summary Delete Counterparty Physical Location.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPhysicalLocation = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyPhysicalLocationWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the private alias of the other account OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Delete Counterparty Private Alias
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPrivateAlias = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyPrivateAliasWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the public alias of the other account OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Delete Counterparty Public Alias
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPublicAlias = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyPublicAliasWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     *
     * @summary Delete url of other bank account.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyUrl = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteCounterpartyUrlWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the image IMAGE_ID about the transaction TRANSACTION_ID made on <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the image.</p>
     * @summary Delete an image
     * @param IMAGE_ID The image id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteImageForViewOnTransaction = function (IMAGE_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteImageForViewOnTransactionWithHttpInfo(IMAGE_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the tag TAG_ID about the transaction TRANSACTION_ID made on <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the tag.</p>
     * @summary Delete a tag.
     * @param TAG_ID The tag id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteTagForViewOnTransaction = function (TAG_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteTagForViewOnTransactionWithHttpInfo(TAG_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the description of the transaction TRANSACTION_ID.</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Delete narrative.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteTransactionNarrative = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteTransactionNarrativeWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the view specified by VIEW_ID on the bank account specified by ACCOUNT_ID at bank BANK_ID.</p>
     * @summary Delete View
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteViewForBankAccount = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteViewForBankAccountWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Deletes the where tag of the transaction TRANSACTION_ID made on <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication is Mandatory</p><p>The user must either have owner privileges for this account, or must be the user that posted the geo tag.</p>
     * @summary Delete where tag.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteWhereTagForViewOnTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121DeleteWhereTagForViewOnTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get banks on this API instance Returns a list of banks supported on this server:</p><ul>  <li>ID used as parameter in URLs</li>  <li>Short and full name of bank</li>  <li>Logo URL</li>  <li>Website</li></ul>
     * @summary Get Banks
     */
    Func_1_2_1Service.prototype.func121GetBanks = function (extraHttpRequestParams) {
        return this.func121GetBanksWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the transaction TRANSACTION_ID comments made on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> (VIEW_ID).</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Get comments.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetCommentsForViewOnTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetCommentsForViewOnTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the public alias of the other account OTHER_ACCOUNT_ID. Authentication is Optional OAuth authentication is required if the view is not public.</p>
     * @summary Get public alias of other bank account.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetCounterpartyPublicAlias = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetCounterpartyPublicAliasWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the transaction TRANSACTION_ID images made on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> (VIEW_ID).  Authentication via OAuth is required if the view is not public.</p>
     * @summary Get images.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetImagesForViewOnTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetImagesForViewOnTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns data about the Other Account that has shared at least one transaction with ACCOUNT_ID at BANK_ID. Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Get Other Account by Id.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountByIdForBankAccount = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetOtherAccountByIdForBankAccountWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get other account of a transaction. Returns details of the other party involved in the transaction, moderated by the <a href=\"#1_2_1-getViewsForBankAccount\">view</a> (VIEW_ID).  Authentication via OAuth is required if the view is not public.</p>
     * @summary Get Other Account of Transaction
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountForTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetOtherAccountForTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get metadata of one other account. Returns only the metadata about one other bank account (OTHER_ACCOUNT_ID) that had shared at least one transaction with ACCOUNT_ID at BANK_ID.</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Get Other Account Metadata.
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountMetadata = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetOtherAccountMetadataWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the private alias of the other account OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Get Other Account Private Alias
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountPrivateAlias = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetOtherAccountPrivateAliasWithHttpInfo(OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns data about all the other accounts that have shared at least one transaction with the ACCOUNT_ID at BANK_ID. Authentication is Optional Authentication is required if the view VIEW_ID is not public.</p>
     * @summary Get Other Accounts of one Account.
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountsForBankAccount = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetOtherAccountsForBankAccountWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the transaction TRANSACTION_ID tags made on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> (VIEW_ID).  Authentication via OAuth is required if the view is not public.</p>
     * @summary Get tags.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTagsForViewOnTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetTagsForViewOnTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns one transaction specified by TRANSACTION_ID of the account ACCOUNT_ID and <a href=\"#1_2_1-getViewsForBankAccount\">moderated</a> by the view (VIEW_ID).</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Get Transaction by Id.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTransactionByIdForBankAccount = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetTransactionByIdForBankAccountWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the account owner description of the transaction <a href=\"#1_2_1-getViewsForBankAccount\">moderated</a> by the view.</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Get narrative.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTransactionNarrative = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetTransactionNarrativeWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the \"where\" Geo tag added to the transaction TRANSACTION_ID made on a <a href=\"#1_2_1-getViewsForBankAccount\">view</a> (VIEW_ID). It represents the location where the transaction has been initiated.</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Get where tag.
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetWhereTagForViewOnTransaction = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121GetWhereTagForViewOnTransactionWithHttpInfo(TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Revokes the user USER_ID at their provider PROVIDER_ID access to all the views at BANK_ID for account ACCOUNT_ID.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Revoke access to all Views on Account
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121RemovePermissionForUserForBankAccountForAllViews = function (PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121RemovePermissionForUserForBankAccountForAllViewsWithHttpInfo(PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Revokes the user USER_ID at their provider PROVIDER_ID access to the view VIEW_ID at BANK_ID for account ACCOUNT_ID.</p><p>Revoking a user access to a public view will return an error message.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Revoke access to one View.
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121RemovePermissionForUserForBankAccountForOneView = function (PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121RemovePermissionForUserForBankAccountForOneViewWithHttpInfo(PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about:</p><ul>  <li>API version</li>  <li>Hosted by information</li>  <li>Git Commit</li></ul>
     * @summary The root of the API
     */
    Func_1_2_1Service.prototype.func121Root = function (extraHttpRequestParams) {
        return this.func121RootWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update the label for the account. The label is how the account is known to the account owner e.g. 'My savings account' </p>
     * @summary Update Account Label.
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateAccountLabel = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateAccountLabelWithHttpInfo(body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update the geolocation of the counterparty's registered address</p>
     * @summary Update Counterparty Corporate Location
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyCorporateLocation = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyCorporateLocationWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update the url that points to the logo of the counterparty</p>
     * @summary Update Counterparty Image Url
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyImageUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyImageUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update the more info description of the counter party from the perpestive of the account e.g. My dentist.</p>
     * @summary Update Counterparty More Info
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyMoreInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyMoreInfoWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update open corporate url of other bank account.</p>
     * @summary Update Open Corporates Url of Counterparty
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyOpenCorporatesUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyOpenCorporatesUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update geocoordinates of the counterparty's main location</p>
     * @summary Update Counterparty Physical Location
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPhysicalLocation = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyPhysicalLocationWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Updates the private alias of the counterparty (AKA other account) OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Update Counterparty Private Alias
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPrivateAlias = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyPrivateAliasWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Updates the public alias of the other account / counterparty OTHER_ACCOUNT_ID.</p><p>Authentication is Optional Authentication is required if the view is not public.</p>
     * @summary Update public alias of other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPublicAlias = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyPublicAliasWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>A url which represents the counterparty (home page url etc.)</p>
     * @summary Update url of other bank account.
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyUrl = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateCounterpartyUrlWithHttpInfo(body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Updates the description of the transaction TRANSACTION_ID.</p><p>Authentication via OAuth is required if the view is not public.</p>
     * @summary Update narrative.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateTransactionNarrative = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateTransactionNarrativeWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Updates the \"where\" Geo tag on a transaction TRANSACTION_ID in a <a href=\"#1_2_1-getViewsForBankAccount\">view</a>.</p><p>Authentication is Mandatory</p><p>The geo tag is linked with the user.</p>
     * @summary Update where tag.
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateWhereTagForViewOnTransaction = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func121UpdateWhereTagForViewOnTransactionWithHttpInfo(body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Add comment.
     * &lt;p&gt;Posts a comment about a transaction TRANSACTION_ID on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; VIEW_ID.&lt;/p&gt;&lt;p&gt;${authenticationRequiredMessage(false)}&lt;/p&gt;&lt;p&gt;Authentication is required since the comment is linked with the user.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCommentForViewOnTransactionWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/comments'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCommentForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121AddCommentForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCommentForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCommentForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCommentForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add Corporate Location to Counterparty
     * &lt;p&gt;Add the geolocation of the counterparty&#39;s registered address&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyCorporateLocationWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/corporate_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyCorporateLocation.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyCorporateLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyCorporateLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyCorporateLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyCorporateLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add image url to other bank account.
     * &lt;p&gt;Add a url that points to the logo of the counterparty&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyImageUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/image_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyImageUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyImageUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyImageUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyImageUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyImageUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add Counterparty More Info
     * &lt;p&gt;Add a description of the counter party from the perpestive of the account e.g. My dentist.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyMoreInfoWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/more_info'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyMoreInfo.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyMoreInfo.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyMoreInfo.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyMoreInfo.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyMoreInfo.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add Open Corporates URL to Counterparty
     * &lt;p&gt;Add open corporates url to other bank account.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyOpenCorporatesUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/open_corporates_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyOpenCorporatesUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add physical location to other bank account.
     * &lt;p&gt;Add geocoordinates of the counterparty&#39;s main location&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyPhysicalLocationWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/physical_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyPhysicalLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add public alias to other bank account.
     * &lt;p&gt;Creates the public alias for the other account OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;&lt;p&gt;Note: Public aliases are automatically generated for new &#39;other accounts / counterparties&#39;, so this call should only be used if the public alias was deleted.&lt;/p&gt;&lt;p&gt;The VIEW_ID parameter should be a view the caller is permitted to access to and that has permission to create public aliases.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyPublicAliasWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/public_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyPublicAlias.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyPublicAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyPublicAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyPublicAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyPublicAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add url to other bank account.
     * &lt;p&gt;A url which represents the counterparty (home page url etc.)&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddCounterpartyUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddCounterpartyUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddCounterpartyUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddCounterpartyUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddCounterpartyUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddCounterpartyUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add an image.
     * &lt;p&gt;Posts an image about a transaction TRANSACTION_ID on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; VIEW_ID.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;The image is linked with the user.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddImageForViewOnTransactionWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/images'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddImageForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121AddImageForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddImageForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddImageForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddImageForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Other Account Private Alias
     * &lt;p&gt;Creates a private alias for the other account OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddOtherAccountPrivateAliasWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/private_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddOtherAccountPrivateAlias.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121AddOtherAccountPrivateAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddOtherAccountPrivateAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddOtherAccountPrivateAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddOtherAccountPrivateAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Grant User access to a list of views.
     * &lt;p&gt;Grants the user USER_ID at their provider PROVIDER_ID access to a list of views at BANK_ID for account ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;All url parameters must be &lt;a href&#x3D;\&quot;http://en.wikipedia.org/wiki/Percent-encoding\&quot;&gt;%-encoded&lt;/a&gt;, which is often especially relevant for USER_ID and PROVIDER_ID.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param body BANK_BODY
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddPermissionForUserForBankAccountForMultipleViewsWithHttpInfo = function (body, PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions/${PROVIDER_ID}/${USER_ID}/views'
            .replace('${' + 'PROVIDER_ID' + '}', String(PROVIDER_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddPermissionForUserForBankAccountForMultipleViews.');
        }
        // verify required parameter 'PROVIDER_ID' is not null or undefined
        if (PROVIDER_ID === null || PROVIDER_ID === undefined) {
            throw new Error('Required parameter PROVIDER_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForMultipleViews.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForMultipleViews.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForMultipleViews.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForMultipleViews.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Grant User access to View.
     * &lt;p&gt;Grants the user USER_ID at their provider PROVIDER_ID access to the view VIEW_ID at BANK_ID for account ACCOUNT_ID. All url parameters must be &lt;a href&#x3D;\&quot;http://en.wikipedia.org/wiki/Percent-encoding\&quot;&gt;%-encoded&lt;/a&gt;, which is often especially relevant for USER_ID and PROVIDER_ID.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;&lt;p&gt;Granting access to a public view will return an error message, as the user already has access.&lt;/p&gt;
     * @param body BANK_BODY
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddPermissionForUserForBankAccountForOneViewWithHttpInfo = function (body, PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions/${PROVIDER_ID}/${USER_ID}/views/${VIEW_ID}'
            .replace('${' + 'PROVIDER_ID' + '}', String(PROVIDER_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'PROVIDER_ID' is not null or undefined
        if (PROVIDER_ID === null || PROVIDER_ID === undefined) {
            throw new Error('Required parameter PROVIDER_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddPermissionForUserForBankAccountForOneView.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add a tag.
     * &lt;p&gt;Posts a tag about a transaction TRANSACTION_ID on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; VIEW_ID.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;Authentication is required as the tag is linked with the user.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddTagForViewOnTransactionWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/tags'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddTagForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121AddTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add narrative.
     * &lt;p&gt;Creates a description of the transaction TRANSACTION_ID.&lt;/p&gt;&lt;p&gt;Note: Unlike other items of metadata, there is only one \&quot;narrative\&quot; per transaction accross all views. If you set narrative via a view e.g. view-x it will be seen via view-y (as long as view-y has permission to see the narrative).&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddTransactionNarrativeWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/narrative'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddTransactionNarrative.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121AddTransactionNarrative.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddTransactionNarrative.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddTransactionNarrative.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddTransactionNarrative.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add where tag.
     * &lt;p&gt;Creates a \&quot;where\&quot; Geo tag on a transaction TRANSACTION_ID in a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;The geo tag is linked with the user.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121AddWhereTagForViewOnTransactionWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/where'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121AddWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121AddWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121AddWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121AddWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121AddWhereTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank
     * &lt;p&gt;Get the bank specified by BANK_ID Returns information about a single bank specified by BANK_ID including:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Short and full name of bank&lt;/li&gt;  &lt;li&gt;Logo URL&lt;/li&gt;  &lt;li&gt;Website&lt;/li&gt;&lt;/ul&gt;
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121BankByIdWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121BankById.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete comment.
     * &lt;p&gt;Delete the comment COMMENT_ID about the transaction TRANSACTION_ID made on &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the comment.&lt;/p&gt;
     * @param COMMENT_ID The comment id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCommentForViewOnTransactionWithHttpInfo = function (COMMENT_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/comments/${COMMENT_ID}'
            .replace('${' + 'COMMENT_ID' + '}', String(COMMENT_ID))
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'COMMENT_ID' is not null or undefined
        if (COMMENT_ID === null || COMMENT_ID === undefined) {
            throw new Error('Required parameter COMMENT_ID was null or undefined when calling func121DeleteCommentForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121DeleteCommentForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCommentForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCommentForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCommentForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Corporate Location.
     * &lt;p&gt;Delete corporate location of other bank account. Delete the geolocation of the counterparty&#39;s registered address&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyCorporateLocationWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/corporate_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyCorporateLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyCorporateLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyCorporateLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyCorporateLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Image URL
     * &lt;p&gt;Delete image url of other bank account.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyImageUrlWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/image_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyImageUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyImageUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyImageUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyImageUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete more info of other bank account.
     *
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyMoreInfoWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/more_info'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyMoreInfo.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyMoreInfo.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyMoreInfo.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyMoreInfo.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Open Corporates URL
     * &lt;p&gt;Delete open corporate url of other bank account.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyOpenCorporatesUrlWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/open_corporates_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyOpenCorporatesUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Physical Location.
     * &lt;p&gt;Delete physical location of other bank account.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPhysicalLocationWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/physical_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyPhysicalLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Private Alias
     * &lt;p&gt;Deletes the private alias of the other account OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPrivateAliasWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/private_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPrivateAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyPrivateAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPrivateAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyPrivateAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Counterparty Public Alias
     * &lt;p&gt;Deletes the public alias of the other account OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyPublicAliasWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/public_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPublicAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyPublicAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyPublicAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyPublicAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete url of other bank account.
     *
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteCounterpartyUrlWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteCounterpartyUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteCounterpartyUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteCounterpartyUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete an image
     * &lt;p&gt;Deletes the image IMAGE_ID about the transaction TRANSACTION_ID made on &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the image.&lt;/p&gt;
     * @param IMAGE_ID The image id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteImageForViewOnTransactionWithHttpInfo = function (IMAGE_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/images/${IMAGE_ID}'
            .replace('${' + 'IMAGE_ID' + '}', String(IMAGE_ID))
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'IMAGE_ID' is not null or undefined
        if (IMAGE_ID === null || IMAGE_ID === undefined) {
            throw new Error('Required parameter IMAGE_ID was null or undefined when calling func121DeleteImageForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121DeleteImageForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteImageForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteImageForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteImageForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete a tag.
     * &lt;p&gt;Deletes the tag TAG_ID about the transaction TRANSACTION_ID made on &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required. The user must either have owner privileges for this account, or must be the user that posted the tag.&lt;/p&gt;
     * @param TAG_ID The tag id
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteTagForViewOnTransactionWithHttpInfo = function (TAG_ID, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/tags/${TAG_ID}'
            .replace('${' + 'TAG_ID' + '}', String(TAG_ID))
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TAG_ID' is not null or undefined
        if (TAG_ID === null || TAG_ID === undefined) {
            throw new Error('Required parameter TAG_ID was null or undefined when calling func121DeleteTagForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121DeleteTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete narrative.
     * &lt;p&gt;Deletes the description of the transaction TRANSACTION_ID.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteTransactionNarrativeWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/narrative'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121DeleteTransactionNarrative.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteTransactionNarrative.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteTransactionNarrative.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteTransactionNarrative.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete View
     * &lt;p&gt;Deletes the view specified by VIEW_ID on the bank account specified by ACCOUNT_ID at bank BANK_ID.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteViewForBankAccountWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/views/${VIEW_ID}'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteViewForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteViewForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteViewForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete where tag.
     * &lt;p&gt;Deletes the where tag of the transaction TRANSACTION_ID made on &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;The user must either have owner privileges for this account, or must be the user that posted the geo tag.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121DeleteWhereTagForViewOnTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/where'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121DeleteWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121DeleteWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121DeleteWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121DeleteWhereTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Banks
     * &lt;p&gt;Get banks on this API instance Returns a list of banks supported on this server:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;ID used as parameter in URLs&lt;/li&gt;  &lt;li&gt;Short and full name of bank&lt;/li&gt;  &lt;li&gt;Logo URL&lt;/li&gt;  &lt;li&gt;Website&lt;/li&gt;&lt;/ul&gt;
     */
    Func_1_2_1Service.prototype.func121GetBanksWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/banks';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get comments.
     * &lt;p&gt;Returns the transaction TRANSACTION_ID comments made on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; (VIEW_ID).&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetCommentsForViewOnTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/comments'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetCommentsForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetCommentsForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetCommentsForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetCommentsForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get public alias of other bank account.
     * &lt;p&gt;Returns the public alias of the other account OTHER_ACCOUNT_ID. Authentication is Optional OAuth authentication is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetCounterpartyPublicAliasWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/public_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121GetCounterpartyPublicAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetCounterpartyPublicAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetCounterpartyPublicAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetCounterpartyPublicAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get images.
     * &lt;p&gt;Returns the transaction TRANSACTION_ID images made on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; (VIEW_ID).  Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetImagesForViewOnTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/images'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetImagesForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetImagesForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetImagesForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetImagesForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Other Account by Id.
     * &lt;p&gt;Returns data about the Other Account that has shared at least one transaction with ACCOUNT_ID at BANK_ID. Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountByIdForBankAccountWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121GetOtherAccountByIdForBankAccount.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetOtherAccountByIdForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetOtherAccountByIdForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetOtherAccountByIdForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Other Account of Transaction
     * &lt;p&gt;Get other account of a transaction. Returns details of the other party involved in the transaction, moderated by the &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; (VIEW_ID).  Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountForTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/other_account'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetOtherAccountForTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetOtherAccountForTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetOtherAccountForTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetOtherAccountForTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Other Account Metadata.
     * &lt;p&gt;Get metadata of one other account. Returns only the metadata about one other bank account (OTHER_ACCOUNT_ID) that had shared at least one transaction with ACCOUNT_ID at BANK_ID.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountMetadataWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121GetOtherAccountMetadata.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetOtherAccountMetadata.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetOtherAccountMetadata.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetOtherAccountMetadata.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Other Account Private Alias
     * &lt;p&gt;Returns the private alias of the other account OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountPrivateAliasWithHttpInfo = function (OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/private_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121GetOtherAccountPrivateAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetOtherAccountPrivateAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetOtherAccountPrivateAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetOtherAccountPrivateAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Other Accounts of one Account.
     * &lt;p&gt;Returns data about all the other accounts that have shared at least one transaction with the ACCOUNT_ID at BANK_ID. Authentication is Optional Authentication is required if the view VIEW_ID is not public.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetOtherAccountsForBankAccountWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetOtherAccountsForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetOtherAccountsForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetOtherAccountsForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get tags.
     * &lt;p&gt;Returns the transaction TRANSACTION_ID tags made on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; (VIEW_ID).  Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTagsForViewOnTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/tags'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetTagsForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetTagsForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetTagsForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetTagsForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transaction by Id.
     * &lt;p&gt;Returns one transaction specified by TRANSACTION_ID of the account ACCOUNT_ID and &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;moderated&lt;/a&gt; by the view (VIEW_ID).&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTransactionByIdForBankAccountWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/transaction'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetTransactionByIdForBankAccount.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetTransactionByIdForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetTransactionByIdForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetTransactionByIdForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get narrative.
     * &lt;p&gt;Returns the account owner description of the transaction &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;moderated&lt;/a&gt; by the view.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetTransactionNarrativeWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/narrative'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetTransactionNarrative.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetTransactionNarrative.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetTransactionNarrative.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetTransactionNarrative.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get where tag.
     * &lt;p&gt;Returns the \&quot;where\&quot; Geo tag added to the transaction TRANSACTION_ID made on a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt; (VIEW_ID). It represents the location where the transaction has been initiated.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121GetWhereTagForViewOnTransactionWithHttpInfo = function (TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/where'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121GetWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121GetWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121GetWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121GetWhereTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Revoke access to all Views on Account
     * &lt;p&gt;Revokes the user USER_ID at their provider PROVIDER_ID access to all the views at BANK_ID for account ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121RemovePermissionForUserForBankAccountForAllViewsWithHttpInfo = function (PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions/${PROVIDER_ID}/${USER_ID}/views'
            .replace('${' + 'PROVIDER_ID' + '}', String(PROVIDER_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'PROVIDER_ID' is not null or undefined
        if (PROVIDER_ID === null || PROVIDER_ID === undefined) {
            throw new Error('Required parameter PROVIDER_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForAllViews.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForAllViews.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForAllViews.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForAllViews.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Revoke access to one View.
     * &lt;p&gt;Revokes the user USER_ID at their provider PROVIDER_ID access to the view VIEW_ID at BANK_ID for account ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Revoking a user access to a public view will return an error message.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121RemovePermissionForUserForBankAccountForOneViewWithHttpInfo = function (PROVIDER_ID, USER_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions/${PROVIDER_ID}/${USER_ID}/views/${VIEW_ID}'
            .replace('${' + 'PROVIDER_ID' + '}', String(PROVIDER_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'PROVIDER_ID' is not null or undefined
        if (PROVIDER_ID === null || PROVIDER_ID === undefined) {
            throw new Error('Required parameter PROVIDER_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForOneView.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121RemovePermissionForUserForBankAccountForOneView.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * The root of the API
     * &lt;p&gt;Returns information about:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;API version&lt;/li&gt;  &lt;li&gt;Hosted by information&lt;/li&gt;  &lt;li&gt;Git Commit&lt;/li&gt;&lt;/ul&gt;
     */
    Func_1_2_1Service.prototype.func121RootWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/root';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Account Label.
     * &lt;p&gt;Update the label for the account. The label is how the account is known to the account owner e.g. &#39;My savings account&#39; &lt;/p&gt;
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateAccountLabelWithHttpInfo = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateAccountLabel.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateAccountLabel.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateAccountLabel.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Counterparty Corporate Location
     * &lt;p&gt;Update the geolocation of the counterparty&#39;s registered address&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyCorporateLocationWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/corporate_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyCorporateLocation.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyCorporateLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyCorporateLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyCorporateLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyCorporateLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Counterparty Image Url
     * &lt;p&gt;Update the url that points to the logo of the counterparty&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyImageUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/image_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyImageUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyImageUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyImageUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyImageUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyImageUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Counterparty More Info
     * &lt;p&gt;Update the more info description of the counter party from the perpestive of the account e.g. My dentist.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyMoreInfoWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/more_info'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyMoreInfo.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyMoreInfo.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyMoreInfo.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyMoreInfo.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyMoreInfo.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Open Corporates Url of Counterparty
     * &lt;p&gt;Update open corporate url of other bank account.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyOpenCorporatesUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/open_corporates_url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyOpenCorporatesUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyOpenCorporatesUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Counterparty Physical Location
     * &lt;p&gt;Update geocoordinates of the counterparty&#39;s main location&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPhysicalLocationWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/physical_location'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPhysicalLocation.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyPhysicalLocation.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Counterparty Private Alias
     * &lt;p&gt;Updates the private alias of the counterparty (AKA other account) OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPrivateAliasWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/private_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyPrivateAlias.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPrivateAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyPrivateAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPrivateAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyPrivateAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update public alias of other bank account.
     * &lt;p&gt;Updates the public alias of the other account / counterparty OTHER_ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is Optional Authentication is required if the view is not public.&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyPublicAliasWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/public_alias'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyPublicAlias.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPublicAlias.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyPublicAlias.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyPublicAlias.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyPublicAlias.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update url of other bank account.
     * &lt;p&gt;A url which represents the counterparty (home page url etc.)&lt;/p&gt;
     * @param body BANK_BODY
     * @param OTHER_ACCOUNT_ID The other account id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateCounterpartyUrlWithHttpInfo = function (body, OTHER_ACCOUNT_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/other_accounts/${OTHER_ACCOUNT_ID}/metadata/url'
            .replace('${' + 'OTHER_ACCOUNT_ID' + '}', String(OTHER_ACCOUNT_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateCounterpartyUrl.');
        }
        // verify required parameter 'OTHER_ACCOUNT_ID' is not null or undefined
        if (OTHER_ACCOUNT_ID === null || OTHER_ACCOUNT_ID === undefined) {
            throw new Error('Required parameter OTHER_ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyUrl.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateCounterpartyUrl.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateCounterpartyUrl.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateCounterpartyUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update narrative.
     * &lt;p&gt;Updates the description of the transaction TRANSACTION_ID.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateTransactionNarrativeWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/narrative'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateTransactionNarrative.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121UpdateTransactionNarrative.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateTransactionNarrative.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateTransactionNarrative.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateTransactionNarrative.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update where tag.
     * &lt;p&gt;Updates the \&quot;where\&quot; Geo tag on a transaction TRANSACTION_ID in a &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;view&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;The geo tag is linked with the user.&lt;/p&gt;
     * @param body BANK_BODY
     * @param TRANSACTION_ID The transaction id
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_2_1Service.prototype.func121UpdateWhereTagForViewOnTransactionWithHttpInfo = function (body, TRANSACTION_ID, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions/${TRANSACTION_ID}/metadata/where'
            .replace('${' + 'TRANSACTION_ID' + '}', String(TRANSACTION_ID))
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func121UpdateWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'TRANSACTION_ID' is not null or undefined
        if (TRANSACTION_ID === null || TRANSACTION_ID === undefined) {
            throw new Error('Required parameter TRANSACTION_ID was null or undefined when calling func121UpdateWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func121UpdateWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func121UpdateWhereTagForViewOnTransaction.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func121UpdateWhereTagForViewOnTransaction.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_1_2_1Service;
}());
Func_1_2_1Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_1_2_1Service);



/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_1_3_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_1_3_0Service = (function () {
    function Func_1_3_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_1_3_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_1_3_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Returns data about all the physical cards a user has been issued. These could be debit cards, credit cards, etc.</p>
     * @summary Get cards for the current user
     */
    Func_1_3_0Service.prototype.func130GetCards = function (extraHttpRequestParams) {
        return this.func130GetCardsWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     *
     * @summary Get cards for the specified bank
     * @param BANK_ID The bank id
     */
    Func_1_3_0Service.prototype.func130GetCardsForBank = function (BANK_ID, extraHttpRequestParams) {
        return this.func130GetCardsForBankWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Get cards for the current user
     * &lt;p&gt;Returns data about all the physical cards a user has been issued. These could be debit cards, credit cards, etc.&lt;/p&gt;
     */
    Func_1_3_0Service.prototype.func130GetCardsWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/cards';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get cards for the specified bank
     *
     * @param BANK_ID The bank id
     */
    Func_1_3_0Service.prototype.func130GetCardsForBankWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/cards'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func130GetCardsForBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_1_3_0Service;
}());
Func_1_3_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_1_3_0Service);



/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_1_4_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_1_4_0Service = (function () {
    function Func_1_4_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_1_4_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_1_4_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Add a message for the customer specified by CUSTOMER_ID</p>
     * @summary Add Customer Message.
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140AddCustomerMessage = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func140AddCustomerMessageWithHttpInfo(body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     *
     * @summary Get CRM Events for the logged in user
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetCrmEvents = function (BANK_ID, extraHttpRequestParams) {
        return this.func140GetCrmEventsWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get messages for the logged in customer Messages sent to the currently authenticated user.</p><p>Authentication via OAuth is required.</p>
     * @summary Get Customer Messages (current)
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetCustomerMessages = function (BANK_ID, extraHttpRequestParams) {
        return this.func140GetCustomerMessagesWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the Transation Request Types that the account specified by ACCOUNT_ID and view specified by VIEW_ID has access to.</p><p>These are the ways this API Server can create a Transaction via a Transaction Request (as opposed to Transaction Types which include external types too e.g. for Transactions created by core banking etc.)</p><p>A Transaction Request Type internally determines:</p><ul>  <li>the required Transaction Request 'body' i.e. fields that define the 'what' and 'to' of a Transaction Request,</li>  <li>the type of security challenge that may be be raised before the Transaction Request proceeds, and</li>  <li>the threshold of that challenge.</li></ul><p>For instance in a 'SANDBOX_TAN' Transaction Request, for amounts over 1000 currency units, the user must supply a positive integer to complete the Transaction Request and create a Transaction.</p><p>This approach aims to provide only one endpoint for initiating transactions, and one that handles challenges, whilst still allowing flexibility with the payload and internal logic.</p>
     * @summary Get Transaction Request Types for Account
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetTransactionRequestTypes = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func140GetTransactionRequestTypesWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Add Customer Message.
     * &lt;p&gt;Add a message for the customer specified by CUSTOMER_ID&lt;/p&gt;
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140AddCustomerMessageWithHttpInfo = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customer/${CUSTOMER_ID}/messages'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func140AddCustomerMessage.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func140AddCustomerMessage.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func140AddCustomerMessage.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get CRM Events for the logged in user
     *
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetCrmEventsWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/crm-events'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func140GetCrmEvents.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Customer Messages (current)
     * &lt;p&gt;Get messages for the logged in customer Messages sent to the currently authenticated user.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetCustomerMessagesWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customer/messages'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func140GetCustomerMessages.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transaction Request Types for Account
     * &lt;p&gt;Returns the Transation Request Types that the account specified by ACCOUNT_ID and view specified by VIEW_ID has access to.&lt;/p&gt;&lt;p&gt;These are the ways this API Server can create a Transaction via a Transaction Request (as opposed to Transaction Types which include external types too e.g. for Transactions created by core banking etc.)&lt;/p&gt;&lt;p&gt;A Transaction Request Type internally determines:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;the required Transaction Request &#39;body&#39; i.e. fields that define the &#39;what&#39; and &#39;to&#39; of a Transaction Request,&lt;/li&gt;  &lt;li&gt;the type of security challenge that may be be raised before the Transaction Request proceeds, and&lt;/li&gt;  &lt;li&gt;the threshold of that challenge.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;For instance in a &#39;SANDBOX_TAN&#39; Transaction Request, for amounts over 1000 currency units, the user must supply a positive integer to complete the Transaction Request and create a Transaction.&lt;/p&gt;&lt;p&gt;This approach aims to provide only one endpoint for initiating transactions, and one that handles challenges, whilst still allowing flexibility with the payload and internal logic.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_1_4_0Service.prototype.func140GetTransactionRequestTypesWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transaction-request-types'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func140GetTransactionRequestTypes.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func140GetTransactionRequestTypes.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func140GetTransactionRequestTypes.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_1_4_0Service;
}());
Func_1_4_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_1_4_0Service);



/***/ }),
/* 8 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_2_0_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_2_0_0Service = (function () {
    function Func_2_0_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_2_0_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_2_0_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Create Entitlement. Grant Role to User.</p><p>Entitlements are used to grant System or Bank level roles to Users. (For Account level privileges, see Views)</p><p>For a System level Role (.e.g CanGetAnyUser), set bank_id to an empty string i.e. \"bank_id\":\"\"</p><p>For a Bank level Role (e.g. CanCreateAccount), set bank_id to a valid value e.g. \"bank_id\":\"my-bank-id\"</p><p>Authentication is required and the user needs to be a Super Admin. Super Admins are listed in the Props file.</p>
     * @summary Add Entitlement for a User.
     * @param body BANK_BODY
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200AddEntitlement = function (body, USER_ID, extraHttpRequestParams) {
        return this.func200AddEntitlementWithHttpInfo(body, USER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a KYC check for the customer specified by CUSTOMER_ID. KYC Checks store details of checks on a customer made by the KYC team, their comments and a satisfied status.</p>
     * @summary Add KYC Check
     * @param body BANK_BODY
     * @param KYC_CHECK_ID The kyc check id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycCheck = function (body, KYC_CHECK_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200AddKycCheckWithHttpInfo(body, KYC_CHECK_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a KYC document for the customer specified by CUSTOMER_ID. KYC Documents contain the document type (e.g. passport), place of issue, expiry etc. </p>
     * @summary Add KYC Document.
     * @param body BANK_BODY
     * @param KYC_DOCUMENT_ID The kyc document id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycDocument = function (body, KYC_DOCUMENT_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200AddKycDocumentWithHttpInfo(body, KYC_DOCUMENT_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add some KYC media for the customer specified by CUSTOMER_ID. KYC Media resources relate to KYC Documents and KYC Checks and contain media urls for scans of passports, utility bills etc.</p>
     * @summary Add KYC Media.
     * @param body BANK_BODY
     * @param KYC_MEDIA_ID The kyc media id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycMedia = function (body, KYC_MEDIA_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200AddKycMediaWithHttpInfo(body, KYC_MEDIA_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a kyc_status for the customer specified by CUSTOMER_ID. KYC Status is a timeline of the KYC status of the customer</p>
     * @summary Add KYC Status
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycStatus = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200AddKycStatusWithHttpInfo(body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a social media handle for the customer specified by CUSTOMER_ID.</p>
     * @summary Add Social Media Handle
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddSocialMediaHandle = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200AddSocialMediaHandleWithHttpInfo(body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get accounts at one bank that the user has access to (Authenticated + Anonymous access). Returns the list of accounts at BANK_ID that the user has access to. For each account the API returns the account ID and the available views.</p><p>If the user is not authenticated, the list will contain only the accounts providing public views. Authentication is Optional</p>
     * @summary Get Accounts at one Bank (Public and Private).
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AllAccountsAtOneBank = function (BANK_ID, extraHttpRequestParams) {
        return this.func200AllAccountsAtOneBankWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create Meeting: Initiate a video conference/call with the bank.</p><p>The Meetings resource contains meta data about video/other conference sessions, not the video/audio/chat itself.</p><p>The actual conferencing is handled by external providers. Currently OBP supports tokbox video conferences (WIP).</p><p>This is not a recomendation of tokbox per se.</p><p>provider_id determines the provider of the meeting / video chat service. MUST be url friendly (no spaces).</p><p>purpose_id explains the purpose of the chat. onboarding | mortgage | complaint etc. MUST be url friendly (no spaces).</p><p>Login is required.</p><p>This call is <strong>experimental</strong>. Currently staff_user_id is not set. Further calls will be needed to correctly set this.</p>
     * @summary Create Meeting (video conference/call)
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200CreateMeeting = function (body, BANK_ID, extraHttpRequestParams) {
        return this.func200CreateMeetingWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Creates OBP user.  No authorisation (currently) required.</p><p>Mimics current webform to Register.</p><p>Requires username(email) and password.</p><p>Returns 409 error if username not unique.</p><p>May require validation of email address.</p>
     * @summary Create User.
     * @param body BANK_BODY
     */
    Func_2_0_0Service.prototype.func200CreateUser = function (body, extraHttpRequestParams) {
        return this.func200CreateUserWithHttpInfo(body, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Link a User to a Customer</p><p>Authentication is Mandatory</p><p>CanCreateUserCustomerLink OR CanCreateUserCustomerLinkAtAnyBank entitlements are required.</p>
     * @summary Create User Customer Link.
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200CreateUserCustomerLinks = function (body, BANK_ID, extraHttpRequestParams) {
        return this.func200CreateUserCustomerLinksWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Delete Entitlement specified by ENTITLEMENT_ID for an user specified by USER_ID</p><p>Authentication is required and the user needs to be a Super Admin. Super Admins are listed in the Props file.</p>
     * @summary Delete Entitlement
     * @param ENTITLEMENT_ID The entitblement id
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200DeleteEntitlement = function (ENTITLEMENT_ID, USER_ID, extraHttpRequestParams) {
        return this.func200DeleteEntitlementWithHttpInfo(ENTITLEMENT_ID, USER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Login is required.</p>
     * @summary Get all Entitlements
     */
    Func_2_0_0Service.prototype.func200GetAllEntitlements = function (extraHttpRequestParams) {
        return this.func200GetAllEntitlementsWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the logged in user</p><p>Login is required.</p>
     * @summary Get User (Current)
     */
    Func_2_0_0Service.prototype.func200GetCurrentUser = function (extraHttpRequestParams) {
        return this.func200GetCurrentUserWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Login is required.</p>
     * @summary Get Entitlements specified by USER_ID
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200GetEntitlements = function (USER_ID, extraHttpRequestParams) {
        return this.func200GetEntitlementsWithHttpInfo(USER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get KYC checks for the logged in customer Messages sent to the currently authenticated user.</p><p>Authentication is Mandatory</p>
     * @summary Get KYC Checks for current Customer
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycChecks = function (CUSTOMER_ID, extraHttpRequestParams) {
        return this.func200GetKycChecksWithHttpInfo(CUSTOMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get KYC (know your customer) documents for a customer Get a list of documents that affirm the identity of the customer Passport, driving licence etc. Authentication is Optional</p>
     * @summary Get KYC Documents for Customer
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycDocuments = function (CUSTOMER_ID, extraHttpRequestParams) {
        return this.func200GetKycDocumentsWithHttpInfo(CUSTOMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get KYC media (scans, pictures, videos) that affirms the identity of the customer.</p><p>Authentication is Mandatory</p>
     * @summary Get KYC Media for a customer
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycMedia = function (CUSTOMER_ID, extraHttpRequestParams) {
        return this.func200GetKycMediaWithHttpInfo(CUSTOMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the KYC statuses for a customer over time</p><p>Authentication is Mandatory</p>
     * @summary Get the KYC statuses for a customer
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycStatuses = function (CUSTOMER_ID, extraHttpRequestParams) {
        return this.func200GetKycStatusesWithHttpInfo(CUSTOMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get Meeting specified by BANK_ID / MEETING_ID Meetings contain meta data about, and are used to facilitate, video conferences / chats etc.</p><p>The actual conference/chats are handled by external services.</p><p>Login is required.</p><p>This call is <strong>experimental</strong> and will require further authorisation in the future.</p>
     * @summary Get Meeting
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetMeeting = function (BANK_ID, extraHttpRequestParams) {
        return this.func200GetMeetingWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Meetings contain meta data about, and are used to facilitate, video conferences / chats etc.</p><p>The actual conference/chats are handled by external services.</p><p>Login is required.</p><p>This call is <strong>experimental</strong> and will require further authorisation in the future.</p>
     * @summary Get Meetings
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetMeetings = function (BANK_ID, extraHttpRequestParams) {
        return this.func200GetMeetingsWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the list of the views at BANK_ID for account ACCOUNT_ID that a USER_ID at their provider PROVIDER_ID has access to. All url parameters must be <a href=\"http://en.wikipedia.org/wiki/Percent-encoding\">%-encoded</a>, which is often especially relevant for USER_ID and PROVIDER_ID.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Get access for specific user.
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetPermissionForUserForBankAccount = function (PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200GetPermissionForUserForBankAccountWithHttpInfo(PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the list of the permissions at BANK_ID for account ACCOUNT_ID, with each time a pair composed of the user and the views that he has access to.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Get access.
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetPermissionsForBankAccount = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200GetPermissionsForBankAccountWithHttpInfo(ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get social media handles for a customer.</p><p>Authentication is Mandatory</p>
     * @summary Get social media handles for a customer
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetSocialMediaHandles = function (CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        return this.func200GetSocialMediaHandlesWithHttpInfo(CUSTOMER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get Transaction Types for the bank specified by BANK_ID:</p><p>Lists the possible Transaction Types available at the bank (as opposed to Transaction Request Types which are the possible ways Transactions can be created by this API Server).</p><ul>  <li>id : Unique transaction type id across the API instance. SHOULD be a UUID. MUST be unique.</li>  <li>bank_id : The bank that supports this TransactionType</li>  <li>short_code : A short code (SHOULD have no-spaces) which MUST be unique across the bank. May be stored with Transactions to link here</li>  <li>summary : A succinct summary</li>  <li>description : A longer description</li>  <li>charge : The charge to the customer for each one of these</li></ul><p>Authentication is Optional</p>
     * @summary Get Transaction Types offered by the bank
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetTransactionTypes = function (BANK_ID, extraHttpRequestParams) {
        return this.func200GetTransactionTypesWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns the list of private (non-public) accounts at BANK_ID that the user has access to. For each account the API returns the ID and the available views.</p><p>If you want to see more information on the Views, use the Account Detail call. If you want less information about the account, use the /my accounts call</p><p>Authentication is Mandatory</p>
     * @summary Get private accounts at one bank (Authenticated access).
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200PrivateAccountsAtOneBank = function (BANK_ID, extraHttpRequestParams) {
        return this.func200PrivateAccountsAtOneBankWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get public accounts at all banks (Anonymous access). Returns accounts that contain at least one public view (a view where is_public is true) For each account the API returns the ID and the available views.</p><p>Authentication is Optional</p>
     * @summary Get Public Accounts at all Banks.
     */
    Func_2_0_0Service.prototype.func200PublicAccountsAllBanks = function (extraHttpRequestParams) {
        return this.func200PublicAccountsAllBanksWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns a list of the public accounts (Anonymous access) at BANK_ID. For each account the API returns the ID and the available views.</p><p>Authentication via OAuth is not required.</p>
     * @summary Get Accounts at Bank (Public)
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200PublicAccountsAtOneBank = function (BANK_ID, extraHttpRequestParams) {
        return this.func200PublicAccountsAtOneBankWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Add Entitlement for a User.
     * &lt;p&gt;Create Entitlement. Grant Role to User.&lt;/p&gt;&lt;p&gt;Entitlements are used to grant System or Bank level roles to Users. (For Account level privileges, see Views)&lt;/p&gt;&lt;p&gt;For a System level Role (.e.g CanGetAnyUser), set bank_id to an empty string i.e. \&quot;bank_id\&quot;:\&quot;\&quot;&lt;/p&gt;&lt;p&gt;For a Bank level Role (e.g. CanCreateAccount), set bank_id to a valid value e.g. \&quot;bank_id\&quot;:\&quot;my-bank-id\&quot;&lt;/p&gt;&lt;p&gt;Authentication is required and the user needs to be a Super Admin. Super Admins are listed in the Props file.&lt;/p&gt;
     * @param body BANK_BODY
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200AddEntitlementWithHttpInfo = function (body, USER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/users/${USER_ID}/entitlements'
            .replace('${' + 'USER_ID' + '}', String(USER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddEntitlement.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func200AddEntitlement.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add KYC Check
     * &lt;p&gt;Add a KYC check for the customer specified by CUSTOMER_ID. KYC Checks store details of checks on a customer made by the KYC team, their comments and a satisfied status.&lt;/p&gt;
     * @param body BANK_BODY
     * @param KYC_CHECK_ID The kyc check id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycCheckWithHttpInfo = function (body, KYC_CHECK_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/kyc_check/${KYC_CHECK_ID}'
            .replace('${' + 'KYC_CHECK_ID' + '}', String(KYC_CHECK_ID))
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddKycCheck.');
        }
        // verify required parameter 'KYC_CHECK_ID' is not null or undefined
        if (KYC_CHECK_ID === null || KYC_CHECK_ID === undefined) {
            throw new Error('Required parameter KYC_CHECK_ID was null or undefined when calling func200AddKycCheck.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200AddKycCheck.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AddKycCheck.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add KYC Document.
     * &lt;p&gt;Add a KYC document for the customer specified by CUSTOMER_ID. KYC Documents contain the document type (e.g. passport), place of issue, expiry etc. &lt;/p&gt;
     * @param body BANK_BODY
     * @param KYC_DOCUMENT_ID The kyc document id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycDocumentWithHttpInfo = function (body, KYC_DOCUMENT_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/kyc_documents/${KYC_DOCUMENT_ID}'
            .replace('${' + 'KYC_DOCUMENT_ID' + '}', String(KYC_DOCUMENT_ID))
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddKycDocument.');
        }
        // verify required parameter 'KYC_DOCUMENT_ID' is not null or undefined
        if (KYC_DOCUMENT_ID === null || KYC_DOCUMENT_ID === undefined) {
            throw new Error('Required parameter KYC_DOCUMENT_ID was null or undefined when calling func200AddKycDocument.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200AddKycDocument.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AddKycDocument.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add KYC Media.
     * &lt;p&gt;Add some KYC media for the customer specified by CUSTOMER_ID. KYC Media resources relate to KYC Documents and KYC Checks and contain media urls for scans of passports, utility bills etc.&lt;/p&gt;
     * @param body BANK_BODY
     * @param KYC_MEDIA_ID The kyc media id
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycMediaWithHttpInfo = function (body, KYC_MEDIA_ID, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/kyc_media/${KYC_MEDIA_ID}'
            .replace('${' + 'KYC_MEDIA_ID' + '}', String(KYC_MEDIA_ID))
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddKycMedia.');
        }
        // verify required parameter 'KYC_MEDIA_ID' is not null or undefined
        if (KYC_MEDIA_ID === null || KYC_MEDIA_ID === undefined) {
            throw new Error('Required parameter KYC_MEDIA_ID was null or undefined when calling func200AddKycMedia.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200AddKycMedia.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AddKycMedia.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add KYC Status
     * &lt;p&gt;Add a kyc_status for the customer specified by CUSTOMER_ID. KYC Status is a timeline of the KYC status of the customer&lt;/p&gt;
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddKycStatusWithHttpInfo = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/kyc_statuses'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddKycStatus.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200AddKycStatus.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AddKycStatus.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Add Social Media Handle
     * &lt;p&gt;Add a social media handle for the customer specified by CUSTOMER_ID.&lt;/p&gt;
     * @param body BANK_BODY
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AddSocialMediaHandleWithHttpInfo = function (body, CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/social_media_handles'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200AddSocialMediaHandle.');
        }
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200AddSocialMediaHandle.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AddSocialMediaHandle.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Accounts at one Bank (Public and Private).
     * &lt;p&gt;Get accounts at one bank that the user has access to (Authenticated + Anonymous access). Returns the list of accounts at BANK_ID that the user has access to. For each account the API returns the account ID and the available views.&lt;/p&gt;&lt;p&gt;If the user is not authenticated, the list will contain only the accounts providing public views. Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200AllAccountsAtOneBankWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200AllAccountsAtOneBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Meeting (video conference/call)
     * &lt;p&gt;Create Meeting: Initiate a video conference/call with the bank.&lt;/p&gt;&lt;p&gt;The Meetings resource contains meta data about video/other conference sessions, not the video/audio/chat itself.&lt;/p&gt;&lt;p&gt;The actual conferencing is handled by external providers. Currently OBP supports tokbox video conferences (WIP).&lt;/p&gt;&lt;p&gt;This is not a recomendation of tokbox per se.&lt;/p&gt;&lt;p&gt;provider_id determines the provider of the meeting / video chat service. MUST be url friendly (no spaces).&lt;/p&gt;&lt;p&gt;purpose_id explains the purpose of the chat. onboarding | mortgage | complaint etc. MUST be url friendly (no spaces).&lt;/p&gt;&lt;p&gt;Login is required.&lt;/p&gt;&lt;p&gt;This call is &lt;strong&gt;experimental&lt;/strong&gt;. Currently staff_user_id is not set. Further calls will be needed to correctly set this.&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200CreateMeetingWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/meetings'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200CreateMeeting.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200CreateMeeting.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create User.
     * &lt;p&gt;Creates OBP user.  No authorisation (currently) required.&lt;/p&gt;&lt;p&gt;Mimics current webform to Register.&lt;/p&gt;&lt;p&gt;Requires username(email) and password.&lt;/p&gt;&lt;p&gt;Returns 409 error if username not unique.&lt;/p&gt;&lt;p&gt;May require validation of email address.&lt;/p&gt;
     * @param body BANK_BODY
     */
    Func_2_0_0Service.prototype.func200CreateUserWithHttpInfo = function (body, extraHttpRequestParams) {
        var path = this.basePath + '/users';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200CreateUser.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create User Customer Link.
     * &lt;p&gt;Link a User to a Customer&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;CanCreateUserCustomerLink OR CanCreateUserCustomerLinkAtAnyBank entitlements are required.&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200CreateUserCustomerLinksWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/user_customer_links'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func200CreateUserCustomerLinks.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200CreateUserCustomerLinks.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Delete Entitlement
     * &lt;p&gt;Delete Entitlement specified by ENTITLEMENT_ID for an user specified by USER_ID&lt;/p&gt;&lt;p&gt;Authentication is required and the user needs to be a Super Admin. Super Admins are listed in the Props file.&lt;/p&gt;
     * @param ENTITLEMENT_ID The entitblement id
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200DeleteEntitlementWithHttpInfo = function (ENTITLEMENT_ID, USER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/users/${USER_ID}/entitlement/${ENTITLEMENT_ID}'
            .replace('${' + 'ENTITLEMENT_ID' + '}', String(ENTITLEMENT_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'ENTITLEMENT_ID' is not null or undefined
        if (ENTITLEMENT_ID === null || ENTITLEMENT_ID === undefined) {
            throw new Error('Required parameter ENTITLEMENT_ID was null or undefined when calling func200DeleteEntitlement.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func200DeleteEntitlement.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Delete,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get all Entitlements
     * &lt;p&gt;Login is required.&lt;/p&gt;
     */
    Func_2_0_0Service.prototype.func200GetAllEntitlementsWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/entitlements';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get User (Current)
     * &lt;p&gt;Get the logged in user&lt;/p&gt;&lt;p&gt;Login is required.&lt;/p&gt;
     */
    Func_2_0_0Service.prototype.func200GetCurrentUserWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/users/current';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Entitlements specified by USER_ID
     * &lt;p&gt;Login is required.&lt;/p&gt;
     * @param USER_ID The user id
     */
    Func_2_0_0Service.prototype.func200GetEntitlementsWithHttpInfo = function (USER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/users/${USER_ID}/entitlements'
            .replace('${' + 'USER_ID' + '}', String(USER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func200GetEntitlements.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get KYC Checks for current Customer
     * &lt;p&gt;Get KYC checks for the logged in customer Messages sent to the currently authenticated user.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycChecksWithHttpInfo = function (CUSTOMER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/customers/${CUSTOMER_ID}/kyc_checks'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200GetKycChecks.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get KYC Documents for Customer
     * &lt;p&gt;Get KYC (know your customer) documents for a customer Get a list of documents that affirm the identity of the customer Passport, driving licence etc. Authentication is Optional&lt;/p&gt;
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycDocumentsWithHttpInfo = function (CUSTOMER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/customers/${CUSTOMER_ID}/kyc_documents'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200GetKycDocuments.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get KYC Media for a customer
     * &lt;p&gt;Get KYC media (scans, pictures, videos) that affirms the identity of the customer.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycMediaWithHttpInfo = function (CUSTOMER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/customers/${CUSTOMER_ID}/kyc_media'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200GetKycMedia.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get the KYC statuses for a customer
     * &lt;p&gt;Get the KYC statuses for a customer over time&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param CUSTOMER_ID The customer id
     */
    Func_2_0_0Service.prototype.func200GetKycStatusesWithHttpInfo = function (CUSTOMER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/customers/${CUSTOMER_ID}/kyc_statuses'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200GetKycStatuses.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Meeting
     * &lt;p&gt;Get Meeting specified by BANK_ID / MEETING_ID Meetings contain meta data about, and are used to facilitate, video conferences / chats etc.&lt;/p&gt;&lt;p&gt;The actual conference/chats are handled by external services.&lt;/p&gt;&lt;p&gt;Login is required.&lt;/p&gt;&lt;p&gt;This call is &lt;strong&gt;experimental&lt;/strong&gt; and will require further authorisation in the future.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetMeetingWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/meetings/MEETING_ID'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetMeeting.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Meetings
     * &lt;p&gt;Meetings contain meta data about, and are used to facilitate, video conferences / chats etc.&lt;/p&gt;&lt;p&gt;The actual conference/chats are handled by external services.&lt;/p&gt;&lt;p&gt;Login is required.&lt;/p&gt;&lt;p&gt;This call is &lt;strong&gt;experimental&lt;/strong&gt; and will require further authorisation in the future.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetMeetingsWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/meetings'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetMeetings.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get access for specific user.
     * &lt;p&gt;Returns the list of the views at BANK_ID for account ACCOUNT_ID that a USER_ID at their provider PROVIDER_ID has access to. All url parameters must be &lt;a href&#x3D;\&quot;http://en.wikipedia.org/wiki/Percent-encoding\&quot;&gt;%-encoded&lt;/a&gt;, which is often especially relevant for USER_ID and PROVIDER_ID.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param PROVIDER_ID The provider id
     * @param USER_ID The user id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetPermissionForUserForBankAccountWithHttpInfo = function (PROVIDER_ID, USER_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions/${PROVIDER_ID}/${USER_ID}'
            .replace('${' + 'PROVIDER_ID' + '}', String(PROVIDER_ID))
            .replace('${' + 'USER_ID' + '}', String(USER_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'PROVIDER_ID' is not null or undefined
        if (PROVIDER_ID === null || PROVIDER_ID === undefined) {
            throw new Error('Required parameter PROVIDER_ID was null or undefined when calling func200GetPermissionForUserForBankAccount.');
        }
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func200GetPermissionForUserForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func200GetPermissionForUserForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetPermissionForUserForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get access.
     * &lt;p&gt;Returns the list of the permissions at BANK_ID for account ACCOUNT_ID, with each time a pair composed of the user and the views that he has access to.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetPermissionsForBankAccountWithHttpInfo = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/permissions'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func200GetPermissionsForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetPermissionsForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get social media handles for a customer
     * &lt;p&gt;Get social media handles for a customer.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param CUSTOMER_ID The customer id
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetSocialMediaHandlesWithHttpInfo = function (CUSTOMER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/customers/${CUSTOMER_ID}/social_media_handles'
            .replace('${' + 'CUSTOMER_ID' + '}', String(CUSTOMER_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CUSTOMER_ID' is not null or undefined
        if (CUSTOMER_ID === null || CUSTOMER_ID === undefined) {
            throw new Error('Required parameter CUSTOMER_ID was null or undefined when calling func200GetSocialMediaHandles.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetSocialMediaHandles.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transaction Types offered by the bank
     * &lt;p&gt;Get Transaction Types for the bank specified by BANK_ID:&lt;/p&gt;&lt;p&gt;Lists the possible Transaction Types available at the bank (as opposed to Transaction Request Types which are the possible ways Transactions can be created by this API Server).&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;id : Unique transaction type id across the API instance. SHOULD be a UUID. MUST be unique.&lt;/li&gt;  &lt;li&gt;bank_id : The bank that supports this TransactionType&lt;/li&gt;  &lt;li&gt;short_code : A short code (SHOULD have no-spaces) which MUST be unique across the bank. May be stored with Transactions to link here&lt;/li&gt;  &lt;li&gt;summary : A succinct summary&lt;/li&gt;  &lt;li&gt;description : A longer description&lt;/li&gt;  &lt;li&gt;charge : The charge to the customer for each one of these&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200GetTransactionTypesWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/transaction-types'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200GetTransactionTypes.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get private accounts at one bank (Authenticated access).
     * &lt;p&gt;Returns the list of private (non-public) accounts at BANK_ID that the user has access to. For each account the API returns the ID and the available views.&lt;/p&gt;&lt;p&gt;If you want to see more information on the Views, use the Account Detail call. If you want less information about the account, use the /my accounts call&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200PrivateAccountsAtOneBankWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/private'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200PrivateAccountsAtOneBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Public Accounts at all Banks.
     * &lt;p&gt;Get public accounts at all banks (Anonymous access). Returns accounts that contain at least one public view (a view where is_public is true) For each account the API returns the ID and the available views.&lt;/p&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     */
    Func_2_0_0Service.prototype.func200PublicAccountsAllBanksWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/accounts/public';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Accounts at Bank (Public)
     * &lt;p&gt;Returns a list of the public accounts (Anonymous access) at BANK_ID. For each account the API returns the ID and the available views.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is not required.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_0_0Service.prototype.func200PublicAccountsAtOneBankWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/public'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func200PublicAccountsAtOneBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_2_0_0Service;
}());
Func_2_0_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_2_0_0Service);



/***/ }),
/* 9 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_2_1_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__configuration__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__variables__ = __webpack_require__(3);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the
 * AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_2_1_0Service = (function () {
    function Func_2_1_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_3__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_2_1_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_2_1_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Import bulk data into the sandbox (Authenticated access).</p><p>This is
     * can be used to create cards which are stored in the local RDBMS.
     * Authentication is Mandatory</p>
     * @summary Add cards for a bank
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210AddCardsForBank = function (body, BANK_ID, extraHttpRequestParams) {
        return this
            .func210AddCardsForBankWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create counterparty.</p><p>Counterparties are created for the account /
     * view They are how the user of the view (e.g. account owner) refers to the
     * other side of the transaction</p><p>name is the human readable name (e.g.
     * Piano teacher, Miss Nipa)</p><p>other_bank_id is an (internal) ID for the
     * bank of the bank of the counterparty (if known)</p><p>other_account_id is
     * an (internal) ID for the bank account of the counterparty (if
     * known)</p><p>other_account_provider is a code that tells the system where
     * that bank is hosted. Will be OBP if its known to the API. Usage of this
     * flag (in API / connectors) is work in
     * progress.</p><p>account_routing_scheme is a code that dictates the nature
     * of the account_routing_address e.g. IBAN</p><p>account_routing_address is
     * an instance of account_routing_scheme that can be used to route payments to
     * external systems. e.g. an IBAN number</p><p>bank_routing_scheme is a code
     * that dictates the nature of the bank_routing_address e.g.
     * \"BIC\",</p><p>bank_routing_address is an instance of
     * bank_routing_scheme</p><p>is_beneficiary must be set to true in order to
     * send payments to this counterparty</p><p>The view specified by VIEW_ID must
     * have the canAddCounterparty permission</p><p>Authentication is
     * Mandatory</p>
     * @summary Create counterparty for an account
     * @param body BANK_BODY
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateCounterparty = function (body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this
            .func210CreateCounterpartyWithHttpInfo(body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Add a customer linked to the user specified by user_id The Customer
     * resource stores the customer number, legal name, email, phone number, their
     * date of birth, relationship status, education attained, a url for a profile
     * image, KYC status etc. Dates need to be in the format
     * 2013-01-21T23:08:00Z</p><p>Authentication is
     * Mandatory</p><p>CanCreateCustomer and CanCreateUserCustomerLink OR
     * CanCreateCustomerAtAnyBank and CanCreateUserCustomerLinkAtAnyBank
     * entitlements required.</p>
     * @summary Create Customer.
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateCustomer = function (body, BANK_ID, extraHttpRequestParams) {
        return this
            .func210CreateCustomerWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create Transaction Types for the bank specified by BANK_ID:</p><ul>
     * <li>id : Unique transaction type id across the API instance. SHOULD be a
     * UUID. MUST be unique.</li>  <li>bank_id : The bank that supports this
     * TransactionType</li>  <li>short_code : A short code (SHOULD have no-spaces)
     * which MUST be unique across the bank. May be stored with Transactions to
     * link here</li>  <li>summary : A succinct summary</li>  <li>description : A
     * longer description</li>  <li>charge : The charge to the customer for each
     * one of these</li></ul><p>Authentication is Mandatory</p>
     * @summary Create Transaction Type offered by the bank
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateTransactionType = function (body, BANK_ID, extraHttpRequestParams) {
        return this
            .func210CreateTransactionTypeWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Enable/Disable a Consumer specified by CONSUMER_ID.</p>
     * @summary Enable or Disable Consumers
     * @param body BANK_BODY
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210EnableDisableConsumers = function (body, CONSUMER_ID, extraHttpRequestParams) {
        return this
            .func210EnableDisableConsumersWithHttpInfo(body, CONSUMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the Consumer specified by CONSUMER_ID.</p>
     * @summary Get Consumer
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210GetConsumer = function (CONSUMER_ID, extraHttpRequestParams) {
        return this
            .func210GetConsumerWithHttpInfo(CONSUMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the all Consumers.</p>
     * @summary Get Consumers
     */
    Func_2_1_0Service.prototype.func210GetConsumers = function (extraHttpRequestParams) {
        return this.func210GetConsumersWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Information about the currently authenticated user.</p><p>Authentication
     * via OAuth is required.</p>
     * @summary Get customer for logged in user
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetCustomer = function (BANK_ID, extraHttpRequestParams) {
        return this.func210GetCustomerWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Information about the currently authenticated user.</p><p>Authentication
     * via OAuth is required.</p>
     * @summary Get all customers for logged in user
     */
    Func_2_1_0Service.prototype.func210GetCustomers = function (extraHttpRequestParams) {
        return this.func210GetCustomersWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Login is required.</p>
     * @summary Get Entitlements specified by BANK_ID and USER_ID
     * @param USER_ID The user id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetEntitlementsByBankAndUser = function (USER_ID, BANK_ID, extraHttpRequestParams) {
        return this
            .func210GetEntitlementsByBankAndUserWithHttpInfo(USER_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the all metrics</p><p>require CanReadMetrics role</p><p>Filters Part
     * 1.*filtering* (no wilde cards etc.) parameters to GET
     * /management/metrics</p><p>Should be able to filter on the following metrics
     * fields</p><p>eg:
     * /management/metrics?start_date=2017-03-01&amp;end_date=2017-03-04&amp;limit=50&amp;offset=2</p><p>1
     * start_date (defaults to one week before current date):
     * eg:start_date=2017-03-01</p><p>2 end_date (defaults to current date)
     * eg:end_date=2017-03-05</p><p>3 limit (for pagination: defaults to 200)
     * eg:limit=200</p><p>4 offset (for pagination: zero index, defaults to 0) eg:
     * offset=10</p><p>eg:
     * /management/metrics?start_date=2016-03-05&amp;end_date=2017-03-08&amp;limit=10000&amp;offset=0&amp;anon=false&amp;app_name=hognwei&amp;implemented_in_version=v2.1.0&amp;verb=POST&amp;user_id=c7b6cb47-cb96-4441-8801-35b57456753a&amp;user_name=susan.uk.29@example.com&amp;consumer_id=78</p><p>Other
     * filters:</p><p>5 consumer_id (if null ignore)</p><p>6 user_id (if null
     * ignore)</p><p>7 anon (if null ignore) only support two value : true (return
     * where user_id is null.) or false (return where user_id is not
     * null.)</p><p>8 url (if null ignore), note: can not contain '&amp;'.
     * </p><p>9 app_name (if null ignore)</p><p>10 implemented_by_partial_function
     * (if null ignore),</p><p>11 implemented_in_version (if null ignore)</p><p>12
     * verb (if null ignore)</p>
     * @summary Get Metrics
     */
    Func_2_1_0Service.prototype.func210GetMetrics = function (extraHttpRequestParams) {
        return this.func210GetMetricsWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about the financial products offered by a bank
     * specified by BANK_ID and PRODUCT_CODE including:</p><ul>  <li>Name</li>
     * <li>Code</li>  <li>Category</li>  <li>Family</li>  <li>Super Family</li>
     * <li>More info URL</li>  <li>Description</li>  <li>Terms and Conditions</li>
     * <li>License the data under this endpoint is released under Authentication
     * is Optional</li></ul>
     * @summary Get Bank Product
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetProduct = function (BANK_ID, extraHttpRequestParams) {
        return this.func210GetProductWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about the financial products offered by a bank
     * specified by BANK_ID including:</p><ul>  <li>Name</li>  <li>Code</li>
     * <li>Category</li>  <li>Family</li>  <li>Super Family</li>  <li>More info
     * URL</li>  <li>Description</li>  <li>Terms and Conditions</li>  <li>License
     * the data under this endpoint is released under Authentication is
     * Optional</li></ul>
     * @summary Get Bank Products
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetProducts = function (BANK_ID, extraHttpRequestParams) {
        return this.func210GetProductsWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns all available roles</p><p>Login is required.</p>
     * @summary Get Roles
     */
    Func_2_1_0Service.prototype.func210GetRoles = function (extraHttpRequestParams) {
        return this.func210GetRolesWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the list of the Transaction Request Types supported by the
     * bank.</p><p>Authentication is Optional</p>
     * @summary Get the Transaction Request Types supported by the bank
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetTransactionRequestTypesSupportedByBank = function (BANK_ID, extraHttpRequestParams) {
        return this
            .func210GetTransactionRequestTypesSupportedByBankWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns transaction requests for account specified by ACCOUNT_ID at bank
     * specified by BANK_ID.</p><p>The VIEW_ID specified must be 'owner' and the
     * user must have access to this view.</p><p>Version 2.0.0 now returns charge
     * information.</p><p>Transaction Requests serve to initiate transactions that
     * may or may not proceed. They contain information including:</p><ul>
     * <li>Transaction Request Id</li>  <li>Type</li>  <li>Status (INITIATED,
     * COMPLETED)</li>  <li>Challenge (in order to confirm the request)</li>
     * <li>From Bank / Account</li>  <li>Details including Currency, Value,
     * Description and other initiation information specific to each type. (Could
     * potentialy include a list of future transactions.)</li>  <li>Related
     * Transactions</li></ul><p>PSD2 Context: PSD2 requires transparency of
     * charges to the customer. This endpoint provides the charge that would be
     * applied if the Transaction Request proceeds - and a record of that charge
     * there after. The customer can proceed with the Transaction by answering the
     * security challenge.</p>
     * @summary Get Transaction Requests.
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetTransactionRequests = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this
            .func210GetTransactionRequestsWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get all users</p><p>Login is required. CanGetAnyUser entitlement is
     * required,</p>
     * @summary Get all Users
     */
    Func_2_1_0Service.prototype.func210GetUsers = function (extraHttpRequestParams) {
        return this.func210GetUsersWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Import bulk data into the sandbox (Authenticated access).</p><p>This
     * call can be used to create banks, users, accounts and transactions which
     * are stored in the local RDBMS.</p><p>The user needs to have
     * CanCreateSandbox entitlement.</p><p>An example of an import set of data
     * (json) can be found <a
     * href=\"https://raw.githubusercontent.com/OpenBankProject/OBP-API/develop/src/main/scala/code/api/sandbox/example_data/2016-04-28/example_import.json\">here</a>
     * Authentication is Mandatory</p>
     * @summary Create sandbox
     * @param body BANK_BODY
     */
    Func_2_1_0Service.prototype.func210SandboxDataImport = function (body, extraHttpRequestParams) {
        return this
            .func210SandboxDataImportWithHttpInfo(body, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update an existing branch for a bank account (Authenticated access).
     * Authentication is Mandatory</p>
     * @summary Update Branch
     * @param body BANK_BODY
     * @param BRANCH_ID The branch id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210UpdateBranch = function (body, BRANCH_ID, BANK_ID, extraHttpRequestParams) {
        return this
            .func210UpdateBranchWithHttpInfo(body, BRANCH_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update an existing redirectUrl for a Consumer specified by
     * CONSUMER_ID.</p><p>CONSUMER_ID can be obtained after you register the
     * application. </p><p>Or use the endpoint 'Get Consumers' to get it </p>
     * @summary Update Consumer RedirectUrl
     * @param body BANK_BODY
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210UpdateConsumerRedirectUrl = function (body, CONSUMER_ID, extraHttpRequestParams) {
        return this
            .func210UpdateConsumerRedirectUrlWithHttpInfo(body, CONSUMER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Add cards for a bank
     * &lt;p&gt;Import bulk data into the sandbox (Authenticated
     * access).&lt;/p&gt;&lt;p&gt;This is can be used to create cards which are
     * stored in the local RDBMS. Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210AddCardsForBankWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/cards'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210AddCardsForBank.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210AddCardsForBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create counterparty for an account
     * &lt;p&gt;Create counterparty.&lt;/p&gt;&lt;p&gt;Counterparties are created
     * for the account / view They are how the user of the view (e.g. account
     * owner) refers to the other side of the transaction&lt;/p&gt;&lt;p&gt;name
     * is the human readable name (e.g. Piano teacher, Miss
     * Nipa)&lt;/p&gt;&lt;p&gt;other_bank_id is an (internal) ID for the bank of
     * the bank of the counterparty (if known)&lt;/p&gt;&lt;p&gt;other_account_id
     * is an (internal) ID for the bank account of the counterparty (if
     * known)&lt;/p&gt;&lt;p&gt;other_account_provider is a code that tells the
     * system where that bank is hosted. Will be OBP if its known to the API.
     * Usage of this flag (in API / connectors) is work in
     * progress.&lt;/p&gt;&lt;p&gt;account_routing_scheme is a code that dictates
     * the nature of the account_routing_address e.g.
     * IBAN&lt;/p&gt;&lt;p&gt;account_routing_address is an instance of
     * account_routing_scheme that can be used to route payments to external
     * systems. e.g. an IBAN number&lt;/p&gt;&lt;p&gt;bank_routing_scheme is a
     * code that dictates the nature of the bank_routing_address e.g.
     * \&quot;BIC\&quot;,&lt;/p&gt;&lt;p&gt;bank_routing_address is an instance of
     * bank_routing_scheme&lt;/p&gt;&lt;p&gt;is_beneficiary must be set to true in
     * order to send payments to this counterparty&lt;/p&gt;&lt;p&gt;The view
     * specified by VIEW_ID must have the canAddCounterparty
     * permission&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateCounterpartyWithHttpInfo = function (body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/counterparties'
                .replace('${' +
                'VIEW_ID' +
                '}', String(VIEW_ID))
                .replace('${' +
                'ACCOUNT_ID' +
                '}', String(ACCOUNT_ID))
                .replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210CreateCounterparty.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func210CreateCounterparty.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func210CreateCounterparty.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210CreateCounterparty.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Customer.
     * &lt;p&gt;Add a customer linked to the user specified by user_id The
     * Customer resource stores the customer number, legal name, email, phone
     * number, their date of birth, relationship status, education attained, a url
     * for a profile image, KYC status etc. Dates need to be in the format
     * 2013-01-21T23:08:00Z&lt;/p&gt;&lt;p&gt;Authentication is
     * Mandatory&lt;/p&gt;&lt;p&gt;CanCreateCustomer and CanCreateUserCustomerLink
     * OR CanCreateCustomerAtAnyBank and CanCreateUserCustomerLinkAtAnyBank
     * entitlements required.&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateCustomerWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/customers'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210CreateCustomer.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210CreateCustomer.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Transaction Type offered by the bank
     * &lt;p&gt;Create Transaction Types for the bank specified by
     * BANK_ID:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;id : Unique transaction type id
     * across the API instance. SHOULD be a UUID. MUST be unique.&lt;/li&gt;
     * &lt;li&gt;bank_id : The bank that supports this TransactionType&lt;/li&gt;
     * &lt;li&gt;short_code : A short code (SHOULD have no-spaces) which MUST be
     * unique across the bank. May be stored with Transactions to link
     * here&lt;/li&gt;  &lt;li&gt;summary : A succinct summary&lt;/li&gt;
     * &lt;li&gt;description : A longer description&lt;/li&gt;  &lt;li&gt;charge :
     * The charge to the customer for each one of
     * these&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210CreateTransactionTypeWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/transaction-types'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210CreateTransactionType.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210CreateTransactionType.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Enable or Disable Consumers
     * &lt;p&gt;Enable/Disable a Consumer specified by CONSUMER_ID.&lt;/p&gt;
     * @param body BANK_BODY
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210EnableDisableConsumersWithHttpInfo = function (body, CONSUMER_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/management/consumers/${CONSUMER_ID}'.replace('${' +
                'CONSUMER_ID' +
                '}', String(CONSUMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210EnableDisableConsumers.');
        }
        // verify required parameter 'CONSUMER_ID' is not null or undefined
        if (CONSUMER_ID === null || CONSUMER_ID === undefined) {
            throw new Error('Required parameter CONSUMER_ID was null or undefined when calling func210EnableDisableConsumers.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Consumer
     * &lt;p&gt;Get the Consumer specified by CONSUMER_ID.&lt;/p&gt;
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210GetConsumerWithHttpInfo = function (CONSUMER_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/management/consumers/${CONSUMER_ID}'.replace('${' +
                'CONSUMER_ID' +
                '}', String(CONSUMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'CONSUMER_ID' is not null or undefined
        if (CONSUMER_ID === null || CONSUMER_ID === undefined) {
            throw new Error('Required parameter CONSUMER_ID was null or undefined when calling func210GetConsumer.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Consumers
     * &lt;p&gt;Get the all Consumers.&lt;/p&gt;
     */
    Func_2_1_0Service.prototype.func210GetConsumersWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/management/consumers';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get customer for logged in user
     * &lt;p&gt;Information about the currently authenticated
     * user.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetCustomerWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/customer'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetCustomer.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get all customers for logged in user
     * &lt;p&gt;Information about the currently authenticated
     * user.&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required.&lt;/p&gt;
     */
    Func_2_1_0Service.prototype.func210GetCustomersWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/users/current/customers';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Entitlements specified by BANK_ID and USER_ID
     * &lt;p&gt;Login is required.&lt;/p&gt;
     * @param USER_ID The user id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetEntitlementsByBankAndUserWithHttpInfo = function (USER_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/users/${USER_ID}/entitlements'
                .replace('${' +
                'USER_ID' +
                '}', String(USER_ID))
                .replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func210GetEntitlementsByBankAndUser.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetEntitlementsByBankAndUser.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Metrics
     * &lt;p&gt;Get the all metrics&lt;/p&gt;&lt;p&gt;require CanReadMetrics
     * role&lt;/p&gt;&lt;p&gt;Filters Part 1.*filtering* (no wilde cards etc.)
     * parameters to GET /management/metrics&lt;/p&gt;&lt;p&gt;Should be able to
     * filter on the following metrics fields&lt;/p&gt;&lt;p&gt;eg:
     * /management/metrics?start_date&#x3D;2017-03-01&amp;amp;end_date&#x3D;2017-03-04&amp;amp;limit&#x3D;50&amp;amp;offset&#x3D;2&lt;/p&gt;&lt;p&gt;1
     * start_date (defaults to one week before current date):
     * eg:start_date&#x3D;2017-03-01&lt;/p&gt;&lt;p&gt;2 end_date (defaults to
     * current date) eg:end_date&#x3D;2017-03-05&lt;/p&gt;&lt;p&gt;3 limit (for
     * pagination: defaults to 200) eg:limit&#x3D;200&lt;/p&gt;&lt;p&gt;4 offset
     * (for pagination: zero index, defaults to 0) eg:
     * offset&#x3D;10&lt;/p&gt;&lt;p&gt;eg:
     * /management/metrics?start_date&#x3D;2016-03-05&amp;amp;end_date&#x3D;2017-03-08&amp;amp;limit&#x3D;10000&amp;amp;offset&#x3D;0&amp;amp;anon&#x3D;false&amp;amp;app_name&#x3D;hognwei&amp;amp;implemented_in_version&#x3D;v2.1.0&amp;amp;verb&#x3D;POST&amp;amp;user_id&#x3D;c7b6cb47-cb96-4441-8801-35b57456753a&amp;amp;user_name&#x3D;susan.uk.29@example.com&amp;amp;consumer_id&#x3D;78&lt;/p&gt;&lt;p&gt;Other
     * filters:&lt;/p&gt;&lt;p&gt;5 consumer_id (if null
     * ignore)&lt;/p&gt;&lt;p&gt;6 user_id (if null ignore)&lt;/p&gt;&lt;p&gt;7
     * anon (if null ignore) only support two value : true (return where user_id
     * is null.) or false (return where user_id is not null.)&lt;/p&gt;&lt;p&gt;8
     * url (if null ignore), note: can not contain &#39;&amp;amp;&#39;.
     * &lt;/p&gt;&lt;p&gt;9 app_name (if null ignore)&lt;/p&gt;&lt;p&gt;10
     * implemented_by_partial_function (if null ignore),&lt;/p&gt;&lt;p&gt;11
     * implemented_in_version (if null ignore)&lt;/p&gt;&lt;p&gt;12 verb (if null
     * ignore)&lt;/p&gt;
     */
    Func_2_1_0Service.prototype.func210GetMetricsWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/management/metrics';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank Product
     * &lt;p&gt;Returns information about the financial products offered by a bank
     * specified by BANK_ID and PRODUCT_CODE including:&lt;/p&gt;&lt;ul&gt;
     * &lt;li&gt;Name&lt;/li&gt;  &lt;li&gt;Code&lt;/li&gt;
     * &lt;li&gt;Category&lt;/li&gt;  &lt;li&gt;Family&lt;/li&gt;  &lt;li&gt;Super
     * Family&lt;/li&gt;  &lt;li&gt;More info URL&lt;/li&gt;
     * &lt;li&gt;Description&lt;/li&gt;  &lt;li&gt;Terms and Conditions&lt;/li&gt;
     * &lt;li&gt;License the data under this endpoint is released under
     * Authentication is Optional&lt;/li&gt;&lt;/ul&gt;
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetProductWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/products/PRODUCT_CODE'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetProduct.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank Products
     * &lt;p&gt;Returns information about the financial products offered by a bank
     * specified by BANK_ID including:&lt;/p&gt;&lt;ul&gt;
     * &lt;li&gt;Name&lt;/li&gt;  &lt;li&gt;Code&lt;/li&gt;
     * &lt;li&gt;Category&lt;/li&gt;  &lt;li&gt;Family&lt;/li&gt;  &lt;li&gt;Super
     * Family&lt;/li&gt;  &lt;li&gt;More info URL&lt;/li&gt;
     * &lt;li&gt;Description&lt;/li&gt;  &lt;li&gt;Terms and Conditions&lt;/li&gt;
     * &lt;li&gt;License the data under this endpoint is released under
     * Authentication is Optional&lt;/li&gt;&lt;/ul&gt;
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetProductsWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/products'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetProducts.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Roles
     * &lt;p&gt;Returns all available roles&lt;/p&gt;&lt;p&gt;Login is
     * required.&lt;/p&gt;
     */
    Func_2_1_0Service.prototype.func210GetRolesWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/roles';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get the Transaction Request Types supported by the bank
     * &lt;p&gt;Get the list of the Transaction Request Types supported by the
     * bank.&lt;/p&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetTransactionRequestTypesSupportedByBankWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/transaction-request-types'.replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetTransactionRequestTypesSupportedByBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transaction Requests.
     * &lt;p&gt;Returns transaction requests for account specified by ACCOUNT_ID
     * at bank specified by BANK_ID.&lt;/p&gt;&lt;p&gt;The VIEW_ID specified must
     * be &#39;owner&#39; and the user must have access to this
     * view.&lt;/p&gt;&lt;p&gt;Version 2.0.0 now returns charge
     * information.&lt;/p&gt;&lt;p&gt;Transaction Requests serve to initiate
     * transactions that may or may not proceed. They contain information
     * including:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Transaction Request Id&lt;/li&gt;
     * &lt;li&gt;Type&lt;/li&gt;  &lt;li&gt;Status (INITIATED,
     * COMPLETED)&lt;/li&gt;  &lt;li&gt;Challenge (in order to confirm the
     * request)&lt;/li&gt;  &lt;li&gt;From Bank / Account&lt;/li&gt;
     * &lt;li&gt;Details including Currency, Value, Description and other
     * initiation information specific to each type. (Could potentialy include a
     * list of future transactions.)&lt;/li&gt;  &lt;li&gt;Related
     * Transactions&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;PSD2 Context: PSD2 requires
     * transparency of charges to the customer. This endpoint provides the charge
     * that would be applied if the Transaction Request proceeds - and a record of
     * that charge there after. The customer can proceed with the Transaction by
     * answering the security challenge.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210GetTransactionRequestsWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transaction-requests'
                .replace('${' +
                'VIEW_ID' +
                '}', String(VIEW_ID))
                .replace('${' +
                'ACCOUNT_ID' +
                '}', String(ACCOUNT_ID))
                .replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func210GetTransactionRequests.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func210GetTransactionRequests.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210GetTransactionRequests.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get all Users
     * &lt;p&gt;Get all users&lt;/p&gt;&lt;p&gt;Login is required. CanGetAnyUser
     * entitlement is required,&lt;/p&gt;
     */
    Func_2_1_0Service.prototype.func210GetUsersWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/users';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create sandbox
     * &lt;p&gt;Import bulk data into the sandbox (Authenticated
     * access).&lt;/p&gt;&lt;p&gt;This call can be used to create banks, users,
     * accounts and transactions which are stored in the local
     * RDBMS.&lt;/p&gt;&lt;p&gt;The user needs to have CanCreateSandbox
     * entitlement.&lt;/p&gt;&lt;p&gt;An example of an import set of data (json)
     * can be found &lt;a
     * href&#x3D;\&quot;https://raw.githubusercontent.com/OpenBankProject/OBP-API/develop/src/main/scala/code/api/sandbox/example_data/2016-04-28/example_import.json\&quot;&gt;here&lt;/a&gt;
     * Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     */
    Func_2_1_0Service.prototype.func210SandboxDataImportWithHttpInfo = function (body, extraHttpRequestParams) {
        var path = this.basePath + '/sandbox/data-import';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210SandboxDataImport.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Branch
     * &lt;p&gt;Update an existing branch for a bank account (Authenticated
     * access). Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     * @param BRANCH_ID The branch id
     * @param BANK_ID The bank id
     */
    Func_2_1_0Service.prototype.func210UpdateBranchWithHttpInfo = function (body, BRANCH_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/banks/${BANK_ID}/branches/${BRANCH_ID}'
                .replace('${' +
                'BRANCH_ID' +
                '}', String(BRANCH_ID))
                .replace('${' +
                'BANK_ID' +
                '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210UpdateBranch.');
        }
        // verify required parameter 'BRANCH_ID' is not null or undefined
        if (BRANCH_ID === null || BRANCH_ID === undefined) {
            throw new Error('Required parameter BRANCH_ID was null or undefined when calling func210UpdateBranch.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func210UpdateBranch.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update Consumer RedirectUrl
     * &lt;p&gt;Update an existing redirectUrl for a Consumer specified by
     * CONSUMER_ID.&lt;/p&gt;&lt;p&gt;CONSUMER_ID can be obtained after you
     * register the application. &lt;/p&gt;&lt;p&gt;Or use the endpoint &#39;Get
     * Consumers&#39; to get it &lt;/p&gt;
     * @param body BANK_BODY
     * @param CONSUMER_ID new consumer id
     */
    Func_2_1_0Service.prototype.func210UpdateConsumerRedirectUrlWithHttpInfo = function (body, CONSUMER_ID, extraHttpRequestParams) {
        var path = this.basePath +
            '/management/consumers/${CONSUMER_ID}/consumer/redirect_url'.replace('${' +
                'CONSUMER_ID' +
                '}', String(CONSUMER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["Headers"](this.defaultHeaders
            .toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func210UpdateConsumerRedirectUrl.');
        }
        // verify required parameter 'CONSUMER_ID' is not null or undefined
        if (CONSUMER_ID === null || CONSUMER_ID === undefined) {
            throw new Error('Required parameter CONSUMER_ID was null or undefined when calling func210UpdateConsumerRedirectUrl.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys['Authorization']) {
            headers.set('Authorization', this.configuration.apiKeys['Authorization']);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_2__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ?
                '' :
                JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions =
                Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_2_1_0Service;
}());
Func_2_1_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_4__variables__["a" /* BASE_PATH */])),
    __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_3__configuration__["a" /* Configuration */]])
], Func_2_1_0Service);



/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_2_2_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_2_2_0Service = (function () {
    function Func_2_2_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_2_2_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_2_2_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Returns information about:</p><ul>  <li>Akka ports</li>  <li>Elastic search ports</li>  <li>Cached function</li></ul>
     * @summary The configuration of the API
     */
    Func_2_2_0Service.prototype.func220Config = function (extraHttpRequestParams) {
        return this.func220ConfigWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create Account at bank specified by BANK_ID with Id specified by ACCOUNT_ID.</p><p>The User can create an Account for themself or an Account for another User if they have CanCreateAccount role.</p><p>If USER_ID is not specified the account will be owned by the logged in User.</p><p>Note: The Amount must be zero.</p>
     * @summary Create Account
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220CreateAccount = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func220CreateAccountWithHttpInfo(body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create a new bank (Authenticated access). Authentication is Mandatory</p>
     * @summary Create Bank
     * @param body BANK_BODY
     */
    Func_2_2_0Service.prototype.func220CreateBank = function (body, extraHttpRequestParams) {
        return this.func220CreateBankWithHttpInfo(body, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create or Update Product for the Bank.</p><p>Authentication is Mandatory</p><p>OBP-20006: User is missing one or more roles: CanCreateProduct OR CanCreateProductAtAnyBank</p>
     * @summary Create Product
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220CreateProduct = function (body, BANK_ID, extraHttpRequestParams) {
        return this.func220CreateProductWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the all metrics</p><p>require $CanGetConnectorMetrics role</p><p>Filters Part 1.*filtering* (no wilde cards etc.) parameters to GET /management/connector/metrics</p><p>Should be able to filter on the following metrics fields</p><p>eg: /management/connector/metrics?start_date=2017-03-01&amp;end_date=2017-03-04&amp;limit=50&amp;offset=2</p><p>1 start_date (defaults to one week before current date): eg:start_date=2017-03-01</p><p>2 end_date (defaults to current date) eg:end_date=2017-03-05</p><p>3 limit (for pagination: defaults to 1000) eg:limit=2000</p><p>4 offset (for pagination: zero index, defaults to 0) eg: offset=10</p><p>eg: /management/connector/metrics?start_date=2016-03-05&amp;end_date=2017-03-08&amp;limit=100&amp;offset=300</p><p>Other filters:</p><p>5 connector_name (if null ignore)</p><p>6 function_name (if null ignore)</p><p>7 correlation_id (if null ignore)</p>
     * @summary Get Connector Metrics
     */
    Func_2_2_0Service.prototype.func220GetConnectorMetrics = function (extraHttpRequestParams) {
        return this.func220GetConnectorMetricsWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the counterparties for the account / view.</p><p>Authentication is Mandatory</p>
     * @summary Get Counterparties of one Account.
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220GetCounterpartiesForAccount = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func220GetCounterpartiesForAccountWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get the latest FXRate specified by BANK_ID, FROM_CURRENCY_CODE and TO_CURRENCY_CODE </p>
     * @summary Get Current FxRate
     * @param TO_CURRENCY_CODE The to currency code
     * @param FROM_CURRENCY_CODE The from currency code
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220GetCurrentFxRate = function (TO_CURRENCY_CODE, FROM_CURRENCY_CODE, BANK_ID, extraHttpRequestParams) {
        return this.func220GetCurrentFxRateWithHttpInfo(TO_CURRENCY_CODE, FROM_CURRENCY_CODE, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>These message docs provide example messages sent by OBP to the (Kafka) message queue for processing by the Core Banking / Payment system Adapter - together with an example expected response and possible error codes.  Integrators can use these messages to build Adapters that provide core banking services to OBP.  Note: To enable Kafka connector and this message format, you must set conenctor=kafka_vMar2017 in your Props</p>
     * @summary Get Message Docs
     */
    Func_2_2_0Service.prototype.func220GetMessageDocs = function (extraHttpRequestParams) {
        return this.func220GetMessageDocsWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * The configuration of the API
     * &lt;p&gt;Returns information about:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Akka ports&lt;/li&gt;  &lt;li&gt;Elastic search ports&lt;/li&gt;  &lt;li&gt;Cached function&lt;/li&gt;&lt;/ul&gt;
     */
    Func_2_2_0Service.prototype.func220ConfigWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/config';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Account
     * &lt;p&gt;Create Account at bank specified by BANK_ID with Id specified by ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;The User can create an Account for themself or an Account for another User if they have CanCreateAccount role.&lt;/p&gt;&lt;p&gt;If USER_ID is not specified the account will be owned by the logged in User.&lt;/p&gt;&lt;p&gt;Note: The Amount must be zero.&lt;/p&gt;
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220CreateAccountWithHttpInfo = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func220CreateAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func220CreateAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func220CreateAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Bank
     * &lt;p&gt;Create a new bank (Authenticated access). Authentication is Mandatory&lt;/p&gt;
     * @param body BANK_BODY
     */
    Func_2_2_0Service.prototype.func220CreateBankWithHttpInfo = function (body, extraHttpRequestParams) {
        var path = this.basePath + '/banks';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func220CreateBank.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Product
     * &lt;p&gt;Create or Update Product for the Bank.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;OBP-20006: User is missing one or more roles: CanCreateProduct OR CanCreateProductAtAnyBank&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220CreateProductWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/products'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func220CreateProduct.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func220CreateProduct.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Connector Metrics
     * &lt;p&gt;Get the all metrics&lt;/p&gt;&lt;p&gt;require $CanGetConnectorMetrics role&lt;/p&gt;&lt;p&gt;Filters Part 1.*filtering* (no wilde cards etc.) parameters to GET /management/connector/metrics&lt;/p&gt;&lt;p&gt;Should be able to filter on the following metrics fields&lt;/p&gt;&lt;p&gt;eg: /management/connector/metrics?start_date&#x3D;2017-03-01&amp;amp;end_date&#x3D;2017-03-04&amp;amp;limit&#x3D;50&amp;amp;offset&#x3D;2&lt;/p&gt;&lt;p&gt;1 start_date (defaults to one week before current date): eg:start_date&#x3D;2017-03-01&lt;/p&gt;&lt;p&gt;2 end_date (defaults to current date) eg:end_date&#x3D;2017-03-05&lt;/p&gt;&lt;p&gt;3 limit (for pagination: defaults to 1000) eg:limit&#x3D;2000&lt;/p&gt;&lt;p&gt;4 offset (for pagination: zero index, defaults to 0) eg: offset&#x3D;10&lt;/p&gt;&lt;p&gt;eg: /management/connector/metrics?start_date&#x3D;2016-03-05&amp;amp;end_date&#x3D;2017-03-08&amp;amp;limit&#x3D;100&amp;amp;offset&#x3D;300&lt;/p&gt;&lt;p&gt;Other filters:&lt;/p&gt;&lt;p&gt;5 connector_name (if null ignore)&lt;/p&gt;&lt;p&gt;6 function_name (if null ignore)&lt;/p&gt;&lt;p&gt;7 correlation_id (if null ignore)&lt;/p&gt;
     */
    Func_2_2_0Service.prototype.func220GetConnectorMetricsWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/management/connector/metrics';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Counterparties of one Account.
     * &lt;p&gt;Get the counterparties for the account / view.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220GetCounterpartiesForAccountWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/counterparties'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func220GetCounterpartiesForAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func220GetCounterpartiesForAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func220GetCounterpartiesForAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Current FxRate
     * &lt;p&gt;Get the latest FXRate specified by BANK_ID, FROM_CURRENCY_CODE and TO_CURRENCY_CODE &lt;/p&gt;
     * @param TO_CURRENCY_CODE The to currency code
     * @param FROM_CURRENCY_CODE The from currency code
     * @param BANK_ID The bank id
     */
    Func_2_2_0Service.prototype.func220GetCurrentFxRateWithHttpInfo = function (TO_CURRENCY_CODE, FROM_CURRENCY_CODE, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/fx/${FROM_CURRENCY_CODE}/${TO_CURRENCY_CODE}'
            .replace('${' + 'TO_CURRENCY_CODE' + '}', String(TO_CURRENCY_CODE))
            .replace('${' + 'FROM_CURRENCY_CODE' + '}', String(FROM_CURRENCY_CODE))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'TO_CURRENCY_CODE' is not null or undefined
        if (TO_CURRENCY_CODE === null || TO_CURRENCY_CODE === undefined) {
            throw new Error('Required parameter TO_CURRENCY_CODE was null or undefined when calling func220GetCurrentFxRate.');
        }
        // verify required parameter 'FROM_CURRENCY_CODE' is not null or undefined
        if (FROM_CURRENCY_CODE === null || FROM_CURRENCY_CODE === undefined) {
            throw new Error('Required parameter FROM_CURRENCY_CODE was null or undefined when calling func220GetCurrentFxRate.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func220GetCurrentFxRate.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Message Docs
     * &lt;p&gt;These message docs provide example messages sent by OBP to the (Kafka) message queue for processing by the Core Banking / Payment system Adapter - together with an example expected response and possible error codes.  Integrators can use these messages to build Adapters that provide core banking services to OBP.  Note: To enable Kafka connector and this message format, you must set conenctor&#x3D;kafka_vMar2017 in your Props&lt;/p&gt;
     */
    Func_2_2_0Service.prototype.func220GetMessageDocsWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/message-docs/mar2017';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_2_2_0Service;
}());
Func_2_2_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_2_2_0Service);



/***/ }),
/* 11 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Func_3_0_0Service; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__rxjs_operators__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__variables__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__configuration__ = __webpack_require__(1);
/**
 * Open Bank Project API
 * An Open Source API for Banks. (c) TESOBE Ltd. 2011 - 2016. Licensed under the AGPL and commercial licences.
 *
 * OpenAPI spec version: v3.0.0
 * Contact: contact@tesobe.com
 *
 * NOTE: This class is auto generated by the swagger code generator program.
 * https://github.com/swagger-api/swagger-codegen.git
 * Do not edit the class manually.
 */
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
/* tslint:disable:no-unused-variable member-ordering */






var Func_3_0_0Service = (function () {
    function Func_3_0_0Service(http, basePath, configuration) {
        this.http = http;
        this.basePath = 'https://apc.openbankproject.com/obp/v3.0.0';
        this.defaultHeaders = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]();
        this.configuration = new __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]();
        if (basePath) {
            this.basePath = basePath;
        }
        if (configuration) {
            this.configuration = configuration;
            this.basePath = basePath || configuration.basePath || this.basePath;
        }
    }
    /**
     *
     * Extends object by coping non-existing properties.
     * @param objA object to be extended
     * @param objB source object
     */
    Func_3_0_0Service.prototype.extendObj = function (objA, objB) {
        for (var key in objB) {
            if (objB.hasOwnProperty(key)) {
                objA[key] = objB[key];
            }
        }
        return objA;
    };
    /**
     * @param consumes string[] mime-types
     * @return true: consumes contains 'multipart/form-data', false: otherwise
     */
    Func_3_0_0Service.prototype.canConsumeForm = function (consumes) {
        var form = 'multipart/form-data';
        for (var _i = 0, consumes_1 = consumes; _i < consumes_1.length; _i++) {
            var consume = consumes_1[_i];
            if (form === consume) {
                return true;
            }
        }
        return false;
    };
    /**
     * <p>Information returned about an account specified by ACCOUNT_ID as moderated by the view (VIEW_ID):</p><ul>  <li>Number</li>  <li>Owners</li>  <li>Type</li>  <li>Balance</li>  <li>IBAN</li>  <li>Available views (sorted by short_name)</li></ul><p>More details about the data moderation by the view <a href=\"#1_2_1-getViewsForBankAccount\">here</a>.</p><p>PSD2 Context: PSD2 requires customers to have access to their account information via third party applications. This call provides balance and other account information via delegated authenticaiton using OAuth.</p><p>OAuth authentication is required if the 'is_public' field in view (VIEW_ID) is not set to <code>true</code>.</p>
     * @summary Get Account by Id (Full)
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300AccountById = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300AccountByIdWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get private accounts at all banks (Authenticated access) Returns the list of accounts containing private views for the user at all banks. For each account the API returns the ID and the available views.</p><p>Authentication is Mandatory</p>
     * @summary Get Accounts at all Banks (Private)
     */
    Func_3_0_0Service.prototype.func300CorePrivateAccountsAllBanks = function (extraHttpRequestParams) {
        return this.func300CorePrivateAccountsAllBanksWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create ATM for the Bank.</p><p>Authentication is Mandatory</p><p>OBP-20006: User is missing one or more roles: CanCreateAtm OR CanCreateAtmAtAnyBank</p>
     * @summary Create ATM
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateAtm = function (body, BANK_ID, extraHttpRequestParams) {
        return this.func300CreateAtmWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create Branch for the Bank.</p><p>Authentication is Mandatory</p><p>OBP-20006: User is missing one or more roles: CanCreateBranch entitlements are required OR CanCreateBranchAtAnyBank</p>
     * @summary Create Branch
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateBranch = function (body, BANK_ID, extraHttpRequestParams) {
        return this.func300CreateBranchWithHttpInfo(body, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Create a view on bank account</p><p>OAuth authentication is required and the user needs to have access to the owner view.  The 'alias' field in the JSON can take one of three values:</p><ul>  <li><em>public</em>: to use the public alias if there is one specified for the other account.</li>  <li><em>private</em>: to use the public alias if there is one specified for the other account.</li>  <li>  <p><em>''(empty string)</em>: to use no alias; the view shows the real name of the other account.</p></li></ul><p>The 'hide_metadata_if_alias_used' field in the JSON can take boolean values. If it is set to <code>true</code> and there is an alias on the other account then the other accounts' metadata (like more_info, url, image_url, open_corporates_url, etc.) will be hidden. Otherwise the metadata will be shown.</p><p>The 'allowed_actions' field is a list containing the name of the actions allowed on this view, all the actions contained will be set to <code>true</code> on the view creation, the rest will be set to <code>false</code>.</p><p>You should use a leading _ (underscore) for the view name because other view names may become reserved by OBP internally</p>
     * @summary Create View.
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateViewForBankAccount = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300CreateViewForBankAccountWithHttpInfo(body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get a basic Adapter info</p><p>Login is required.</p>
     * @summary Get Info Of Adapter
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAdapter = function (BANK_ID, extraHttpRequestParams) {
        return this.func300GetAdapterWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about ATM for a single bank specified by BANK_ID and ATM_ID including:</p><ul>  <li>Address</li>  <li>Geo Location</li>  <li>License the data under this endpoint is released under</li></ul><p>Authentication is Optional</p>
     * @summary Get Bank ATM
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAtm = function (BANK_ID, extraHttpRequestParams) {
        return this.func300GetAtmWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about ATMs for a single bank specified by BANK_ID including:</p><ul>  <li>Address</li>  <li>Geo Location</li>  <li>License the data under this endpoint is released under</li></ul><p>Authentication is Optional</p>
     * @summary Get Bank ATMS
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAtms = function (BANK_ID, extraHttpRequestParams) {
        return this.func300GetAtmsWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about branches for a single bank specified by BANK_ID and BRANCH_ID including:  meta.license.id and eta.license.name fields must not be empty.</p><ul>  <li>Name</li>  <li>Address</li>  <li>Geo Location</li>  <li>License the data under this endpoint is released under</li></ul><p>Authentication is Optional</p>
     * @summary Get Bank Branch
     * @param BRANCH_ID The branch id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetBranch = function (BRANCH_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300GetBranchWithHttpInfo(BRANCH_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns information about branches for a single bank specified by BANK_ID including:</p><ul>  <li>Name</li>  <li>Address</li>  <li>Geo Location</li>  <li>License the data under this endpoint is released under</li>  <li>Structured opening hours</li>  <li>Accessible flag</li>  <li>Branch Type</li>  <li>More Info</li></ul><p>Authentication is Optional</p>
     * @summary Get Branches for a Bank
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetBranches = function (BANK_ID, extraHttpRequestParams) {
        return this.func300GetBranchesWithHttpInfo(BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Information returned about the account specified by ACCOUNT_ID:</p><ul>  <li>Number</li>  <li>Owners</li>  <li>Type</li>  <li>Balance</li>  <li>IBAN</li></ul><p>This call returns the owner view and requires access to that view.</p><p>OAuth authentication is required</p>
     * @summary Get Account by Id (Core)
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetCoreAccountById = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300GetCoreAccountByIdWithHttpInfo(ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns transactions list (Core info) of the account specified by ACCOUNT_ID.</p><p>Authentication is required.</p><p>Possible custom headers for pagination:</p><ul>  <li>obp_sort_by=CRITERIA ==&gt; default value: \"completed\" field</li>  <li>obp_sort_direction=ASC/DESC ==&gt; default value: DESC</li>  <li>obp_limit=NUMBER ==&gt; default value: 50</li>  <li>obp_offset=NUMBER ==&gt; default value: 0</li>  <li>obp_from_date=DATE =&gt; default value: date of the oldest transaction registered (format below)</li>  <li>obp_to_date=DATE =&gt; default value: date of the newest transaction registered (format below)</li></ul><p><strong>Date format parameter</strong>: \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\" (2014-07-01T00:00:00.000Z) ==&gt; time zone is UTC.</p>
     * @summary Get Transactions for Account (Core)
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetCoreTransactionsForBankAccount = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300GetCoreTransactionsForBankAccountWithHttpInfo(ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Returns transactions list of the account specified by ACCOUNT_ID and <a href=\"#1_2_1-getViewsForBankAccount\">moderated</a> by the view (VIEW_ID).</p><p>Authentication via OAuth is required if the view is not public.</p><p>Possible custom headers for pagination:</p><ul>  <li>obp_sort_by=CRITERIA ==&gt; default value: \"completed\" field</li>  <li>obp_sort_direction=ASC/DESC ==&gt; default value: DESC</li>  <li>obp_limit=NUMBER ==&gt; default value: 50</li>  <li>obp_offset=NUMBER ==&gt; default value: 0</li>  <li>obp_from_date=DATE =&gt; default value: date of the oldest transaction registered (format below)</li>  <li>obp_to_date=DATE =&gt; default value: date of the newest transaction registered (format below)</li></ul><p><strong>Date format parameter</strong>: \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\" (2014-07-01T00:00:00.000Z) ==&gt; time zone is UTC.</p>
     * @summary Get Transactions for Account (Full)
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetTransactionsForBankAccount = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300GetTransactionsForBankAccountWithHttpInfo(VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get users by email address</p><p>Login is required. CanGetAnyUser entitlement is required,</p>
     * @summary Get Users by Email Address
     */
    Func_3_0_0Service.prototype.func300GetUser = function (extraHttpRequestParams) {
        return this.func300GetUserWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get user by USER_ID</p><p>Login is required. CanGetAnyUser entitlement is required,</p>
     * @summary Get User by USER_ID
     * @param USER_ID The user id
     */
    Func_3_0_0Service.prototype.func300GetUserByUserId = function (USER_ID, extraHttpRequestParams) {
        return this.func300GetUserByUserIdWithHttpInfo(USER_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Get user by USERNAME</p><p>Login is required. CanGetAnyUser entitlement is required,</p>
     * @summary Get User by USERNAME
     */
    Func_3_0_0Service.prototype.func300GetUserByUsername = function (extraHttpRequestParams) {
        return this.func300GetUserByUsernameWithHttpInfo(extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <h1>Views</h1><p>Views in Open Bank Project provide a mechanism for fine grained access control and delegation to Accounts and Transactions. Account holders use the 'owner' view by default. Delegated access is made through other views for example 'accountants', 'share-holders' or 'tagging-application'. Views can be created via the API and each view has a list of entitlements.</p><p>Views on accounts and transactions filter the underlying data to redact certain fields for certain users. For instance the balance on an account may be hidden from the public. The way to know what is possible on a view is determined in the following JSON.</p><p><strong>Data:</strong> When a view moderates a set of data, some fields my contain the value <code>null</code> rather than the original value. This indicates either that the user is not allowed to see the original data or the field is empty.</p><p>There is currently one exception to this rule; the 'holder' field in the JSON contains always a value which is either an alias or the real name - indicated by the 'is_alias' field.</p><p><strong>Action:</strong> When a user performs an action like trying to post a comment (with POST API call), if he is not allowed, the body response will contain an error message.</p><p><strong>Metadata:</strong> Transaction metadata (like images, tags, comments, etc.) will appears <em>ONLY</em> on the view where they have been created e.g. comments posted to the public view only appear on the public view.</p><p>The other account metadata fields (like image_URL, more_info, etc.) are unique through all the views. Example, if a user edits the 'more_info' field in the 'team' view, then the view 'authorities' will show the new value (if it is allowed to do it).</p><h1>All</h1><p><em>Optional</em></p><p>Returns the list of the views created for account ACCOUNT_ID at BANK_ID.</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p>
     * @summary Get Views for Account.
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetViewsForBankAccount = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300GetViewsForBankAccountWithHttpInfo(ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * <p>Update an existing view on a bank account</p><p>OAuth authentication is required and the user needs to have access to the owner view.</p><p>The json sent is the same as during view creation (above), with one difference: the 'name' field of a view is not editable (it is only set when a view is created)</p>
     * @summary Update View.
     * @param body BANK_BODY
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300UpdateViewForBankAccount = function (body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        return this.func300UpdateViewForBankAccountWithHttpInfo(body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams)
            .map(function (response) {
            if (response.status === 204) {
                return undefined;
            }
            else {
                return response.json() || {};
            }
        });
    };
    /**
     * Get Account by Id (Full)
     * &lt;p&gt;Information returned about an account specified by ACCOUNT_ID as moderated by the view (VIEW_ID):&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Number&lt;/li&gt;  &lt;li&gt;Owners&lt;/li&gt;  &lt;li&gt;Type&lt;/li&gt;  &lt;li&gt;Balance&lt;/li&gt;  &lt;li&gt;IBAN&lt;/li&gt;  &lt;li&gt;Available views (sorted by short_name)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;More details about the data moderation by the view &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;PSD2 Context: PSD2 requires customers to have access to their account information via third party applications. This call provides balance and other account information via delegated authenticaiton using OAuth.&lt;/p&gt;&lt;p&gt;OAuth authentication is required if the &#39;is_public&#39; field in view (VIEW_ID) is not set to &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300AccountByIdWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/account'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func300AccountById.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300AccountById.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300AccountById.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Accounts at all Banks (Private)
     * &lt;p&gt;Get private accounts at all banks (Authenticated access) Returns the list of accounts containing private views for the user at all banks. For each account the API returns the ID and the available views.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;
     */
    Func_3_0_0Service.prototype.func300CorePrivateAccountsAllBanksWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/my/accounts';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create ATM
     * &lt;p&gt;Create ATM for the Bank.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;OBP-20006: User is missing one or more roles: CanCreateAtm OR CanCreateAtmAtAnyBank&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateAtmWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/atms'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func300CreateAtm.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300CreateAtm.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create Branch
     * &lt;p&gt;Create Branch for the Bank.&lt;/p&gt;&lt;p&gt;Authentication is Mandatory&lt;/p&gt;&lt;p&gt;OBP-20006: User is missing one or more roles: CanCreateBranch entitlements are required OR CanCreateBranchAtAnyBank&lt;/p&gt;
     * @param body BANK_BODY
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateBranchWithHttpInfo = function (body, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/branches'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func300CreateBranch.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300CreateBranch.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Create View.
     * &lt;p&gt;Create a view on bank account&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.  The &#39;alias&#39; field in the JSON can take one of three values:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;&lt;em&gt;public&lt;/em&gt;: to use the public alias if there is one specified for the other account.&lt;/li&gt;  &lt;li&gt;&lt;em&gt;private&lt;/em&gt;: to use the public alias if there is one specified for the other account.&lt;/li&gt;  &lt;li&gt;  &lt;p&gt;&lt;em&gt;&#39;&#39;(empty string)&lt;/em&gt;: to use no alias; the view shows the real name of the other account.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;The &#39;hide_metadata_if_alias_used&#39; field in the JSON can take boolean values. If it is set to &lt;code&gt;true&lt;/code&gt; and there is an alias on the other account then the other accounts&#39; metadata (like more_info, url, image_url, open_corporates_url, etc.) will be hidden. Otherwise the metadata will be shown.&lt;/p&gt;&lt;p&gt;The &#39;allowed_actions&#39; field is a list containing the name of the actions allowed on this view, all the actions contained will be set to &lt;code&gt;true&lt;/code&gt; on the view creation, the rest will be set to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;You should use a leading _ (underscore) for the view name because other view names may become reserved by OBP internally&lt;/p&gt;
     * @param body BANK_BODY
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300CreateViewForBankAccountWithHttpInfo = function (body, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/views'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func300CreateViewForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300CreateViewForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300CreateViewForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Post,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Info Of Adapter
     * &lt;p&gt;Get a basic Adapter info&lt;/p&gt;&lt;p&gt;Login is required.&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAdapterWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/adapter'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetAdapter.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank ATM
     * &lt;p&gt;Returns information about ATM for a single bank specified by BANK_ID and ATM_ID including:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Address&lt;/li&gt;  &lt;li&gt;Geo Location&lt;/li&gt;  &lt;li&gt;License the data under this endpoint is released under&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAtmWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/atms/ATM_ID'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetAtm.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank ATMS
     * &lt;p&gt;Returns information about ATMs for a single bank specified by BANK_ID including:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Address&lt;/li&gt;  &lt;li&gt;Geo Location&lt;/li&gt;  &lt;li&gt;License the data under this endpoint is released under&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetAtmsWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/atms'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetAtms.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Bank Branch
     * &lt;p&gt;Returns information about branches for a single bank specified by BANK_ID and BRANCH_ID including:  meta.license.id and eta.license.name fields must not be empty.&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Name&lt;/li&gt;  &lt;li&gt;Address&lt;/li&gt;  &lt;li&gt;Geo Location&lt;/li&gt;  &lt;li&gt;License the data under this endpoint is released under&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BRANCH_ID The branch id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetBranchWithHttpInfo = function (BRANCH_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/branches/${BRANCH_ID}'
            .replace('${' + 'BRANCH_ID' + '}', String(BRANCH_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BRANCH_ID' is not null or undefined
        if (BRANCH_ID === null || BRANCH_ID === undefined) {
            throw new Error('Required parameter BRANCH_ID was null or undefined when calling func300GetBranch.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetBranch.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Branches for a Bank
     * &lt;p&gt;Returns information about branches for a single bank specified by BANK_ID including:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Name&lt;/li&gt;  &lt;li&gt;Address&lt;/li&gt;  &lt;li&gt;Geo Location&lt;/li&gt;  &lt;li&gt;License the data under this endpoint is released under&lt;/li&gt;  &lt;li&gt;Structured opening hours&lt;/li&gt;  &lt;li&gt;Accessible flag&lt;/li&gt;  &lt;li&gt;Branch Type&lt;/li&gt;  &lt;li&gt;More Info&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Authentication is Optional&lt;/p&gt;
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetBranchesWithHttpInfo = function (BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/branches'
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetBranches.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Account by Id (Core)
     * &lt;p&gt;Information returned about the account specified by ACCOUNT_ID:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;Number&lt;/li&gt;  &lt;li&gt;Owners&lt;/li&gt;  &lt;li&gt;Type&lt;/li&gt;  &lt;li&gt;Balance&lt;/li&gt;  &lt;li&gt;IBAN&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This call returns the owner view and requires access to that view.&lt;/p&gt;&lt;p&gt;OAuth authentication is required&lt;/p&gt;
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetCoreAccountByIdWithHttpInfo = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/my/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/account'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300GetCoreAccountById.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetCoreAccountById.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transactions for Account (Core)
     * &lt;p&gt;Returns transactions list (Core info) of the account specified by ACCOUNT_ID.&lt;/p&gt;&lt;p&gt;Authentication is required.&lt;/p&gt;&lt;p&gt;Possible custom headers for pagination:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;obp_sort_by&#x3D;CRITERIA &#x3D;&#x3D;&amp;gt; default value: \&quot;completed\&quot; field&lt;/li&gt;  &lt;li&gt;obp_sort_direction&#x3D;ASC/DESC &#x3D;&#x3D;&amp;gt; default value: DESC&lt;/li&gt;  &lt;li&gt;obp_limit&#x3D;NUMBER &#x3D;&#x3D;&amp;gt; default value: 50&lt;/li&gt;  &lt;li&gt;obp_offset&#x3D;NUMBER &#x3D;&#x3D;&amp;gt; default value: 0&lt;/li&gt;  &lt;li&gt;obp_from_date&#x3D;DATE &#x3D;&amp;gt; default value: date of the oldest transaction registered (format below)&lt;/li&gt;  &lt;li&gt;obp_to_date&#x3D;DATE &#x3D;&amp;gt; default value: date of the newest transaction registered (format below)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Date format parameter&lt;/strong&gt;: \&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;\&quot; (2014-07-01T00:00:00.000Z) &#x3D;&#x3D;&amp;gt; time zone is UTC.&lt;/p&gt;
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetCoreTransactionsForBankAccountWithHttpInfo = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/my/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/transactions'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300GetCoreTransactionsForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetCoreTransactionsForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Transactions for Account (Full)
     * &lt;p&gt;Returns transactions list of the account specified by ACCOUNT_ID and &lt;a href&#x3D;\&quot;#1_2_1-getViewsForBankAccount\&quot;&gt;moderated&lt;/a&gt; by the view (VIEW_ID).&lt;/p&gt;&lt;p&gt;Authentication via OAuth is required if the view is not public.&lt;/p&gt;&lt;p&gt;Possible custom headers for pagination:&lt;/p&gt;&lt;ul&gt;  &lt;li&gt;obp_sort_by&#x3D;CRITERIA &#x3D;&#x3D;&amp;gt; default value: \&quot;completed\&quot; field&lt;/li&gt;  &lt;li&gt;obp_sort_direction&#x3D;ASC/DESC &#x3D;&#x3D;&amp;gt; default value: DESC&lt;/li&gt;  &lt;li&gt;obp_limit&#x3D;NUMBER &#x3D;&#x3D;&amp;gt; default value: 50&lt;/li&gt;  &lt;li&gt;obp_offset&#x3D;NUMBER &#x3D;&#x3D;&amp;gt; default value: 0&lt;/li&gt;  &lt;li&gt;obp_from_date&#x3D;DATE &#x3D;&amp;gt; default value: date of the oldest transaction registered (format below)&lt;/li&gt;  &lt;li&gt;obp_to_date&#x3D;DATE &#x3D;&amp;gt; default value: date of the newest transaction registered (format below)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;strong&gt;Date format parameter&lt;/strong&gt;: \&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;\&quot; (2014-07-01T00:00:00.000Z) &#x3D;&#x3D;&amp;gt; time zone is UTC.&lt;/p&gt;
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetTransactionsForBankAccountWithHttpInfo = function (VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/${VIEW_ID}/transactions'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func300GetTransactionsForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300GetTransactionsForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetTransactionsForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Users by Email Address
     * &lt;p&gt;Get users by email address&lt;/p&gt;&lt;p&gt;Login is required. CanGetAnyUser entitlement is required,&lt;/p&gt;
     */
    Func_3_0_0Service.prototype.func300GetUserWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/users/email/EMAIL/terminator';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get User by USER_ID
     * &lt;p&gt;Get user by USER_ID&lt;/p&gt;&lt;p&gt;Login is required. CanGetAnyUser entitlement is required,&lt;/p&gt;
     * @param USER_ID The user id
     */
    Func_3_0_0Service.prototype.func300GetUserByUserIdWithHttpInfo = function (USER_ID, extraHttpRequestParams) {
        var path = this.basePath + '/users/user_id/${USER_ID}'
            .replace('${' + 'USER_ID' + '}', String(USER_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'USER_ID' is not null or undefined
        if (USER_ID === null || USER_ID === undefined) {
            throw new Error('Required parameter USER_ID was null or undefined when calling func300GetUserByUserId.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get User by USERNAME
     * &lt;p&gt;Get user by USERNAME&lt;/p&gt;&lt;p&gt;Login is required. CanGetAnyUser entitlement is required,&lt;/p&gt;
     */
    Func_3_0_0Service.prototype.func300GetUserByUsernameWithHttpInfo = function (extraHttpRequestParams) {
        var path = this.basePath + '/users/username/USERNAME';
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Get Views for Account.
     * &lt;h1&gt;Views&lt;/h1&gt;&lt;p&gt;Views in Open Bank Project provide a mechanism for fine grained access control and delegation to Accounts and Transactions. Account holders use the &#39;owner&#39; view by default. Delegated access is made through other views for example &#39;accountants&#39;, &#39;share-holders&#39; or &#39;tagging-application&#39;. Views can be created via the API and each view has a list of entitlements.&lt;/p&gt;&lt;p&gt;Views on accounts and transactions filter the underlying data to redact certain fields for certain users. For instance the balance on an account may be hidden from the public. The way to know what is possible on a view is determined in the following JSON.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Data:&lt;/strong&gt; When a view moderates a set of data, some fields my contain the value &lt;code&gt;null&lt;/code&gt; rather than the original value. This indicates either that the user is not allowed to see the original data or the field is empty.&lt;/p&gt;&lt;p&gt;There is currently one exception to this rule; the &#39;holder&#39; field in the JSON contains always a value which is either an alias or the real name - indicated by the &#39;is_alias&#39; field.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Action:&lt;/strong&gt; When a user performs an action like trying to post a comment (with POST API call), if he is not allowed, the body response will contain an error message.&lt;/p&gt;&lt;p&gt;&lt;strong&gt;Metadata:&lt;/strong&gt; Transaction metadata (like images, tags, comments, etc.) will appears &lt;em&gt;ONLY&lt;/em&gt; on the view where they have been created e.g. comments posted to the public view only appear on the public view.&lt;/p&gt;&lt;p&gt;The other account metadata fields (like image_URL, more_info, etc.) are unique through all the views. Example, if a user edits the &#39;more_info&#39; field in the &#39;team&#39; view, then the view &#39;authorities&#39; will show the new value (if it is allowed to do it).&lt;/p&gt;&lt;h1&gt;All&lt;/h1&gt;&lt;p&gt;&lt;em&gt;Optional&lt;/em&gt;&lt;/p&gt;&lt;p&gt;Returns the list of the views created for account ACCOUNT_ID at BANK_ID.&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300GetViewsForBankAccountWithHttpInfo = function (ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/views'
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300GetViewsForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300GetViewsForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Get,
            headers: headers,
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    /**
     * Update View.
     * &lt;p&gt;Update an existing view on a bank account&lt;/p&gt;&lt;p&gt;OAuth authentication is required and the user needs to have access to the owner view.&lt;/p&gt;&lt;p&gt;The json sent is the same as during view creation (above), with one difference: the &#39;name&#39; field of a view is not editable (it is only set when a view is created)&lt;/p&gt;
     * @param body BANK_BODY
     * @param VIEW_ID The view id
     * @param ACCOUNT_ID The account id
     * @param BANK_ID The bank id
     */
    Func_3_0_0Service.prototype.func300UpdateViewForBankAccountWithHttpInfo = function (body, VIEW_ID, ACCOUNT_ID, BANK_ID, extraHttpRequestParams) {
        var path = this.basePath + '/banks/${BANK_ID}/accounts/${ACCOUNT_ID}/views/${VIEW_ID}'
            .replace('${' + 'VIEW_ID' + '}', String(VIEW_ID))
            .replace('${' + 'ACCOUNT_ID' + '}', String(ACCOUNT_ID))
            .replace('${' + 'BANK_ID' + '}', String(BANK_ID));
        var queryParameters = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](this.defaultHeaders.toJSON()); // https://github.com/angular/angular/issues/6845
        // verify required parameter 'body' is not null or undefined
        if (body === null || body === undefined) {
            throw new Error('Required parameter body was null or undefined when calling func300UpdateViewForBankAccount.');
        }
        // verify required parameter 'VIEW_ID' is not null or undefined
        if (VIEW_ID === null || VIEW_ID === undefined) {
            throw new Error('Required parameter VIEW_ID was null or undefined when calling func300UpdateViewForBankAccount.');
        }
        // verify required parameter 'ACCOUNT_ID' is not null or undefined
        if (ACCOUNT_ID === null || ACCOUNT_ID === undefined) {
            throw new Error('Required parameter ACCOUNT_ID was null or undefined when calling func300UpdateViewForBankAccount.');
        }
        // verify required parameter 'BANK_ID' is not null or undefined
        if (BANK_ID === null || BANK_ID === undefined) {
            throw new Error('Required parameter BANK_ID was null or undefined when calling func300UpdateViewForBankAccount.');
        }
        // to determine the Accept header
        var produces = [];
        // authentication (directLogin) required
        if (this.configuration.apiKeys["Authorization"]) {
            headers.set('Authorization', this.configuration.apiKeys["Authorization"]);
        }
        headers.set('Content-Type', 'application/json');
        var requestOptions = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestOptions"]({
            method: __WEBPACK_IMPORTED_MODULE_1__angular_http__["RequestMethod"].Put,
            headers: headers,
            body: body == null ? '' : JSON.stringify(body),
            search: queryParameters,
            withCredentials: this.configuration.withCredentials
        });
        // https://github.com/swagger-api/swagger-codegen/issues/4037
        if (extraHttpRequestParams) {
            requestOptions = Object.assign(requestOptions, extraHttpRequestParams);
        }
        return this.http.request(path, requestOptions);
    };
    return Func_3_0_0Service;
}());
Func_3_0_0Service = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()), __param(1, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Inject"])(__WEBPACK_IMPORTED_MODULE_3__variables__["a" /* BASE_PATH */])), __param(2, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Optional"])()),
    __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"], String, __WEBPACK_IMPORTED_MODULE_4__configuration__["a" /* Configuration */]])
], Func_3_0_0Service);



/***/ }),
/* 12 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ApiModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__angular_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__angular_common__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__angular_http__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__configuration__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_func121_service__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__api_func130_service__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__api_func140_service__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__api_func200_service__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__api_func210_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__api_func220_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__api_func300_service__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var ApiModule = ApiModule_1 = (function () {
    function ApiModule() {
    }
    ApiModule.forConfig = function (configurationFactory) {
        return {
            ngModule: ApiModule_1,
            providers: [{ provide: __WEBPACK_IMPORTED_MODULE_3__configuration__["a" /* Configuration */], useFactory: configurationFactory }]
        };
    };
    return ApiModule;
}());
ApiModule = ApiModule_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"], __WEBPACK_IMPORTED_MODULE_2__angular_http__["HttpModule"]],
        declarations: [],
        exports: [],
        providers: [__WEBPACK_IMPORTED_MODULE_4__api_func121_service__["a" /* Func_1_2_1Service */], __WEBPACK_IMPORTED_MODULE_5__api_func130_service__["a" /* Func_1_3_0Service */], __WEBPACK_IMPORTED_MODULE_6__api_func140_service__["a" /* Func_1_4_0Service */], __WEBPACK_IMPORTED_MODULE_7__api_func200_service__["a" /* Func_2_0_0Service */], __WEBPACK_IMPORTED_MODULE_8__api_func210_service__["a" /* Func_2_1_0Service */], __WEBPACK_IMPORTED_MODULE_9__api_func220_service__["a" /* Func_2_2_0Service */], __WEBPACK_IMPORTED_MODULE_10__api_func300_service__["a" /* Func_3_0_0Service */]]
    })
], ApiModule);

var ApiModule_1;


/***/ }),
/* 13 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return APIS; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__func121_service__ = __webpack_require__(5);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_0__func121_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__func130_service__ = __webpack_require__(6);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "c", function() { return __WEBPACK_IMPORTED_MODULE_1__func130_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__func140_service__ = __webpack_require__(7);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_2__func140_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__func200_service__ = __webpack_require__(8);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "e", function() { return __WEBPACK_IMPORTED_MODULE_3__func200_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__func210_service__ = __webpack_require__(9);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "f", function() { return __WEBPACK_IMPORTED_MODULE_4__func210_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__func220_service__ = __webpack_require__(10);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "g", function() { return __WEBPACK_IMPORTED_MODULE_5__func220_service__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__func300_service__ = __webpack_require__(11);
/* harmony namespace reexport (by used) */ __webpack_require__.d(__webpack_exports__, "h", function() { return __WEBPACK_IMPORTED_MODULE_6__func300_service__["a"]; });














var APIS = [__WEBPACK_IMPORTED_MODULE_0__func121_service__["a" /* Func_1_2_1Service */], __WEBPACK_IMPORTED_MODULE_1__func130_service__["a" /* Func_1_3_0Service */], __WEBPACK_IMPORTED_MODULE_2__func140_service__["a" /* Func_1_4_0Service */], __WEBPACK_IMPORTED_MODULE_3__func200_service__["a" /* Func_2_0_0Service */], __WEBPACK_IMPORTED_MODULE_4__func210_service__["a" /* Func_2_1_0Service */], __WEBPACK_IMPORTED_MODULE_5__func220_service__["a" /* Func_2_2_0Service */], __WEBPACK_IMPORTED_MODULE_6__func300_service__["a" /* Func_3_0_0Service */]];


/***/ }),
/* 14 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__api_api__ = __webpack_require__(13);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "APIS", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_1_2_1Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["b"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_1_3_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["c"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_1_4_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["d"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_2_0_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["e"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_2_1_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["f"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_2_2_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["g"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Func_3_0_0Service", function() { return __WEBPACK_IMPORTED_MODULE_0__api_api__["h"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__variables__ = __webpack_require__(3);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "BASE_PATH", function() { return __WEBPACK_IMPORTED_MODULE_1__variables__["a"]; });
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "COLLECTION_FORMATS", function() { return __WEBPACK_IMPORTED_MODULE_1__variables__["b"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__configuration__ = __webpack_require__(1);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "Configuration", function() { return __WEBPACK_IMPORTED_MODULE_2__configuration__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_module__ = __webpack_require__(12);
/* harmony namespace reexport (by provided) */ __webpack_require__.d(__webpack_exports__, "ApiModule", function() { return __WEBPACK_IMPORTED_MODULE_3__api_module__["a"]; });






/***/ }),
/* 15 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_15__;

/***/ }),
/* 16 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_16__;

/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_17__;

/***/ }),
/* 18 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_18__;

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlMWQ1OGU2YjUyMjdhNTk2YzY3NiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYW5ndWxhci9odHRwXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZ3VyYXRpb24udHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiQGFuZ3VsYXIvY29yZVwiIiwid2VicGFjazovLy8uL3NyYy92YXJpYWJsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3J4anMtb3BlcmF0b3JzLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzEyMS5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzEzMC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzE0MC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzIwMC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzIxMC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzIyMC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvZnVuYzMwMC5zZXJ2aWNlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkubW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9hcGkvYXBpLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAYW5ndWxhci9jb21tb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL2FkZC9vYnNlcnZhYmxlL3Rocm93XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicnhqcy9hZGQvb3BlcmF0b3IvY2F0Y2hcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIiJdLCJuYW1lcyI6W10sIm1h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Q0FBLGdEOzs7Ozs7QUNBQSxnRDs7Ozs7O0FDQUEsZ0QiLCJmaWxlIjoiY29yZS51bWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJAYW5ndWxhci9odHRwXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcInJ4anMvYWRkL29ic2VydmFibGUvdGhyb3dcIiksIHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9jYXRjaFwiKSwgcmVxdWlyZShcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJAYW5ndWxhci9odHRwXCIsIFwiQGFuZ3VsYXIvY29yZVwiLCBcIkBhbmd1bGFyL2NvbW1vblwiLCBcInJ4anMvYWRkL29ic2VydmFibGUvdGhyb3dcIiwgXCJyeGpzL2FkZC9vcGVyYXRvci9jYXRjaFwiLCBcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJuZ3gtb2JwLWNvcmVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJAYW5ndWxhci9odHRwXCIpLCByZXF1aXJlKFwiQGFuZ3VsYXIvY29yZVwiKSwgcmVxdWlyZShcIkBhbmd1bGFyL2NvbW1vblwiKSwgcmVxdWlyZShcInJ4anMvYWRkL29ic2VydmFibGUvdGhyb3dcIiksIHJlcXVpcmUoXCJyeGpzL2FkZC9vcGVyYXRvci9jYXRjaFwiKSwgcmVxdWlyZShcInJ4anMvYWRkL29wZXJhdG9yL21hcFwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wibmd4LW9icC1jb3JlXCJdID0gZmFjdG9yeShyb290W1wiQGFuZ3VsYXIvaHR0cFwiXSwgcm9vdFtcIkBhbmd1bGFyL2NvcmVcIl0sIHJvb3RbXCJAYW5ndWxhci9jb21tb25cIl0sIHJvb3RbXCJyeGpzL2FkZC9vYnNlcnZhYmxlL3Rocm93XCJdLCByb290W1wicnhqcy9hZGQvb3BlcmF0b3IvY2F0Y2hcIl0sIHJvb3RbXCJyeGpzL2FkZC9vcGVyYXRvci9tYXBcIl0pO1xufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMl9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE1X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTZfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xN19fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzE4X18pIHtcbnJldHVybiBcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTQpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGUxZDU4ZTZiNTIyN2E1OTZjNjc2IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2h0dHBcIlxuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJleHBvcnQgaW50ZXJmYWNlIENvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzIHtcbiAgICBhcGlLZXlzPzoge1sga2V5OiBzdHJpbmcgXTogc3RyaW5nfTtcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBwYXNzd29yZD86IHN0cmluZztcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8ICgoKSA9PiBzdHJpbmcpO1xuICAgIGJhc2VQYXRoPzogc3RyaW5nO1xuICAgIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uIHtcbiAgICBhcGlLZXlzPzoge1sga2V5OiBzdHJpbmcgXTogc3RyaW5nfTtcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBwYXNzd29yZD86IHN0cmluZztcbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyB8ICgoKSA9PiBzdHJpbmcpO1xuICAgIGJhc2VQYXRoPzogc3RyaW5nO1xuICAgIHdpdGhDcmVkZW50aWFscz86IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uUGFyYW1ldGVyczogQ29uZmlndXJhdGlvblBhcmFtZXRlcnMgPSB7fSkge1xuICAgICAgICB0aGlzLmFwaUtleXMgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5hcGlLZXlzO1xuICAgICAgICB0aGlzLnVzZXJuYW1lID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMudXNlcm5hbWU7XG4gICAgICAgIHRoaXMucGFzc3dvcmQgPSBjb25maWd1cmF0aW9uUGFyYW1ldGVycy5wYXNzd29yZDtcbiAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IGNvbmZpZ3VyYXRpb25QYXJhbWV0ZXJzLmFjY2Vzc1Rva2VuO1xuICAgICAgICB0aGlzLmJhc2VQYXRoID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMuYmFzZVBhdGg7XG4gICAgICAgIHRoaXMud2l0aENyZWRlbnRpYWxzID0gY29uZmlndXJhdGlvblBhcmFtZXRlcnMud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9jb25maWd1cmF0aW9uLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkBhbmd1bGFyL2NvcmVcIlxuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY29uc3QgQkFTRV9QQVRIID0gbmV3IEluamVjdGlvblRva2VuPHN0cmluZz4oJ2Jhc2VQYXRoJyk7XG5leHBvcnQgY29uc3QgQ09MTEVDVElPTl9GT1JNQVRTID0ge1xuICAgICdjc3YnOiAnLCcsXG4gICAgJ3Rzdic6ICcgICAnLFxuICAgICdzc3YnOiAnICcsXG4gICAgJ3BpcGVzJzogJ3wnXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvdmFyaWFibGVzLnRzIiwiLy8gUnhKUyBpbXBvcnRzIGFjY29yZGluZyB0byBodHRwczovL2FuZ3VsYXIuaW8vZG9jcy90cy9sYXRlc3QvZ3VpZGUvc2VydmVyLWNvbW11bmljYXRpb24uaHRtbCMhI3J4anNcblxuLy8gU2VlIG5vZGVfbW9kdWxlL3J4anMvUnhqcy5qc1xuLy8gSW1wb3J0IGp1c3QgdGhlIHJ4anMgc3RhdGljcyBhbmQgb3BlcmF0b3JzIHdlIG5lZWQgZm9yIFRISVMgYXBwLlxuXG4vLyBTdGF0aWNzXG5pbXBvcnQgJ3J4anMvYWRkL29ic2VydmFibGUvdGhyb3cnO1xuXG4vLyBPcGVyYXRvcnNcbmltcG9ydCAncnhqcy9hZGQvb3BlcmF0b3IvY2F0Y2gnO1xuaW1wb3J0ICdyeGpzL2FkZC9vcGVyYXRvci9tYXAnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL3J4anMtb3BlcmF0b3JzLnRzIiwiLyoqXG4gKiBPcGVuIEJhbmsgUHJvamVjdCBBUElcbiAqIEFuIE9wZW4gU291cmNlIEFQSSBmb3IgQmFua3MuIChjKSBURVNPQkUgTHRkLiAyMDExIC0gMjAxNi4gTGljZW5zZWQgdW5kZXIgdGhlIEFHUEwgYW5kIGNvbW1lcmNpYWwgbGljZW5jZXMuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IHYzLjAuMFxuICogQ29udGFjdDogY29udGFjdEB0ZXNvYmUuY29tXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJy4uL3J4anMtb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgQVBJSW5mb0pTT04gfSBmcm9tICcuLi9tb2RlbC9hUElJbmZvSlNPTic7XG5pbXBvcnQgeyBBbGlhc0pTT04gfSBmcm9tICcuLi9tb2RlbC9hbGlhc0pTT04nO1xuaW1wb3J0IHsgQmFua0pTT04gfSBmcm9tICcuLi9tb2RlbC9iYW5rSlNPTic7XG5pbXBvcnQgeyBCYW5rc0pTT04gfSBmcm9tICcuLi9tb2RlbC9iYW5rc0pTT04nO1xuaW1wb3J0IHsgQ29ycG9yYXRlTG9jYXRpb25KU09OIH0gZnJvbSAnLi4vbW9kZWwvY29ycG9yYXRlTG9jYXRpb25KU09OJztcbmltcG9ydCB7IEVycm9yQmFua0FjY291bnROb3RGb3VuZCB9IGZyb20gJy4uL21vZGVsL2Vycm9yQmFua0FjY291bnROb3RGb3VuZCc7XG5pbXBvcnQgeyBFcnJvckludmFsaWRKc29uRm9ybWF0IH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JJbnZhbGlkSnNvbkZvcm1hdCc7XG5pbXBvcnQgeyBFcnJvclVua25vd25FcnJvciB9IGZyb20gJy4uL21vZGVsL2Vycm9yVW5rbm93bkVycm9yJztcbmltcG9ydCB7IEVycm9yVXNlck5vdExvZ2dlZEluIH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JVc2VyTm90TG9nZ2VkSW4nO1xuaW1wb3J0IHsgSW1hZ2VVcmxKU09OIH0gZnJvbSAnLi4vbW9kZWwvaW1hZ2VVcmxKU09OJztcbmltcG9ydCB7IE1vcmVJbmZvSlNPTiB9IGZyb20gJy4uL21vZGVsL21vcmVJbmZvSlNPTic7XG5pbXBvcnQgeyBPcGVuQ29ycG9yYXRlVXJsSlNPTiB9IGZyb20gJy4uL21vZGVsL29wZW5Db3Jwb3JhdGVVcmxKU09OJztcbmltcG9ydCB7IE90aGVyQWNjb3VudEpTT04gfSBmcm9tICcuLi9tb2RlbC9vdGhlckFjY291bnRKU09OJztcbmltcG9ydCB7IE90aGVyQWNjb3VudE1ldGFkYXRhSlNPTiB9IGZyb20gJy4uL21vZGVsL290aGVyQWNjb3VudE1ldGFkYXRhSlNPTic7XG5pbXBvcnQgeyBPdGhlckFjY291bnRzSlNPTiB9IGZyb20gJy4uL21vZGVsL290aGVyQWNjb3VudHNKU09OJztcbmltcG9ydCB7IFBoeXNpY2FsTG9jYXRpb25KU09OIH0gZnJvbSAnLi4vbW9kZWwvcGh5c2ljYWxMb2NhdGlvbkpTT04nO1xuaW1wb3J0IHsgUG9zdFRyYW5zYWN0aW9uQ29tbWVudEpTT04gfSBmcm9tICcuLi9tb2RlbC9wb3N0VHJhbnNhY3Rpb25Db21tZW50SlNPTic7XG5pbXBvcnQgeyBQb3N0VHJhbnNhY3Rpb25JbWFnZUpTT04gfSBmcm9tICcuLi9tb2RlbC9wb3N0VHJhbnNhY3Rpb25JbWFnZUpTT04nO1xuaW1wb3J0IHsgUG9zdFRyYW5zYWN0aW9uVGFnSlNPTiB9IGZyb20gJy4uL21vZGVsL3Bvc3RUcmFuc2FjdGlvblRhZ0pTT04nO1xuaW1wb3J0IHsgUG9zdFRyYW5zYWN0aW9uV2hlcmVKU09OIH0gZnJvbSAnLi4vbW9kZWwvcG9zdFRyYW5zYWN0aW9uV2hlcmVKU09OJztcbmltcG9ydCB7IFN1Y2Nlc3NNZXNzYWdlIH0gZnJvbSAnLi4vbW9kZWwvc3VjY2Vzc01lc3NhZ2UnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25Db21tZW50SlNPTiB9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uQ29tbWVudEpTT04nO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25Db21tZW50c0pTT04gfSBmcm9tICcuLi9tb2RlbC90cmFuc2FjdGlvbkNvbW1lbnRzSlNPTic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkltYWdlSlNPTiB9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uSW1hZ2VKU09OJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uSW1hZ2VzSlNPTiB9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uSW1hZ2VzSlNPTic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbkpTT04gfSBmcm9tICcuLi9tb2RlbC90cmFuc2FjdGlvbkpTT04nO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25OYXJyYXRpdmVKU09OIH0gZnJvbSAnLi4vbW9kZWwvdHJhbnNhY3Rpb25OYXJyYXRpdmVKU09OJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uVGFnSlNPTiB9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uVGFnSlNPTic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbldoZXJlSlNPTiB9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uV2hlcmVKU09OJztcbmltcG9ydCB7IFVwZGF0ZUFjY291bnRKU09OIH0gZnJvbSAnLi4vbW9kZWwvdXBkYXRlQWNjb3VudEpTT04nO1xuaW1wb3J0IHsgVXJsSlNPTiB9IGZyb20gJy4uL21vZGVsL3VybEpTT04nO1xuaW1wb3J0IHsgVmlld0lkc0pzb24gfSBmcm9tICcuLi9tb2RlbC92aWV3SWRzSnNvbic7XG5pbXBvcnQgeyBWaWV3SlNPTlYxMjEgfSBmcm9tICcuLi9tb2RlbC92aWV3SlNPTlYxMjEnO1xuaW1wb3J0IHsgVmlld3NKU09OVjEyMSB9IGZyb20gJy4uL21vZGVsL3ZpZXdzSlNPTlYxMjEnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRnVuY18xXzJfMVNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHA6Ly9hcGMub3BlbmJhbmtwcm9qZWN0LmNvbS9vYnAvdjMuMC4wJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuXHRcdFx0dGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEV4dGVuZHMgb2JqZWN0IGJ5IGNvcGluZyBub24tZXhpc3RpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0gb2JqQSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAgICAgKiBAcGFyYW0gb2JqQiBzb3VyY2Ugb2JqZWN0XG4gICAgICovXG4gICAgcHJpdmF0ZSBleHRlbmRPYmo8VDEsVDI+KG9iakE6IFQxLCBvYmpCOiBUMikge1xuICAgICAgICBmb3IobGV0IGtleSBpbiBvYmpCKXtcbiAgICAgICAgICAgIGlmKG9iakIuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgKG9iakEgYXMgYW55KVtrZXldID0gKG9iakIgYXMgYW55KVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8VDEmVDI+b2JqQTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgICAqIEByZXR1cm4gdHJ1ZTogY29uc3VtZXMgY29udGFpbnMgJ211bHRpcGFydC9mb3JtLWRhdGEnLCBmYWxzZTogb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgZm9yIChsZXQgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICAgICAgaWYgKGZvcm0gPT09IGNvbnN1bWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UG9zdHMgYSBjb21tZW50IGFib3V0IGEgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgb24gYSA8YSBocmVmPVxcXCIjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcXCI+dmlldzwvYT4gVklFV19JRC48L3A+PHA+JHthdXRoZW50aWNhdGlvblJlcXVpcmVkTWVzc2FnZShmYWxzZSl9PC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIHNpbmNlIHRoZSBjb21tZW50IGlzIGxpbmtlZCB3aXRoIHRoZSB1c2VyLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgY29tbWVudC5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24oYm9keTogUG9zdFRyYW5zYWN0aW9uQ29tbWVudEpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uQ29tbWVudEpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUFkZENvbW1lbnRGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhib2R5LCBUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+QWRkIHRoZSBnZW9sb2NhdGlvbiBvZiB0aGUgY291bnRlcnBhcnR5J3MgcmVnaXN0ZXJlZCBhZGRyZXNzPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCBDb3Jwb3JhdGUgTG9jYXRpb24gdG8gQ291bnRlcnBhcnR5XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uKGJvZHk6IENvcnBvcmF0ZUxvY2F0aW9uSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxQWRkQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb25XaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+QWRkIGEgdXJsIHRoYXQgcG9pbnRzIHRvIHRoZSBsb2dvIG9mIHRoZSBjb3VudGVycGFydHk8L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIGltYWdlIHVybCB0byBvdGhlciBiYW5rIGFjY291bnQuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUltYWdlVXJsKGJvZHk6IEltYWdlVXJsSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxQWRkQ291bnRlcnBhcnR5SW1hZ2VVcmxXaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+QWRkIGEgZGVzY3JpcHRpb24gb2YgdGhlIGNvdW50ZXIgcGFydHkgZnJvbSB0aGUgcGVycGVzdGl2ZSBvZiB0aGUgYWNjb3VudCBlLmcuIE15IGRlbnRpc3QuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCBDb3VudGVycGFydHkgTW9yZSBJbmZvXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU1vcmVJbmZvKGJvZHk6IE1vcmVJbmZvSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxQWRkQ291bnRlcnBhcnR5TW9yZUluZm9XaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+QWRkIG9wZW4gY29ycG9yYXRlcyB1cmwgdG8gb3RoZXIgYmFuayBhY2NvdW50LjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgT3BlbiBDb3Jwb3JhdGVzIFVSTCB0byBDb3VudGVycGFydHlcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwoYm9keTogT3BlbkNvcnBvcmF0ZVVybEpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsV2l0aEh0dHBJbmZvKGJvZHksIE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkFkZCBnZW9jb29yZGluYXRlcyBvZiB0aGUgY291bnRlcnBhcnR5J3MgbWFpbiBsb2NhdGlvbjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgcGh5c2ljYWwgbG9jYXRpb24gdG8gb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uKGJvZHk6IFBoeXNpY2FsTG9jYXRpb25KU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uV2l0aEh0dHBJbmZvKGJvZHksIE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkNyZWF0ZXMgdGhlIHB1YmxpYyBhbGlhcyBmb3IgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+PHA+Tm90ZTogUHVibGljIGFsaWFzZXMgYXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZvciBuZXcgJ290aGVyIGFjY291bnRzIC8gY291bnRlcnBhcnRpZXMnLCBzbyB0aGlzIGNhbGwgc2hvdWxkIG9ubHkgYmUgdXNlZCBpZiB0aGUgcHVibGljIGFsaWFzIHdhcyBkZWxldGVkLjwvcD48cD5UaGUgVklFV19JRCBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgdmlldyB0aGUgY2FsbGVyIGlzIHBlcm1pdHRlZCB0byBhY2Nlc3MgdG8gYW5kIHRoYXQgaGFzIHBlcm1pc3Npb24gdG8gY3JlYXRlIHB1YmxpYyBhbGlhc2VzLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgcHVibGljIGFsaWFzIHRvIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UHVibGljQWxpYXMoYm9keTogQWxpYXNKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRDb3VudGVycGFydHlQdWJsaWNBbGlhc1dpdGhIdHRwSW5mbyhib2R5LCBPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5BIHVybCB3aGljaCByZXByZXNlbnRzIHRoZSBjb3VudGVycGFydHkgKGhvbWUgcGFnZSB1cmwgZXRjLik8L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIHVybCB0byBvdGhlciBiYW5rIGFjY291bnQuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eVVybChib2R5OiBVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmxXaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UG9zdHMgYW4gaW1hZ2UgYWJvdXQgYSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBvbiBhIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj52aWV3PC9hPiBWSUVXX0lELjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+PHA+VGhlIGltYWdlIGlzIGxpbmtlZCB3aXRoIHRoZSB1c2VyLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgYW4gaW1hZ2UuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbihib2R5OiBQb3N0VHJhbnNhY3Rpb25JbWFnZUpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uSW1hZ2VKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKGJvZHksIFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5DcmVhdGVzIGEgcHJpdmF0ZSBhbGlhcyBmb3IgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgQ3JlYXRlIE90aGVyIEFjY291bnQgUHJpdmF0ZSBBbGlhc1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRPdGhlckFjY291bnRQcml2YXRlQWxpYXMoYm9keTogQWxpYXNKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRPdGhlckFjY291bnRQcml2YXRlQWxpYXNXaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R3JhbnRzIHRoZSB1c2VyIFVTRVJfSUQgYXQgdGhlaXIgcHJvdmlkZXIgUFJPVklERVJfSUQgYWNjZXNzIHRvIGEgbGlzdCBvZiB2aWV3cyBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQuPC9wPjxwPkFsbCB1cmwgcGFyYW1ldGVycyBtdXN0IGJlIDxhIGhyZWY9XFxcImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGVyY2VudC1lbmNvZGluZ1xcXCI+JS1lbmNvZGVkPC9hPiwgd2hpY2ggaXMgb2Z0ZW4gZXNwZWNpYWxseSByZWxldmFudCBmb3IgVVNFUl9JRCBhbmQgUFJPVklERVJfSUQuPC9wPjxwPk9BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy48L3A+XG4gICAgICogQHN1bW1hcnkgR3JhbnQgVXNlciBhY2Nlc3MgdG8gYSBsaXN0IG9mIHZpZXdzLlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBQUk9WSURFUl9JRCBUaGUgcHJvdmlkZXIgaWRcbiAgICAgKiBAcGFyYW0gVVNFUl9JRCBUaGUgdXNlciBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JNdWx0aXBsZVZpZXdzKGJvZHk6IFZpZXdJZHNKc29uLCBQUk9WSURFUl9JRDogc3RyaW5nLCBVU0VSX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxWaWV3c0pTT05WMTIxPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yTXVsdGlwbGVWaWV3c1dpdGhIdHRwSW5mbyhib2R5LCBQUk9WSURFUl9JRCwgVVNFUl9JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R3JhbnRzIHRoZSB1c2VyIFVTRVJfSUQgYXQgdGhlaXIgcHJvdmlkZXIgUFJPVklERVJfSUQgYWNjZXNzIHRvIHRoZSB2aWV3IFZJRVdfSUQgYXQgQkFOS19JRCBmb3IgYWNjb3VudCBBQ0NPVU5UX0lELiBBbGwgdXJsIHBhcmFtZXRlcnMgbXVzdCBiZSA8YSBocmVmPVxcXCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BlcmNlbnQtZW5jb2RpbmdcXFwiPiUtZW5jb2RlZDwvYT4sIHdoaWNoIGlzIG9mdGVuIGVzcGVjaWFsbHkgcmVsZXZhbnQgZm9yIFVTRVJfSUQgYW5kIFBST1ZJREVSX0lELjwvcD48cD5PQXV0aCBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIG93bmVyIHZpZXcuPC9wPjxwPkdyYW50aW5nIGFjY2VzcyB0byBhIHB1YmxpYyB2aWV3IHdpbGwgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UsIGFzIHRoZSB1c2VyIGFscmVhZHkgaGFzIGFjY2Vzcy48L3A+XG4gICAgICogQHN1bW1hcnkgR3JhbnQgVXNlciBhY2Nlc3MgdG8gVmlldy5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gUFJPVklERVJfSUQgVGhlIHByb3ZpZGVyIGlkXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3KGJvZHk6IGFueSwgUFJPVklERVJfSUQ6IHN0cmluZywgVVNFUl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxWaWV3SlNPTlYxMjE+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3V2l0aEh0dHBJbmZvKGJvZHksIFBST1ZJREVSX0lELCBVU0VSX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5Qb3N0cyBhIHRhZyBhYm91dCBhIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIG9uIGEgPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+IFZJRVdfSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeTwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhcyB0aGUgdGFnIGlzIGxpbmtlZCB3aXRoIHRoZSB1c2VyLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBBZGQgYSB0YWcuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkVGFnRm9yVmlld09uVHJhbnNhY3Rpb24oYm9keTogUG9zdFRyYW5zYWN0aW9uVGFnSlNPTiwgVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VHJhbnNhY3Rpb25UYWdKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRUYWdGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhib2R5LCBUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRC48L3A+PHA+Tm90ZTogVW5saWtlIG90aGVyIGl0ZW1zIG9mIG1ldGFkYXRhLCB0aGVyZSBpcyBvbmx5IG9uZSBcXFwibmFycmF0aXZlXFxcIiBwZXIgdHJhbnNhY3Rpb24gYWNjcm9zcyBhbGwgdmlld3MuIElmIHlvdSBzZXQgbmFycmF0aXZlIHZpYSBhIHZpZXcgZS5nLiB2aWV3LXggaXQgd2lsbCBiZSBzZWVuIHZpYSB2aWV3LXkgKGFzIGxvbmcgYXMgdmlldy15IGhhcyBwZXJtaXNzaW9uIHRvIHNlZSB0aGUgbmFycmF0aXZlKS48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIG5hcnJhdGl2ZS5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRUcmFuc2FjdGlvbk5hcnJhdGl2ZShib2R5OiBUcmFuc2FjdGlvbk5hcnJhdGl2ZUpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRUcmFuc2FjdGlvbk5hcnJhdGl2ZVdpdGhIdHRwSW5mbyhib2R5LCBUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlcyBhIFxcXCJ3aGVyZVxcXCIgR2VvIHRhZyBvbiBhIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIGluIGEgPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+LjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+PHA+VGhlIGdlbyB0YWcgaXMgbGlua2VkIHdpdGggdGhlIHVzZXIuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCB3aGVyZSB0YWcuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbihib2R5OiBQb3N0VHJhbnNhY3Rpb25XaGVyZUpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFBZGRXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKGJvZHksIFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgdGhlIGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQgUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNpbmdsZSBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEIGluY2x1ZGluZzo8L3A+PHVsPiAgPGxpPlNob3J0IGFuZCBmdWxsIG5hbWUgb2YgYmFuazwvbGk+ICA8bGk+TG9nbyBVUkw8L2xpPiAgPGxpPldlYnNpdGU8L2xpPjwvdWw+XG4gICAgICogQHN1bW1hcnkgR2V0IEJhbmtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQmFua0J5SWQoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxCYW5rSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxQmFua0J5SWRXaXRoSHR0cEluZm8oQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlIHRoZSBjb21tZW50IENPTU1FTlRfSUQgYWJvdXQgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIG1hZGUgb24gPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+LjwvcD48cD5BdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQuIFRoZSB1c2VyIG11c3QgZWl0aGVyIGhhdmUgb3duZXIgcHJpdmlsZWdlcyBmb3IgdGhpcyBhY2NvdW50LCBvciBtdXN0IGJlIHRoZSB1c2VyIHRoYXQgcG9zdGVkIHRoZSBjb21tZW50LjwvcD5cbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgY29tbWVudC5cbiAgICAgKiBAcGFyYW0gQ09NTUVOVF9JRCBUaGUgY29tbWVudCBpZFxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvbW1lbnRGb3JWaWV3T25UcmFuc2FjdGlvbihDT01NRU5UX0lEOiBzdHJpbmcsIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxRGVsZXRlQ29tbWVudEZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKENPTU1FTlRfSUQsIFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5EZWxldGUgY29ycG9yYXRlIGxvY2F0aW9uIG9mIG90aGVyIGJhbmsgYWNjb3VudC4gRGVsZXRlIHRoZSBnZW9sb2NhdGlvbiBvZiB0aGUgY291bnRlcnBhcnR5J3MgcmVnaXN0ZXJlZCBhZGRyZXNzPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBDb3VudGVycGFydHkgQ29ycG9yYXRlIExvY2F0aW9uLlxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbihPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb25XaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlIGltYWdlIHVybCBvZiBvdGhlciBiYW5rIGFjY291bnQuPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBDb3VudGVycGFydHkgSW1hZ2UgVVJMXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eUltYWdlVXJsKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlJbWFnZVVybFdpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgbW9yZSBpbmZvIG9mIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5TW9yZUluZm8oT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eU1vcmVJbmZvV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkRlbGV0ZSBvcGVuIGNvcnBvcmF0ZSB1cmwgb2Ygb3RoZXIgYmFuayBhY2NvdW50LjwvcD5cbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgQ291bnRlcnBhcnR5IE9wZW4gQ29ycG9yYXRlcyBVUkxcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwoT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkRlbGV0ZSBwaHlzaWNhbCBsb2NhdGlvbiBvZiBvdGhlciBiYW5rIGFjY291bnQuPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBDb3VudGVycGFydHkgUGh5c2ljYWwgTG9jYXRpb24uXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb24oT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb25XaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlcyB0aGUgcHJpdmF0ZSBhbGlhcyBvZiB0aGUgb3RoZXIgYWNjb3VudCBPVEhFUl9BQ0NPVU5UX0lELjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgQ291bnRlcnBhcnR5IFByaXZhdGUgQWxpYXNcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5UHJpdmF0ZUFsaWFzKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQcml2YXRlQWxpYXNXaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlcyB0aGUgcHVibGljIGFsaWFzIG9mIHRoZSBvdGhlciBhY2NvdW50IE9USEVSX0FDQ09VTlRfSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBDb3VudGVycGFydHkgUHVibGljIEFsaWFzXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQdWJsaWNBbGlhc1dpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAc3VtbWFyeSBEZWxldGUgdXJsIG9mIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5VXJsKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlVcmxXaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlcyB0aGUgaW1hZ2UgSU1BR0VfSUQgYWJvdXQgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIG1hZGUgb24gPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+LjwvcD48cD5BdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQuIFRoZSB1c2VyIG11c3QgZWl0aGVyIGhhdmUgb3duZXIgcHJpdmlsZWdlcyBmb3IgdGhpcyBhY2NvdW50LCBvciBtdXN0IGJlIHRoZSB1c2VyIHRoYXQgcG9zdGVkIHRoZSBpbWFnZS48L3A+XG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGFuIGltYWdlXG4gICAgICogQHBhcmFtIElNQUdFX0lEIFRoZSBpbWFnZSBpZFxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUltYWdlRm9yVmlld09uVHJhbnNhY3Rpb24oSU1BR0VfSUQ6IHN0cmluZywgVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKElNQUdFX0lELCBUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlcyB0aGUgdGFnIFRBR19JRCBhYm91dCB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgbWFkZSBvbiA8YSBocmVmPVxcXCIjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcXCI+dmlldzwvYT4uPC9wPjxwPkF1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZC4gVGhlIHVzZXIgbXVzdCBlaXRoZXIgaGF2ZSBvd25lciBwcml2aWxlZ2VzIGZvciB0aGlzIGFjY291bnQsIG9yIG11c3QgYmUgdGhlIHVzZXIgdGhhdCBwb3N0ZWQgdGhlIHRhZy48L3A+XG4gICAgICogQHN1bW1hcnkgRGVsZXRlIGEgdGFnLlxuICAgICAqIEBwYXJhbSBUQUdfSUQgVGhlIHRhZyBpZFxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uKFRBR19JRDogc3RyaW5nLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRBR19JRCwgVFJBTlNBQ1RJT05fSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkRlbGV0ZXMgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRC48L3A+PHA+QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSBuYXJyYXRpdmUuXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlVHJhbnNhY3Rpb25OYXJyYXRpdmUoVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFEZWxldGVUcmFuc2FjdGlvbk5hcnJhdGl2ZVdpdGhIdHRwSW5mbyhUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+RGVsZXRlcyB0aGUgdmlldyBzcGVjaWZpZWQgYnkgVklFV19JRCBvbiB0aGUgYmFuayBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEIGF0IGJhbmsgQkFOS19JRC48L3A+XG4gICAgICogQHN1bW1hcnkgRGVsZXRlIFZpZXdcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudChWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5EZWxldGVzIHRoZSB3aGVyZSB0YWcgb2YgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIG1hZGUgb24gPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+LjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+PHA+VGhlIHVzZXIgbXVzdCBlaXRoZXIgaGF2ZSBvd25lciBwcml2aWxlZ2VzIGZvciB0aGlzIGFjY291bnQsIG9yIG11c3QgYmUgdGhlIHVzZXIgdGhhdCBwb3N0ZWQgdGhlIGdlbyB0YWcuPC9wPlxuICAgICAqIEBzdW1tYXJ5IERlbGV0ZSB3aGVyZSB0YWcuXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbihUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMURlbGV0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCBiYW5rcyBvbiB0aGlzIEFQSSBpbnN0YW5jZSBSZXR1cm5zIGEgbGlzdCBvZiBiYW5rcyBzdXBwb3J0ZWQgb24gdGhpcyBzZXJ2ZXI6PC9wPjx1bD4gIDxsaT5JRCB1c2VkIGFzIHBhcmFtZXRlciBpbiBVUkxzPC9saT4gIDxsaT5TaG9ydCBhbmQgZnVsbCBuYW1lIG9mIGJhbms8L2xpPiAgPGxpPkxvZ28gVVJMPC9saT4gIDxsaT5XZWJzaXRlPC9saT48L3VsPlxuICAgICAqIEBzdW1tYXJ5IEdldCBCYW5rc1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0QmFua3MoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QmFua3NKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRCYW5rc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBjb21tZW50cyBtYWRlIG9uIGEgPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPnZpZXc8L2E+IChWSUVXX0lEKS48L3A+PHA+QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBjb21tZW50cy5cbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFHZXRDb21tZW50c0ZvclZpZXdPblRyYW5zYWN0aW9uKFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uQ29tbWVudHNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRDb21tZW50c0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSBwdWJsaWMgYWxpYXMgb2YgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC4gQXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgT0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IHB1YmxpYyBhbGlhcyBvZiBvdGhlciBiYW5rIGFjY291bnQuXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldENvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QWxpYXNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRDb3VudGVycGFydHlQdWJsaWNBbGlhc1dpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBpbWFnZXMgbWFkZSBvbiBhIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj52aWV3PC9hPiAoVklFV19JRCkuICBBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IGltYWdlcy5cbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFHZXRJbWFnZXNGb3JWaWV3T25UcmFuc2FjdGlvbihUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxUcmFuc2FjdGlvbkltYWdlc0pTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUdldEltYWdlc0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIGRhdGEgYWJvdXQgdGhlIE90aGVyIEFjY291bnQgdGhhdCBoYXMgc2hhcmVkIGF0IGxlYXN0IG9uZSB0cmFuc2FjdGlvbiB3aXRoIEFDQ09VTlRfSUQgYXQgQkFOS19JRC4gQXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IE90aGVyIEFjY291bnQgYnkgSWQuXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldE90aGVyQWNjb3VudEJ5SWRGb3JCYW5rQWNjb3VudChPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPE90aGVyQWNjb3VudEpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUdldE90aGVyQWNjb3VudEJ5SWRGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgb3RoZXIgYWNjb3VudCBvZiBhIHRyYW5zYWN0aW9uLiBSZXR1cm5zIGRldGFpbHMgb2YgdGhlIG90aGVyIHBhcnR5IGludm9sdmVkIGluIHRoZSB0cmFuc2FjdGlvbiwgbW9kZXJhdGVkIGJ5IHRoZSA8YSBocmVmPVxcXCIjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcXCI+dmlldzwvYT4gKFZJRVdfSUQpLiAgQXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBPdGhlciBBY2NvdW50IG9mIFRyYW5zYWN0aW9uXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50Rm9yVHJhbnNhY3Rpb24oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8T3RoZXJBY2NvdW50SlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxR2V0T3RoZXJBY2NvdW50Rm9yVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCBtZXRhZGF0YSBvZiBvbmUgb3RoZXIgYWNjb3VudC4gUmV0dXJucyBvbmx5IHRoZSBtZXRhZGF0YSBhYm91dCBvbmUgb3RoZXIgYmFuayBhY2NvdW50IChPVEhFUl9BQ0NPVU5UX0lEKSB0aGF0IGhhZCBzaGFyZWQgYXQgbGVhc3Qgb25lIHRyYW5zYWN0aW9uIHdpdGggQUNDT1VOVF9JRCBhdCBCQU5LX0lELjwvcD48cD5BdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IE90aGVyIEFjY291bnQgTWV0YWRhdGEuXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldE90aGVyQWNjb3VudE1ldGFkYXRhKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8T3RoZXJBY2NvdW50TWV0YWRhdGFKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRPdGhlckFjY291bnRNZXRhZGF0YVdpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSBwcml2YXRlIGFsaWFzIG9mIHRoZSBvdGhlciBhY2NvdW50IE9USEVSX0FDQ09VTlRfSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBPdGhlciBBY2NvdW50IFByaXZhdGUgQWxpYXNcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QWxpYXNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRPdGhlckFjY291bnRQcml2YXRlQWxpYXNXaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyBkYXRhIGFib3V0IGFsbCB0aGUgb3RoZXIgYWNjb3VudHMgdGhhdCBoYXZlIHNoYXJlZCBhdCBsZWFzdCBvbmUgdHJhbnNhY3Rpb24gd2l0aCB0aGUgQUNDT1VOVF9JRCBhdCBCQU5LX0lELiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBWSUVXX0lEIGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBPdGhlciBBY2NvdW50cyBvZiBvbmUgQWNjb3VudC5cbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldE90aGVyQWNjb3VudHNGb3JCYW5rQWNjb3VudChWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxPdGhlckFjY291bnRzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxR2V0T3RoZXJBY2NvdW50c0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIHRhZ3MgbWFkZSBvbiBhIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj52aWV3PC9hPiAoVklFV19JRCkuICBBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IHRhZ3MuXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0VGFnc0ZvclZpZXdPblRyYW5zYWN0aW9uKFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uVGFnSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxR2V0VGFnc0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIG9uZSB0cmFuc2FjdGlvbiBzcGVjaWZpZWQgYnkgVFJBTlNBQ1RJT05fSUQgb2YgdGhlIGFjY291bnQgQUNDT1VOVF9JRCBhbmQgPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPm1vZGVyYXRlZDwvYT4gYnkgdGhlIHZpZXcgKFZJRVdfSUQpLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgVHJhbnNhY3Rpb24gYnkgSWQuXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0VHJhbnNhY3Rpb25CeUlkRm9yQmFua0FjY291bnQoVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VHJhbnNhY3Rpb25KU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFHZXRUcmFuc2FjdGlvbkJ5SWRGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyB0aGUgYWNjb3VudCBvd25lciBkZXNjcmlwdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb24gPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPm1vZGVyYXRlZDwvYT4gYnkgdGhlIHZpZXcuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgbmFycmF0aXZlLlxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldFRyYW5zYWN0aW9uTmFycmF0aXZlKFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uTmFycmF0aXZlSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxR2V0VHJhbnNhY3Rpb25OYXJyYXRpdmVXaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgdGhlIFxcXCJ3aGVyZVxcXCIgR2VvIHRhZyBhZGRlZCB0byB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgbWFkZSBvbiBhIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj52aWV3PC9hPiAoVklFV19JRCkuIEl0IHJlcHJlc2VudHMgdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSB0cmFuc2FjdGlvbiBoYXMgYmVlbiBpbml0aWF0ZWQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgd2hlcmUgdGFnLlxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VHJhbnNhY3Rpb25XaGVyZUpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMUdldFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldm9rZXMgdGhlIHVzZXIgVVNFUl9JRCBhdCB0aGVpciBwcm92aWRlciBQUk9WSURFUl9JRCBhY2Nlc3MgdG8gYWxsIHRoZSB2aWV3cyBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQuPC9wPjxwPk9BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy48L3A+XG4gICAgICogQHN1bW1hcnkgUmV2b2tlIGFjY2VzcyB0byBhbGwgVmlld3Mgb24gQWNjb3VudFxuICAgICAqIEBwYXJhbSBQUk9WSURFUl9JRCBUaGUgcHJvdmlkZXIgaWRcbiAgICAgKiBAcGFyYW0gVVNFUl9JRCBUaGUgdXNlciBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JBbGxWaWV3cyhQUk9WSURFUl9JRDogc3RyaW5nLCBVU0VSX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JBbGxWaWV3c1dpdGhIdHRwSW5mbyhQUk9WSURFUl9JRCwgVVNFUl9JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV2b2tlcyB0aGUgdXNlciBVU0VSX0lEIGF0IHRoZWlyIHByb3ZpZGVyIFBST1ZJREVSX0lEIGFjY2VzcyB0byB0aGUgdmlldyBWSUVXX0lEIGF0IEJBTktfSUQgZm9yIGFjY291bnQgQUNDT1VOVF9JRC48L3A+PHA+UmV2b2tpbmcgYSB1c2VyIGFjY2VzcyB0byBhIHB1YmxpYyB2aWV3IHdpbGwgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UuPC9wPjxwPk9BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy48L3A+XG4gICAgICogQHN1bW1hcnkgUmV2b2tlIGFjY2VzcyB0byBvbmUgVmlldy5cbiAgICAgKiBAcGFyYW0gUFJPVklERVJfSUQgVGhlIHByb3ZpZGVyIGlkXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3KFBST1ZJREVSX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yT25lVmlld1dpdGhIdHRwSW5mbyhQUk9WSURFUl9JRCwgVVNFUl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dDo8L3A+PHVsPiAgPGxpPkFQSSB2ZXJzaW9uPC9saT4gIDxsaT5Ib3N0ZWQgYnkgaW5mb3JtYXRpb248L2xpPiAgPGxpPkdpdCBDb21taXQ8L2xpPjwvdWw+XG4gICAgICogQHN1bW1hcnkgVGhlIHJvb3Qgb2YgdGhlIEFQSVxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxUm9vdChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxBUElJbmZvSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxUm9vdFdpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGUgdGhlIGxhYmVsIGZvciB0aGUgYWNjb3VudC4gVGhlIGxhYmVsIGlzIGhvdyB0aGUgYWNjb3VudCBpcyBrbm93biB0byB0aGUgYWNjb3VudCBvd25lciBlLmcuICdNeSBzYXZpbmdzIGFjY291bnQnIDwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgQWNjb3VudCBMYWJlbC5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVBY2NvdW50TGFiZWwoYm9keTogVXBkYXRlQWNjb3VudEpTT04sIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxVXBkYXRlQWNjb3VudExhYmVsV2l0aEh0dHBJbmZvKGJvZHksIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlVwZGF0ZSB0aGUgZ2VvbG9jYXRpb24gb2YgdGhlIGNvdW50ZXJwYXJ0eSdzIHJlZ2lzdGVyZWQgYWRkcmVzczwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgQ291bnRlcnBhcnR5IENvcnBvcmF0ZSBMb2NhdGlvblxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbihib2R5OiBDb3Jwb3JhdGVMb2NhdGlvbkpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uV2l0aEh0dHBJbmZvKGJvZHksIE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlVwZGF0ZSB0aGUgdXJsIHRoYXQgcG9pbnRzIHRvIHRoZSBsb2dvIG9mIHRoZSBjb3VudGVycGFydHk8L3A+XG4gICAgICogQHN1bW1hcnkgVXBkYXRlIENvdW50ZXJwYXJ0eSBJbWFnZSBVcmxcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5SW1hZ2VVcmwoYm9keTogSW1hZ2VVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlJbWFnZVVybFdpdGhIdHRwSW5mbyhib2R5LCBPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGUgdGhlIG1vcmUgaW5mbyBkZXNjcmlwdGlvbiBvZiB0aGUgY291bnRlciBwYXJ0eSBmcm9tIHRoZSBwZXJwZXN0aXZlIG9mIHRoZSBhY2NvdW50IGUuZy4gTXkgZGVudGlzdC48L3A+XG4gICAgICogQHN1bW1hcnkgVXBkYXRlIENvdW50ZXJwYXJ0eSBNb3JlIEluZm9cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5TW9yZUluZm8oYm9keTogTW9yZUluZm9KU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlNb3JlSW5mb1dpdGhIdHRwSW5mbyhib2R5LCBPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGUgb3BlbiBjb3Jwb3JhdGUgdXJsIG9mIG90aGVyIGJhbmsgYWNjb3VudC48L3A+XG4gICAgICogQHN1bW1hcnkgVXBkYXRlIE9wZW4gQ29ycG9yYXRlcyBVcmwgb2YgQ291bnRlcnBhcnR5XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsKGJvZHk6IE9wZW5Db3Jwb3JhdGVVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybFdpdGhIdHRwSW5mbyhib2R5LCBPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGUgZ2VvY29vcmRpbmF0ZXMgb2YgdGhlIGNvdW50ZXJwYXJ0eSdzIG1haW4gbG9jYXRpb248L3A+XG4gICAgICogQHN1bW1hcnkgVXBkYXRlIENvdW50ZXJwYXJ0eSBQaHlzaWNhbCBMb2NhdGlvblxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uKGJvZHk6IFBoeXNpY2FsTG9jYXRpb25KU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uV2l0aEh0dHBJbmZvKGJvZHksIE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlVwZGF0ZXMgdGhlIHByaXZhdGUgYWxpYXMgb2YgdGhlIGNvdW50ZXJwYXJ0eSAoQUtBIG90aGVyIGFjY291bnQpIE9USEVSX0FDQ09VTlRfSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IFVwZGF0ZSBDb3VudGVycGFydHkgUHJpdmF0ZSBBbGlhc1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMoYm9keTogQWxpYXNKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXNXaXRoSHR0cEluZm8oYm9keSwgT1RIRVJfQUNDT1VOVF9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+VXBkYXRlcyB0aGUgcHVibGljIGFsaWFzIG9mIHRoZSBvdGhlciBhY2NvdW50IC8gY291bnRlcnBhcnR5IE9USEVSX0FDQ09VTlRfSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IFVwZGF0ZSBwdWJsaWMgYWxpYXMgb2Ygb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQdWJsaWNBbGlhcyhib2R5OiBBbGlhc0pTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzV2l0aEh0dHBJbmZvKGJvZHksIE9USEVSX0FDQ09VTlRfSUQsIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkEgdXJsIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvdW50ZXJwYXJ0eSAoaG9tZSBwYWdlIHVybCBldGMuKTwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgdXJsIG9mIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5VXJsKGJvZHk6IFVybEpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVVybFdpdGhIdHRwSW5mbyhib2R5LCBPVEhFUl9BQ0NPVU5UX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGVzIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgbmFycmF0aXZlLlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZVRyYW5zYWN0aW9uTmFycmF0aXZlKGJvZHk6IFRyYW5zYWN0aW9uTmFycmF0aXZlSlNPTiwgVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEyMVVwZGF0ZVRyYW5zYWN0aW9uTmFycmF0aXZlV2l0aEh0dHBJbmZvKGJvZHksIFRSQU5TQUNUSU9OX0lELCBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGVzIHRoZSBcXFwid2hlcmVcXFwiIEdlbyB0YWcgb24gYSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBpbiBhIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj52aWV3PC9hPi48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5PC9wPjxwPlRoZSBnZW8gdGFnIGlzIGxpbmtlZCB3aXRoIHRoZSB1c2VyLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgd2hlcmUgdGFnLlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24oYm9keTogUG9zdFRyYW5zYWN0aW9uV2hlcmVKU09OLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTIxVXBkYXRlV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhib2R5LCBUUkFOU0FDVElPTl9JRCwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBBZGQgY29tbWVudC5cbiAgICAgKiAmbHQ7cCZndDtQb3N0cyBhIGNvbW1lbnQgYWJvdXQgYSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBvbiBhICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsgVklFV19JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7JHthdXRoZW50aWNhdGlvblJlcXVpcmVkTWVzc2FnZShmYWxzZSl9Jmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIHNpbmNlIHRoZSBjb21tZW50IGlzIGxpbmtlZCB3aXRoIHRoZSB1c2VyLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oYm9keTogUG9zdFRyYW5zYWN0aW9uQ29tbWVudEpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvY29tbWVudHMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVFJBTlNBQ1RJT05fSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVFJBTlNBQ1RJT05fSUQgPT09IG51bGwgfHwgVFJBTlNBQ1RJT05fSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVFJBTlNBQ1RJT05fSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ29tbWVudEZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ29tbWVudEZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ29tbWVudEZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ29tbWVudEZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIENvcnBvcmF0ZSBMb2NhdGlvbiB0byBDb3VudGVycGFydHlcbiAgICAgKiAmbHQ7cCZndDtBZGQgdGhlIGdlb2xvY2F0aW9uIG9mIHRoZSBjb3VudGVycGFydHkmIzM5O3MgcmVnaXN0ZXJlZCBhZGRyZXNzJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbldpdGhIdHRwSW5mbyhib2R5OiBDb3Jwb3JhdGVMb2NhdGlvbkpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEvY29ycG9yYXRlX2xvY2F0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgaW1hZ2UgdXJsIHRvIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiAmbHQ7cCZndDtBZGQgYSB1cmwgdGhhdCBwb2ludHMgdG8gdGhlIGxvZ28gb2YgdGhlIGNvdW50ZXJwYXJ0eSZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5SW1hZ2VVcmxXaXRoSHR0cEluZm8oYm9keTogSW1hZ2VVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL2ltYWdlX3VybCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlJbWFnZVVybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUltYWdlVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5SW1hZ2VVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlJbWFnZVVybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eUltYWdlVXJsLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIENvdW50ZXJwYXJ0eSBNb3JlIEluZm9cbiAgICAgKiAmbHQ7cCZndDtBZGQgYSBkZXNjcmlwdGlvbiBvZiB0aGUgY291bnRlciBwYXJ0eSBmcm9tIHRoZSBwZXJwZXN0aXZlIG9mIHRoZSBhY2NvdW50IGUuZy4gTXkgZGVudGlzdC4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU1vcmVJbmZvV2l0aEh0dHBJbmZvKGJvZHk6IE1vcmVJbmZvSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS9tb3JlX2luZm8nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlNb3JlSW5mby4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU1vcmVJbmZvLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlNb3JlSW5mby4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBPcGVuIENvcnBvcmF0ZXMgVVJMIHRvIENvdW50ZXJwYXJ0eVxuICAgICAqICZsdDtwJmd0O0FkZCBvcGVuIGNvcnBvcmF0ZXMgdXJsIHRvIG90aGVyIGJhbmsgYWNjb3VudC4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsV2l0aEh0dHBJbmZvKGJvZHk6IE9wZW5Db3Jwb3JhdGVVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL29wZW5fY29ycG9yYXRlc191cmwnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBwaHlzaWNhbCBsb2NhdGlvbiB0byBvdGhlciBiYW5rIGFjY291bnQuXG4gICAgICogJmx0O3AmZ3Q7QWRkIGdlb2Nvb3JkaW5hdGVzIG9mIHRoZSBjb3VudGVycGFydHkmIzM5O3MgbWFpbiBsb2NhdGlvbiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbldpdGhIdHRwSW5mbyhib2R5OiBQaHlzaWNhbExvY2F0aW9uSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS9waHlzaWNhbF9sb2NhdGlvbidcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBwdWJsaWMgYWxpYXMgdG8gb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqICZsdDtwJmd0O0NyZWF0ZXMgdGhlIHB1YmxpYyBhbGlhcyBmb3IgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7Tm90ZTogUHVibGljIGFsaWFzZXMgYXJlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGZvciBuZXcgJiMzOTtvdGhlciBhY2NvdW50cyAvIGNvdW50ZXJwYXJ0aWVzJiMzOTssIHNvIHRoaXMgY2FsbCBzaG91bGQgb25seSBiZSB1c2VkIGlmIHRoZSBwdWJsaWMgYWxpYXMgd2FzIGRlbGV0ZWQuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBWSUVXX0lEIHBhcmFtZXRlciBzaG91bGQgYmUgYSB2aWV3IHRoZSBjYWxsZXIgaXMgcGVybWl0dGVkIHRvIGFjY2VzcyB0byBhbmQgdGhhdCBoYXMgcGVybWlzc2lvbiB0byBjcmVhdGUgcHVibGljIGFsaWFzZXMuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRDb3VudGVycGFydHlQdWJsaWNBbGlhc1dpdGhIdHRwSW5mbyhib2R5OiBBbGlhc0pTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vcHVibGljX2FsaWFzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlQdWJsaWNBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkQ291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgdXJsIHRvIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiAmbHQ7cCZndDtBIHVybCB3aGljaCByZXByZXNlbnRzIHRoZSBjb3VudGVycGFydHkgKGhvbWUgcGFnZSB1cmwgZXRjLikmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZENvdW50ZXJwYXJ0eVVybFdpdGhIdHRwSW5mbyhib2R5OiBVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL3VybCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gaW1hZ2UuXG4gICAgICogJmx0O3AmZ3Q7UG9zdHMgYW4gaW1hZ2UgYWJvdXQgYSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBvbiBhICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsgVklFV19JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBpbWFnZSBpcyBsaW5rZWQgd2l0aCB0aGUgdXNlci4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhib2R5OiBQb3N0VHJhbnNhY3Rpb25JbWFnZUpTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvaW1hZ2VzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZEltYWdlRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIE90aGVyIEFjY291bnQgUHJpdmF0ZSBBbGlhc1xuICAgICAqICZsdDtwJmd0O0NyZWF0ZXMgYSBwcml2YXRlIGFsaWFzIGZvciB0aGUgb3RoZXIgYWNjb3VudCBPVEhFUl9BQ0NPVU5UX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkT3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzV2l0aEh0dHBJbmZvKGJvZHk6IEFsaWFzSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9wcml2YXRlX2FsaWFzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZE90aGVyQWNjb3VudFByaXZhdGVBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZE90aGVyQWNjb3VudFByaXZhdGVBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZE90aGVyQWNjb3VudFByaXZhdGVBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZE90aGVyQWNjb3VudFByaXZhdGVBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZE90aGVyQWNjb3VudFByaXZhdGVBbGlhcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdyYW50IFVzZXIgYWNjZXNzIHRvIGEgbGlzdCBvZiB2aWV3cy5cbiAgICAgKiAmbHQ7cCZndDtHcmFudHMgdGhlIHVzZXIgVVNFUl9JRCBhdCB0aGVpciBwcm92aWRlciBQUk9WSURFUl9JRCBhY2Nlc3MgdG8gYSBsaXN0IG9mIHZpZXdzIGF0IEJBTktfSUQgZm9yIGFjY291bnQgQUNDT1VOVF9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QWxsIHVybCBwYXJhbWV0ZXJzIG11c3QgYmUgJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7aHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QZXJjZW50LWVuY29kaW5nXFwmcXVvdDsmZ3Q7JS1lbmNvZGVkJmx0Oy9hJmd0Oywgd2hpY2ggaXMgb2Z0ZW4gZXNwZWNpYWxseSByZWxldmFudCBmb3IgVVNFUl9JRCBhbmQgUFJPVklERVJfSUQuJmx0Oy9wJmd0OyZsdDtwJmd0O09BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFBST1ZJREVSX0lEIFRoZSBwcm92aWRlciBpZFxuICAgICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxQWRkUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvck11bHRpcGxlVmlld3NXaXRoSHR0cEluZm8oYm9keTogVmlld0lkc0pzb24sIFBST1ZJREVSX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vcGVybWlzc2lvbnMvJHtQUk9WSURFUl9JRH0vJHtVU0VSX0lEfS92aWV3cydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdQUk9WSURFUl9JRCcgKyAnfScsIFN0cmluZyhQUk9WSURFUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVVNFUl9JRCcgKyAnfScsIFN0cmluZyhVU0VSX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JNdWx0aXBsZVZpZXdzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1BST1ZJREVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFBST1ZJREVSX0lEID09PSBudWxsIHx8IFBST1ZJREVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFBST1ZJREVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JNdWx0aXBsZVZpZXdzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1VTRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVVNFUl9JRCA9PT0gbnVsbCB8fCBVU0VSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFVTRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvck11bHRpcGxlVmlld3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yTXVsdGlwbGVWaWV3cy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JNdWx0aXBsZVZpZXdzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR3JhbnQgVXNlciBhY2Nlc3MgdG8gVmlldy5cbiAgICAgKiAmbHQ7cCZndDtHcmFudHMgdGhlIHVzZXIgVVNFUl9JRCBhdCB0aGVpciBwcm92aWRlciBQUk9WSURFUl9JRCBhY2Nlc3MgdG8gdGhlIHZpZXcgVklFV19JRCBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQuIEFsbCB1cmwgcGFyYW1ldGVycyBtdXN0IGJlICZsdDthIGhyZWYmI3gzRDtcXCZxdW90O2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUGVyY2VudC1lbmNvZGluZ1xcJnF1b3Q7Jmd0OyUtZW5jb2RlZCZsdDsvYSZndDssIHdoaWNoIGlzIG9mdGVuIGVzcGVjaWFsbHkgcmVsZXZhbnQgZm9yIFVTRVJfSUQgYW5kIFBST1ZJREVSX0lELiZsdDsvcCZndDsmbHQ7cCZndDtPQXV0aCBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIG93bmVyIHZpZXcuJmx0Oy9wJmd0OyZsdDtwJmd0O0dyYW50aW5nIGFjY2VzcyB0byBhIHB1YmxpYyB2aWV3IHdpbGwgcmV0dXJuIGFuIGVycm9yIG1lc3NhZ2UsIGFzIHRoZSB1c2VyIGFscmVhZHkgaGFzIGFjY2Vzcy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFBST1ZJREVSX0lEIFRoZSBwcm92aWRlciBpZFxuICAgICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFBZGRQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yT25lVmlld1dpdGhIdHRwSW5mbyhib2R5OiBhbnksIFBST1ZJREVSX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS9wZXJtaXNzaW9ucy8ke1BST1ZJREVSX0lEfS8ke1VTRVJfSUR9L3ZpZXdzLyR7VklFV19JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnUFJPVklERVJfSUQnICsgJ30nLCBTdHJpbmcoUFJPVklERVJfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1VTRVJfSUQnICsgJ30nLCBTdHJpbmcoVVNFUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1BST1ZJREVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFBST1ZJREVSX0lEID09PSBudWxsIHx8IFBST1ZJREVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFBST1ZJREVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1VTRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVVNFUl9JRCA9PT0gbnVsbCB8fCBVU0VSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFVTRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvck9uZVZpZXcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yT25lVmlldy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvck9uZVZpZXcuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB0YWcuXG4gICAgICogJmx0O3AmZ3Q7UG9zdHMgYSB0YWcgYWJvdXQgYSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBvbiBhICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsgVklFV19JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFzIHRoZSB0YWcgaXMgbGlua2VkIHdpdGggdGhlIHVzZXIuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZFRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKGJvZHk6IFBvc3RUcmFuc2FjdGlvblRhZ0pTT04sIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvdGFncydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIG5hcnJhdGl2ZS5cbiAgICAgKiAmbHQ7cCZndDtDcmVhdGVzIGEgZGVzY3JpcHRpb24gb2YgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lELiZsdDsvcCZndDsmbHQ7cCZndDtOb3RlOiBVbmxpa2Ugb3RoZXIgaXRlbXMgb2YgbWV0YWRhdGEsIHRoZXJlIGlzIG9ubHkgb25lIFxcJnF1b3Q7bmFycmF0aXZlXFwmcXVvdDsgcGVyIHRyYW5zYWN0aW9uIGFjY3Jvc3MgYWxsIHZpZXdzLiBJZiB5b3Ugc2V0IG5hcnJhdGl2ZSB2aWEgYSB2aWV3IGUuZy4gdmlldy14IGl0IHdpbGwgYmUgc2VlbiB2aWEgdmlldy15IChhcyBsb25nIGFzIHZpZXcteSBoYXMgcGVybWlzc2lvbiB0byBzZWUgdGhlIG5hcnJhdGl2ZSkuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZFRyYW5zYWN0aW9uTmFycmF0aXZlV2l0aEh0dHBJbmZvKGJvZHk6IFRyYW5zYWN0aW9uTmFycmF0aXZlSlNPTiwgVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9tZXRhZGF0YS9uYXJyYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkVHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB3aGVyZSB0YWcuXG4gICAgICogJmx0O3AmZ3Q7Q3JlYXRlcyBhIFxcJnF1b3Q7d2hlcmVcXCZxdW90OyBHZW8gdGFnIG9uIGEgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgaW4gYSAmbHQ7YSBocmVmJiN4M0Q7XFwmcXVvdDsjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcJnF1b3Q7Jmd0O3ZpZXcmbHQ7L2EmZ3Q7LiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhlIGdlbyB0YWcgaXMgbGlua2VkIHdpdGggdGhlIHVzZXIuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUFkZFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oYm9keTogUG9zdFRyYW5zYWN0aW9uV2hlcmVKU09OLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL3doZXJlJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQWRkV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUFkZFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFBZGRXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJhbmtcbiAgICAgKiAmbHQ7cCZndDtHZXQgdGhlIGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQgUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNpbmdsZSBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEIGluY2x1ZGluZzombHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O1Nob3J0IGFuZCBmdWxsIG5hbWUgb2YgYmFuayZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7TG9nbyBVUkwmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O1dlYnNpdGUmbHQ7L2xpJmd0OyZsdDsvdWwmZ3Q7XG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUJhbmtCeUlkV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxQmFua0J5SWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIGNvbW1lbnQuXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlIHRoZSBjb21tZW50IENPTU1FTlRfSUQgYWJvdXQgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIG1hZGUgb24gJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7IzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXCZxdW90OyZndDt2aWV3Jmx0Oy9hJmd0Oy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkLiBUaGUgdXNlciBtdXN0IGVpdGhlciBoYXZlIG93bmVyIHByaXZpbGVnZXMgZm9yIHRoaXMgYWNjb3VudCwgb3IgbXVzdCBiZSB0aGUgdXNlciB0aGF0IHBvc3RlZCB0aGUgY29tbWVudC4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIENPTU1FTlRfSUQgVGhlIGNvbW1lbnQgaWRcbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFEZWxldGVDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oQ09NTUVOVF9JRDogc3RyaW5nLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL2NvbW1lbnRzLyR7Q09NTUVOVF9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQ09NTUVOVF9JRCcgKyAnfScsIFN0cmluZyhDT01NRU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdDT01NRU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENPTU1FTlRfSUQgPT09IG51bGwgfHwgQ09NTUVOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBDT01NRU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvbW1lbnRGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb21tZW50Rm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvdW50ZXJwYXJ0eSBDb3Jwb3JhdGUgTG9jYXRpb24uXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlIGNvcnBvcmF0ZSBsb2NhdGlvbiBvZiBvdGhlciBiYW5rIGFjY291bnQuIERlbGV0ZSB0aGUgZ2VvbG9jYXRpb24gb2YgdGhlIGNvdW50ZXJwYXJ0eSYjMzk7cyByZWdpc3RlcmVkIGFkZHJlc3MmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEvY29ycG9yYXRlX2xvY2F0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBDb3VudGVycGFydHkgSW1hZ2UgVVJMXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlIGltYWdlIHVybCBvZiBvdGhlciBiYW5rIGFjY291bnQuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlJbWFnZVVybFdpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL2ltYWdlX3VybCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlJbWFnZVVybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eUltYWdlVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5SW1hZ2VVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlJbWFnZVVybC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgbW9yZSBpbmZvIG9mIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5TW9yZUluZm9XaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS9tb3JlX2luZm8nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlNb3JlSW5mby4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eU1vcmVJbmZvLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvdW50ZXJwYXJ0eSBPcGVuIENvcnBvcmF0ZXMgVVJMXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlIG9wZW4gY29ycG9yYXRlIHVybCBvZiBvdGhlciBiYW5rIGFjY291bnQuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybFdpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL29wZW5fY29ycG9yYXRlc191cmwnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvdW50ZXJwYXJ0eSBQaHlzaWNhbCBMb2NhdGlvbi5cbiAgICAgKiAmbHQ7cCZndDtEZWxldGUgcGh5c2ljYWwgbG9jYXRpb24gb2Ygb3RoZXIgYmFuayBhY2NvdW50LiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbldpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL3BoeXNpY2FsX2xvY2F0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvdW50ZXJwYXJ0eSBQcml2YXRlIEFsaWFzXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlcyB0aGUgcHJpdmF0ZSBhbGlhcyBvZiB0aGUgb3RoZXIgYWNjb3VudCBPVEhFUl9BQ0NPVU5UX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5UHJpdmF0ZUFsaWFzV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vcHJpdmF0ZV9hbGlhcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvdW50ZXJwYXJ0eSBQdWJsaWMgQWxpYXNcbiAgICAgKiAmbHQ7cCZndDtEZWxldGVzIHRoZSBwdWJsaWMgYWxpYXMgb2YgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vcHVibGljX2FsaWFzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlQdWJsaWNBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB1cmwgb2Ygb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFEZWxldGVDb3VudGVycGFydHlVcmxXaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS91cmwnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5VXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5VXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5VXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlQ291bnRlcnBhcnR5VXJsLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbiBpbWFnZVxuICAgICAqICZsdDtwJmd0O0RlbGV0ZXMgdGhlIGltYWdlIElNQUdFX0lEIGFib3V0IHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBtYWRlIG9uICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZC4gVGhlIHVzZXIgbXVzdCBlaXRoZXIgaGF2ZSBvd25lciBwcml2aWxlZ2VzIGZvciB0aGlzIGFjY291bnQsIG9yIG11c3QgYmUgdGhlIHVzZXIgdGhhdCBwb3N0ZWQgdGhlIGltYWdlLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gSU1BR0VfSUQgVGhlIGltYWdlIGlkXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhJTUFHRV9JRDogc3RyaW5nLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL2ltYWdlcy8ke0lNQUdFX0lEfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdJTUFHRV9JRCcgKyAnfScsIFN0cmluZyhJTUFHRV9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnSU1BR0VfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoSU1BR0VfSUQgPT09IG51bGwgfHwgSU1BR0VfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgSU1BR0VfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlSW1hZ2VGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZUltYWdlRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVJbWFnZUZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHRhZy5cbiAgICAgKiAmbHQ7cCZndDtEZWxldGVzIHRoZSB0YWcgVEFHX0lEIGFib3V0IHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBtYWRlIG9uICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZC4gVGhlIHVzZXIgbXVzdCBlaXRoZXIgaGF2ZSBvd25lciBwcml2aWxlZ2VzIGZvciB0aGlzIGFjY291bnQsIG9yIG11c3QgYmUgdGhlIHVzZXIgdGhhdCBwb3N0ZWQgdGhlIHRhZy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRBR19JRCBUaGUgdGFnIGlkXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVEFHX0lEOiBzdHJpbmcsIFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvdGFncy8ke1RBR19JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVEFHX0lEJyArICd9JywgU3RyaW5nKFRBR19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVEFHX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRBR19JRCA9PT0gbnVsbCB8fCBUQUdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVEFHX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBuYXJyYXRpdmUuXG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlcyB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxRGVsZXRlVHJhbnNhY3Rpb25OYXJyYXRpdmVXaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9tZXRhZGF0YS9uYXJyYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVFJBTlNBQ1RJT05fSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVFJBTlNBQ1RJT05fSUQgPT09IG51bGwgfHwgVFJBTlNBQ1RJT05fSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVFJBTlNBQ1RJT05fSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlVHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlVHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIFZpZXdcbiAgICAgKiAmbHQ7cCZndDtEZWxldGVzIHRoZSB2aWV3IHNwZWNpZmllZCBieSBWSUVXX0lEIG9uIHRoZSBiYW5rIGFjY291bnQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQgYXQgYmFuayBCQU5LX0lELiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9L3ZpZXdzLyR7VklFV19JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVZpZXdGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuRGVsZXRlLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgd2hlcmUgdGFnLlxuICAgICAqICZsdDtwJmd0O0RlbGV0ZXMgdGhlIHdoZXJlIHRhZyBvZiB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgbWFkZSBvbiAmbHQ7YSBocmVmJiN4M0Q7XFwmcXVvdDsjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcJnF1b3Q7Jmd0O3ZpZXcmbHQ7L2EmZ3Q7LiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhlIHVzZXIgbXVzdCBlaXRoZXIgaGF2ZSBvd25lciBwcml2aWxlZ2VzIGZvciB0aGlzIGFjY291bnQsIG9yIG11c3QgYmUgdGhlIHVzZXIgdGhhdCBwb3N0ZWQgdGhlIGdlbyB0YWcuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMURlbGV0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9tZXRhZGF0YS93aGVyZSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxRGVsZXRlV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMURlbGV0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFEZWxldGVXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBCYW5rc1xuICAgICAqICZsdDtwJmd0O0dldCBiYW5rcyBvbiB0aGlzIEFQSSBpbnN0YW5jZSBSZXR1cm5zIGEgbGlzdCBvZiBiYW5rcyBzdXBwb3J0ZWQgb24gdGhpcyBzZXJ2ZXI6Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtJRCB1c2VkIGFzIHBhcmFtZXRlciBpbiBVUkxzJmx0Oy9saSZndDsgICZsdDtsaSZndDtTaG9ydCBhbmQgZnVsbCBuYW1lIG9mIGJhbmsmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0xvZ28gVVJMJmx0Oy9saSZndDsgICZsdDtsaSZndDtXZWJzaXRlJmx0Oy9saSZndDsmbHQ7L3VsJmd0O1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0QmFua3NXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGNvbW1lbnRzLlxuICAgICAqICZsdDtwJmd0O1JldHVybnMgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lEIGNvbW1lbnRzIG1hZGUgb24gYSAmbHQ7YSBocmVmJiN4M0Q7XFwmcXVvdDsjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcJnF1b3Q7Jmd0O3ZpZXcmbHQ7L2EmZ3Q7IChWSUVXX0lEKS4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldENvbW1lbnRzRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9tZXRhZGF0YS9jb21tZW50cydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRDb21tZW50c0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0Q29tbWVudHNGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldENvbW1lbnRzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRDb21tZW50c0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBwdWJsaWMgYWxpYXMgb2Ygb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqICZsdDtwJmd0O1JldHVybnMgdGhlIHB1YmxpYyBhbGlhcyBvZiB0aGUgb3RoZXIgYWNjb3VudCBPVEhFUl9BQ0NPVU5UX0lELiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBPQXV0aCBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0Q291bnRlcnBhcnR5UHVibGljQWxpYXNXaXRoSHR0cEluZm8oT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9wdWJsaWNfYWxpYXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0Q291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRDb3VudGVycGFydHlQdWJsaWNBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldENvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0Q291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGltYWdlcy5cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRoZSB0cmFuc2FjdGlvbiBUUkFOU0FDVElPTl9JRCBpbWFnZXMgbWFkZSBvbiBhICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsgKFZJRVdfSUQpLiAgQXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldEltYWdlc0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvaW1hZ2VzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldEltYWdlc0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0SW1hZ2VzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRJbWFnZXNGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldEltYWdlc0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBPdGhlciBBY2NvdW50IGJ5IElkLlxuICAgICAqICZsdDtwJmd0O1JldHVybnMgZGF0YSBhYm91dCB0aGUgT3RoZXIgQWNjb3VudCB0aGF0IGhhcyBzaGFyZWQgYXQgbGVhc3Qgb25lIHRyYW5zYWN0aW9uIHdpdGggQUNDT1VOVF9JRCBhdCBCQU5LX0lELiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50QnlJZEZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50QnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50QnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50QnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50QnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBPdGhlciBBY2NvdW50IG9mIFRyYW5zYWN0aW9uXG4gICAgICogJmx0O3AmZ3Q7R2V0IG90aGVyIGFjY291bnQgb2YgYSB0cmFuc2FjdGlvbi4gUmV0dXJucyBkZXRhaWxzIG9mIHRoZSBvdGhlciBwYXJ0eSBpbnZvbHZlZCBpbiB0aGUgdHJhbnNhY3Rpb24sIG1vZGVyYXRlZCBieSB0aGUgJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7IzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXCZxdW90OyZndDt2aWV3Jmx0Oy9hJmd0OyAoVklFV19JRCkuICBBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50Rm9yVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9vdGhlcl9hY2NvdW50J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldE90aGVyQWNjb3VudEZvclRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50Rm9yVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRPdGhlckFjY291bnRGb3JUcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldE90aGVyQWNjb3VudEZvclRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBPdGhlciBBY2NvdW50IE1ldGFkYXRhLlxuICAgICAqICZsdDtwJmd0O0dldCBtZXRhZGF0YSBvZiBvbmUgb3RoZXIgYWNjb3VudC4gUmV0dXJucyBvbmx5IHRoZSBtZXRhZGF0YSBhYm91dCBvbmUgb3RoZXIgYmFuayBhY2NvdW50IChPVEhFUl9BQ0NPVU5UX0lEKSB0aGF0IGhhZCBzaGFyZWQgYXQgbGVhc3Qgb25lIHRyYW5zYWN0aW9uIHdpdGggQUNDT1VOVF9JRCBhdCBCQU5LX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldE90aGVyQWNjb3VudE1ldGFkYXRhV2l0aEh0dHBJbmZvKE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50TWV0YWRhdGEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRPdGhlckFjY291bnRNZXRhZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldE90aGVyQWNjb3VudE1ldGFkYXRhLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50TWV0YWRhdGEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IE90aGVyIEFjY291bnQgUHJpdmF0ZSBBbGlhc1xuICAgICAqICZsdDtwJmd0O1JldHVybnMgdGhlIHByaXZhdGUgYWxpYXMgb2YgdGhlIG90aGVyIGFjY291bnQgT1RIRVJfQUNDT1VOVF9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMUdldE90aGVyQWNjb3VudFByaXZhdGVBbGlhc1dpdGhIdHRwSW5mbyhPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L3ByaXZhdGVfYWxpYXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0T3RoZXJBY2NvdW50UHJpdmF0ZUFsaWFzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBPdGhlciBBY2NvdW50cyBvZiBvbmUgQWNjb3VudC5cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIGRhdGEgYWJvdXQgYWxsIHRoZSBvdGhlciBhY2NvdW50cyB0aGF0IGhhdmUgc2hhcmVkIGF0IGxlYXN0IG9uZSB0cmFuc2FjdGlvbiB3aXRoIHRoZSBBQ0NPVU5UX0lEIGF0IEJBTktfSUQuIEF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsIEF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IFZJRVdfSUQgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFHZXRPdGhlckFjY291bnRzRm9yQmFua0FjY291bnRXaXRoSHR0cEluZm8oVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRPdGhlckFjY291bnRzRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRPdGhlckFjY291bnRzRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRPdGhlckFjY291bnRzRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRhZ3MuXG4gICAgICogJmx0O3AmZ3Q7UmV0dXJucyB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgdGFncyBtYWRlIG9uIGEgJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7IzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXCZxdW90OyZndDt2aWV3Jmx0Oy9hJmd0OyAoVklFV19JRCkuICBBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0VGFnc0ZvclZpZXdPblRyYW5zYWN0aW9uV2l0aEh0dHBJbmZvKFRSQU5TQUNUSU9OX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMvJHtUUkFOU0FDVElPTl9JRH0vbWV0YWRhdGEvdGFncydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUYWdzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUYWdzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUYWdzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUYWdzRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFRyYW5zYWN0aW9uIGJ5IElkLlxuICAgICAqICZsdDtwJmd0O1JldHVybnMgb25lIHRyYW5zYWN0aW9uIHNwZWNpZmllZCBieSBUUkFOU0FDVElPTl9JRCBvZiB0aGUgYWNjb3VudCBBQ0NPVU5UX0lEIGFuZCAmbHQ7YSBocmVmJiN4M0Q7XFwmcXVvdDsjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcJnF1b3Q7Jmd0O21vZGVyYXRlZCZsdDsvYSZndDsgYnkgdGhlIHZpZXcgKFZJRVdfSUQpLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVFJBTlNBQ1RJT05fSUQgVGhlIHRyYW5zYWN0aW9uIGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFHZXRUcmFuc2FjdGlvbkJ5SWRGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L3RyYW5zYWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldFRyYW5zYWN0aW9uQnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0VHJhbnNhY3Rpb25CeUlkRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUcmFuc2FjdGlvbkJ5SWRGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldFRyYW5zYWN0aW9uQnlJZEZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBuYXJyYXRpdmUuXG4gICAgICogJmx0O3AmZ3Q7UmV0dXJucyB0aGUgYWNjb3VudCBvd25lciBkZXNjcmlwdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb24gJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7IzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXCZxdW90OyZndDttb2RlcmF0ZWQmbHQ7L2EmZ3Q7IGJ5IHRoZSB2aWV3LiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0VHJhbnNhY3Rpb25OYXJyYXRpdmVXaXRoSHR0cEluZm8oVFJBTlNBQ1RJT05fSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9ucy8ke1RSQU5TQUNUSU9OX0lEfS9tZXRhZGF0YS9uYXJyYXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVFJBTlNBQ1RJT05fSUQnICsgJ30nLCBTdHJpbmcoVFJBTlNBQ1RJT05fSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVFJBTlNBQ1RJT05fSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVFJBTlNBQ1RJT05fSUQgPT09IG51bGwgfHwgVFJBTlNBQ1RJT05fSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVFJBTlNBQ1RJT05fSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0VHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldFRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0VHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHdoZXJlIHRhZy5cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRoZSBcXCZxdW90O3doZXJlXFwmcXVvdDsgR2VvIHRhZyBhZGRlZCB0byB0aGUgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgbWFkZSBvbiBhICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7dmlldyZsdDsvYSZndDsgKFZJRVdfSUQpLiBJdCByZXByZXNlbnRzIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgdHJhbnNhY3Rpb24gaGFzIGJlZW4gaW5pdGlhdGVkLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxR2V0V2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbldpdGhIdHRwSW5mbyhUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL3doZXJlJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFHZXRXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxR2V0V2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMUdldFdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2b2tlIGFjY2VzcyB0byBhbGwgVmlld3Mgb24gQWNjb3VudFxuICAgICAqICZsdDtwJmd0O1Jldm9rZXMgdGhlIHVzZXIgVVNFUl9JRCBhdCB0aGVpciBwcm92aWRlciBQUk9WSURFUl9JRCBhY2Nlc3MgdG8gYWxsIHRoZSB2aWV3cyBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQuJmx0Oy9wJmd0OyZsdDtwJmd0O09BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFBST1ZJREVSX0lEIFRoZSBwcm92aWRlciBpZFxuICAgICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxUmVtb3ZlUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvckFsbFZpZXdzV2l0aEh0dHBJbmZvKFBST1ZJREVSX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vcGVybWlzc2lvbnMvJHtQUk9WSURFUl9JRH0vJHtVU0VSX0lEfS92aWV3cydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdQUk9WSURFUl9JRCcgKyAnfScsIFN0cmluZyhQUk9WSURFUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVVNFUl9JRCcgKyAnfScsIFN0cmluZyhVU0VSX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdQUk9WSURFUl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChQUk9WSURFUl9JRCA9PT0gbnVsbCB8fCBQUk9WSURFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBQUk9WSURFUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yQWxsVmlld3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVVNFUl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChVU0VSX0lEID09PSBudWxsIHx8IFVTRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVVNFUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yQWxsVmlld3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yQWxsVmlld3MuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yQWxsVmlld3MuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkRlbGV0ZSxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2b2tlIGFjY2VzcyB0byBvbmUgVmlldy5cbiAgICAgKiAmbHQ7cCZndDtSZXZva2VzIHRoZSB1c2VyIFVTRVJfSUQgYXQgdGhlaXIgcHJvdmlkZXIgUFJPVklERVJfSUQgYWNjZXNzIHRvIHRoZSB2aWV3IFZJRVdfSUQgYXQgQkFOS19JRCBmb3IgYWNjb3VudCBBQ0NPVU5UX0lELiZsdDsvcCZndDsmbHQ7cCZndDtSZXZva2luZyBhIHVzZXIgYWNjZXNzIHRvIGEgcHVibGljIHZpZXcgd2lsbCByZXR1cm4gYW4gZXJyb3IgbWVzc2FnZS4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gUFJPVklERVJfSUQgVGhlIHByb3ZpZGVyIGlkXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3V2l0aEh0dHBJbmZvKFBST1ZJREVSX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS9wZXJtaXNzaW9ucy8ke1BST1ZJREVSX0lEfS8ke1VTRVJfSUR9L3ZpZXdzLyR7VklFV19JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnUFJPVklERVJfSUQnICsgJ30nLCBTdHJpbmcoUFJPVklERVJfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1VTRVJfSUQnICsgJ30nLCBTdHJpbmcoVVNFUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdQUk9WSURFUl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChQUk9WSURFUl9JRCA9PT0gbnVsbCB8fCBQUk9WSURFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBQUk9WSURFUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yT25lVmlldy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdVU0VSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFVTRVJfSUQgPT09IG51bGwgfHwgVVNFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBVU0VSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxUmVtb3ZlUGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudEZvck9uZVZpZXcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFSZW1vdmVQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50Rm9yT25lVmlldy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVJlbW92ZVBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnRGb3JPbmVWaWV3LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByb290IG9mIHRoZSBBUElcbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0OiZsdDsvcCZndDsmbHQ7dWwmZ3Q7ICAmbHQ7bGkmZ3Q7QVBJIHZlcnNpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0hvc3RlZCBieSBpbmZvcm1hdGlvbiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7R2l0IENvbW1pdCZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVJvb3RXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL3Jvb3QnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgQWNjb3VudCBMYWJlbC5cbiAgICAgKiAmbHQ7cCZndDtVcGRhdGUgdGhlIGxhYmVsIGZvciB0aGUgYWNjb3VudC4gVGhlIGxhYmVsIGlzIGhvdyB0aGUgYWNjb3VudCBpcyBrbm93biB0byB0aGUgYWNjb3VudCBvd25lciBlLmcuICYjMzk7TXkgc2F2aW5ncyBhY2NvdW50JiMzOTsgJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZUFjY291bnRMYWJlbFdpdGhIdHRwSW5mbyhib2R5OiBVcGRhdGVBY2NvdW50SlNPTiwgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVBY2NvdW50TGFiZWwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVBY2NvdW50TGFiZWwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVBY2NvdW50TGFiZWwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgQ291bnRlcnBhcnR5IENvcnBvcmF0ZSBMb2NhdGlvblxuICAgICAqICZsdDtwJmd0O1VwZGF0ZSB0aGUgZ2VvbG9jYXRpb24gb2YgdGhlIGNvdW50ZXJwYXJ0eSYjMzk7cyByZWdpc3RlcmVkIGFkZHJlc3MmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uV2l0aEh0dHBJbmZvKGJvZHk6IENvcnBvcmF0ZUxvY2F0aW9uSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS9jb3Jwb3JhdGVfbG9jYXRpb24nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnT1RIRVJfQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhPVEhFUl9BQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eUNvcnBvcmF0ZUxvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5Q29ycG9yYXRlTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlDb3Jwb3JhdGVMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIENvdW50ZXJwYXJ0eSBJbWFnZSBVcmxcbiAgICAgKiAmbHQ7cCZndDtVcGRhdGUgdGhlIHVybCB0aGF0IHBvaW50cyB0byB0aGUgbG9nbyBvZiB0aGUgY291bnRlcnBhcnR5Jmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlJbWFnZVVybFdpdGhIdHRwSW5mbyhib2R5OiBJbWFnZVVybEpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEvaW1hZ2VfdXJsJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eUltYWdlVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5SW1hZ2VVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlJbWFnZVVybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eUltYWdlVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5SW1hZ2VVcmwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBDb3VudGVycGFydHkgTW9yZSBJbmZvXG4gICAgICogJmx0O3AmZ3Q7VXBkYXRlIHRoZSBtb3JlIGluZm8gZGVzY3JpcHRpb24gb2YgdGhlIGNvdW50ZXIgcGFydHkgZnJvbSB0aGUgcGVycGVzdGl2ZSBvZiB0aGUgYWNjb3VudCBlLmcuIE15IGRlbnRpc3QuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBPVEhFUl9BQ0NPVU5UX0lEIFRoZSBvdGhlciBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlNb3JlSW5mb1dpdGhIdHRwSW5mbyhib2R5OiBNb3JlSW5mb0pTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEvbW9yZV9pbmZvJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ09USEVSX0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoT1RIRVJfQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eU1vcmVJbmZvLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlNb3JlSW5mby4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eU1vcmVJbmZvLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5TW9yZUluZm8uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBPcGVuIENvcnBvcmF0ZXMgVXJsIG9mIENvdW50ZXJwYXJ0eVxuICAgICAqICZsdDtwJmd0O1VwZGF0ZSBvcGVuIGNvcnBvcmF0ZSB1cmwgb2Ygb3RoZXIgYmFuayBhY2NvdW50LiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmxXaXRoSHR0cEluZm8oYm9keTogT3BlbkNvcnBvcmF0ZVVybEpTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vbWV0YWRhdGEvb3Blbl9jb3Jwb3JhdGVzX3VybCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5T3BlbkNvcnBvcmF0ZXNVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlPcGVuQ29ycG9yYXRlc1VybC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eU9wZW5Db3Jwb3JhdGVzVXJsLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgQ291bnRlcnBhcnR5IFBoeXNpY2FsIExvY2F0aW9uXG4gICAgICogJmx0O3AmZ3Q7VXBkYXRlIGdlb2Nvb3JkaW5hdGVzIG9mIHRoZSBjb3VudGVycGFydHkmIzM5O3MgbWFpbiBsb2NhdGlvbiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbldpdGhIdHRwSW5mbyhib2R5OiBQaHlzaWNhbExvY2F0aW9uSlNPTiwgT1RIRVJfQUNDT1VOVF9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vb3RoZXJfYWNjb3VudHMvJHtPVEhFUl9BQ0NPVU5UX0lEfS9tZXRhZGF0YS9waHlzaWNhbF9sb2NhdGlvbidcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ09USEVSX0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoT1RIRVJfQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBPVEhFUl9BQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIE9USEVSX0FDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVBoeXNpY2FsTG9jYXRpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQaHlzaWNhbExvY2F0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5UGh5c2ljYWxMb2NhdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIENvdW50ZXJwYXJ0eSBQcml2YXRlIEFsaWFzXG4gICAgICogJmx0O3AmZ3Q7VXBkYXRlcyB0aGUgcHJpdmF0ZSBhbGlhcyBvZiB0aGUgY291bnRlcnBhcnR5IChBS0Egb3RoZXIgYWNjb3VudCkgT1RIRVJfQUNDT1VOVF9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwgQXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVByaXZhdGVBbGlhc1dpdGhIdHRwSW5mbyhib2R5OiBBbGlhc0pTT04sIE9USEVSX0FDQ09VTlRfSUQ6IHN0cmluZywgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L290aGVyX2FjY291bnRzLyR7T1RIRVJfQUNDT1VOVF9JRH0vcHJpdmF0ZV9hbGlhcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQcml2YXRlQWxpYXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBwdWJsaWMgYWxpYXMgb2Ygb3RoZXIgYmFuayBhY2NvdW50LlxuICAgICAqICZsdDtwJmd0O1VwZGF0ZXMgdGhlIHB1YmxpYyBhbGlhcyBvZiB0aGUgb3RoZXIgYWNjb3VudCAvIGNvdW50ZXJwYXJ0eSBPVEhFUl9BQ0NPVU5UX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCBBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gT1RIRVJfQUNDT1VOVF9JRCBUaGUgb3RoZXIgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5UHVibGljQWxpYXNXaXRoSHR0cEluZm8oYm9keTogQWxpYXNKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L3B1YmxpY19hbGlhcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQdWJsaWNBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdPVEhFUl9BQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKE9USEVSX0FDQ09VTlRfSUQgPT09IG51bGwgfHwgT1RIRVJfQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBPVEhFUl9BQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlQ291bnRlcnBhcnR5UHVibGljQWxpYXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlQdWJsaWNBbGlhcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVB1YmxpY0FsaWFzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdXJsIG9mIG90aGVyIGJhbmsgYWNjb3VudC5cbiAgICAgKiAmbHQ7cCZndDtBIHVybCB3aGljaCByZXByZXNlbnRzIHRoZSBjb3VudGVycGFydHkgKGhvbWUgcGFnZSB1cmwgZXRjLikmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIE9USEVSX0FDQ09VTlRfSUQgVGhlIG90aGVyIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZUNvdW50ZXJwYXJ0eVVybFdpdGhIdHRwSW5mbyhib2R5OiBVcmxKU09OLCBPVEhFUl9BQ0NPVU5UX0lEOiBzdHJpbmcsIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9vdGhlcl9hY2NvdW50cy8ke09USEVSX0FDQ09VTlRfSUR9L21ldGFkYXRhL3VybCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdPVEhFUl9BQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKE9USEVSX0FDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnT1RIRVJfQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChPVEhFUl9BQ0NPVU5UX0lEID09PSBudWxsIHx8IE9USEVSX0FDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgT1RIRVJfQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVDb3VudGVycGFydHlVcmwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBuYXJyYXRpdmUuXG4gICAgICogJmx0O3AmZ3Q7VXBkYXRlcyB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIHRyYW5zYWN0aW9uIFRSQU5TQUNUSU9OX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQgaWYgdGhlIHZpZXcgaXMgbm90IHB1YmxpYy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFRSQU5TQUNUSU9OX0lEIFRoZSB0cmFuc2FjdGlvbiBpZFxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTIxVXBkYXRlVHJhbnNhY3Rpb25OYXJyYXRpdmVXaXRoSHR0cEluZm8oYm9keTogVHJhbnNhY3Rpb25OYXJyYXRpdmVKU09OLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL25hcnJhdGl2ZSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdUUkFOU0FDVElPTl9JRCcgKyAnfScsIFN0cmluZyhUUkFOU0FDVElPTl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZVRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1RSQU5TQUNUSU9OX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFRSQU5TQUNUSU9OX0lEID09PSBudWxsIHx8IFRSQU5TQUNUSU9OX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFRSQU5TQUNUSU9OX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZVRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlVHJhbnNhY3Rpb25OYXJyYXRpdmUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVUcmFuc2FjdGlvbk5hcnJhdGl2ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZVRyYW5zYWN0aW9uTmFycmF0aXZlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgd2hlcmUgdGFnLlxuICAgICAqICZsdDtwJmd0O1VwZGF0ZXMgdGhlIFxcJnF1b3Q7d2hlcmVcXCZxdW90OyBHZW8gdGFnIG9uIGEgdHJhbnNhY3Rpb24gVFJBTlNBQ1RJT05fSUQgaW4gYSAmbHQ7YSBocmVmJiN4M0Q7XFwmcXVvdDsjMV8yXzEtZ2V0Vmlld3NGb3JCYW5rQWNjb3VudFxcJnF1b3Q7Jmd0O3ZpZXcmbHQ7L2EmZ3Q7LiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhlIGdlbyB0YWcgaXMgbGlua2VkIHdpdGggdGhlIHVzZXIuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBUUkFOU0FDVElPTl9JRCBUaGUgdHJhbnNhY3Rpb24gaWRcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzEyMVVwZGF0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb25XaXRoSHR0cEluZm8oYm9keTogUG9zdFRyYW5zYWN0aW9uV2hlcmVKU09OLCBUUkFOU0FDVElPTl9JRDogc3RyaW5nLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vdHJhbnNhY3Rpb25zLyR7VFJBTlNBQ1RJT05fSUR9L21ldGFkYXRhL3doZXJlJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1RSQU5TQUNUSU9OX0lEJyArICd9JywgU3RyaW5nKFRSQU5TQUNUSU9OX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdUUkFOU0FDVElPTl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUUkFOU0FDVElPTl9JRCA9PT0gbnVsbCB8fCBUUkFOU0FDVElPTl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBUUkFOU0FDVElPTl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTIxVXBkYXRlV2hlcmVUYWdGb3JWaWV3T25UcmFuc2FjdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzEyMVVwZGF0ZVdoZXJlVGFnRm9yVmlld09uVHJhbnNhY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMjFVcGRhdGVXaGVyZVRhZ0ZvclZpZXdPblRyYW5zYWN0aW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvZnVuYzEyMS5zZXJ2aWNlLnRzIiwiLyoqXG4gKiBPcGVuIEJhbmsgUHJvamVjdCBBUElcbiAqIEFuIE9wZW4gU291cmNlIEFQSSBmb3IgQmFua3MuIChjKSBURVNPQkUgTHRkLiAyMDExIC0gMjAxNi4gTGljZW5zZWQgdW5kZXIgdGhlIEFHUEwgYW5kIGNvbW1lcmNpYWwgbGljZW5jZXMuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IHYzLjAuMFxuICogQ29udGFjdDogY29udGFjdEB0ZXNvYmUuY29tXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJy4uL3J4anMtb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgRXJyb3JVc2VyTm90TG9nZ2VkSW4gfSBmcm9tICcuLi9tb2RlbC9lcnJvclVzZXJOb3RMb2dnZWRJbic7XG5pbXBvcnQgeyBQaHlzaWNhbENhcmRzSlNPTiB9IGZyb20gJy4uL21vZGVsL3BoeXNpY2FsQ2FyZHNKU09OJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZ1bmNfMV8zXzBTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwOi8vYXBjLm9wZW5iYW5rcHJvamVjdC5jb20vb2JwL3YzLjAuMCc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcblx0XHRcdHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBFeHRlbmRzIG9iamVjdCBieSBjb3Bpbmcgbm9uLWV4aXN0aW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIG9iakEgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gICAgICogQHBhcmFtIG9iakIgc291cmNlIG9iamVjdFxuICAgICAqL1xuICAgIHByaXZhdGUgZXh0ZW5kT2JqPFQxLFQyPihvYmpBOiBUMSwgb2JqQjogVDIpIHtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JqQil7XG4gICAgICAgICAgICBpZihvYmpCLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgIChvYmpBIGFzIGFueSlba2V5XSA9IChvYmpCIGFzIGFueSlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPFQxJlQyPm9iakE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgZGF0YSBhYm91dCBhbGwgdGhlIHBoeXNpY2FsIGNhcmRzIGEgdXNlciBoYXMgYmVlbiBpc3N1ZWQuIFRoZXNlIGNvdWxkIGJlIGRlYml0IGNhcmRzLCBjcmVkaXQgY2FyZHMsIGV0Yy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IGNhcmRzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMzBHZXRDYXJkcyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxQaHlzaWNhbENhcmRzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTMwR2V0Q2FyZHNXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHN1bW1hcnkgR2V0IGNhcmRzIGZvciB0aGUgc3BlY2lmaWVkIGJhbmtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTMwR2V0Q2FyZHNGb3JCYW5rKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UGh5c2ljYWxDYXJkc0pTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzEzMEdldENhcmRzRm9yQmFua1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldCBjYXJkcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICAgICAqICZsdDtwJmd0O1JldHVybnMgZGF0YSBhYm91dCBhbGwgdGhlIHBoeXNpY2FsIGNhcmRzIGEgdXNlciBoYXMgYmVlbiBpc3N1ZWQuIFRoZXNlIGNvdWxkIGJlIGRlYml0IGNhcmRzLCBjcmVkaXQgY2FyZHMsIGV0Yy4mbHQ7L3AmZ3Q7XG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMzBHZXRDYXJkc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvY2FyZHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY2FyZHMgZm9yIHRoZSBzcGVjaWZpZWQgYmFua1xuICAgICAqIFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxMzBHZXRDYXJkc0ZvckJhbmtXaXRoSHR0cEluZm8oQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9jYXJkcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxMzBHZXRDYXJkc0ZvckJhbmsuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL2Z1bmMxMzAuc2VydmljZS50cyIsIi8qKlxuICogT3BlbiBCYW5rIFByb2plY3QgQVBJXG4gKiBBbiBPcGVuIFNvdXJjZSBBUEkgZm9yIEJhbmtzLiAoYykgVEVTT0JFIEx0ZC4gMjAxMSAtIDIwMTYuIExpY2Vuc2VkIHVuZGVyIHRoZSBBR1BMIGFuZCBjb21tZXJjaWFsIGxpY2VuY2VzLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiB2My4wLjBcbiAqIENvbnRhY3Q6IGNvbnRhY3RAdGVzb2JlLmNvbVxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICcuLi9yeGpzLW9wZXJhdG9ycyc7XG5cbmltcG9ydCB7IEFkZEN1c3RvbWVyTWVzc2FnZUpzb24gfSBmcm9tICcuLi9tb2RlbC9hZGRDdXN0b21lck1lc3NhZ2VKc29uJztcbmltcG9ydCB7IENybUV2ZW50c0pzb24gfSBmcm9tICcuLi9tb2RlbC9jcm1FdmVudHNKc29uJztcbmltcG9ydCB7IEN1c3RvbWVyTWVzc2FnZXNKc29uIH0gZnJvbSAnLi4vbW9kZWwvY3VzdG9tZXJNZXNzYWdlc0pzb24nO1xuaW1wb3J0IHsgRXJyb3JVc2VyTm90TG9nZ2VkSW4gfSBmcm9tICcuLi9tb2RlbC9lcnJvclVzZXJOb3RMb2dnZWRJbic7XG5pbXBvcnQgeyBTdWNjZXNzTWVzc2FnZSB9IGZyb20gJy4uL21vZGVsL3N1Y2Nlc3NNZXNzYWdlJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uUmVxdWVzdFR5cGVzSnNvblYxNDAgfSBmcm9tICcuLi9tb2RlbC90cmFuc2FjdGlvblJlcXVlc3RUeXBlc0pzb25WMTQwJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZ1bmNfMV80XzBTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwOi8vYXBjLm9wZW5iYW5rcHJvamVjdC5jb20vb2JwL3YzLjAuMCc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcblx0XHRcdHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBFeHRlbmRzIG9iamVjdCBieSBjb3Bpbmcgbm9uLWV4aXN0aW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIG9iakEgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gICAgICogQHBhcmFtIG9iakIgc291cmNlIG9iamVjdFxuICAgICAqL1xuICAgIHByaXZhdGUgZXh0ZW5kT2JqPFQxLFQyPihvYmpBOiBUMSwgb2JqQjogVDIpIHtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JqQil7XG4gICAgICAgICAgICBpZihvYmpCLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgIChvYmpBIGFzIGFueSlba2V5XSA9IChvYmpCIGFzIGFueSlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPFQxJlQyPm9iakE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkFkZCBhIG1lc3NhZ2UgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQ8L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIEN1c3RvbWVyIE1lc3NhZ2UuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxNDBBZGRDdXN0b21lck1lc3NhZ2UoYm9keTogQWRkQ3VzdG9tZXJNZXNzYWdlSnNvbiwgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTdWNjZXNzTWVzc2FnZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTQwQWRkQ3VzdG9tZXJNZXNzYWdlV2l0aEh0dHBJbmZvKGJvZHksIENVU1RPTUVSX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAc3VtbWFyeSBHZXQgQ1JNIEV2ZW50cyBmb3IgdGhlIGxvZ2dlZCBpbiB1c2VyXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzE0MEdldENybUV2ZW50cyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPENybUV2ZW50c0pzb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzE0MEdldENybUV2ZW50c1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgbWVzc2FnZXMgZm9yIHRoZSBsb2dnZWQgaW4gY3VzdG9tZXIgTWVzc2FnZXMgc2VudCB0byB0aGUgY3VycmVudGx5IGF1dGhlbnRpY2F0ZWQgdXNlci48L3A+PHA+QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgQ3VzdG9tZXIgTWVzc2FnZXMgKGN1cnJlbnQpXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzE0MEdldEN1c3RvbWVyTWVzc2FnZXMoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxDdXN0b21lck1lc3NhZ2VzSnNvbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMTQwR2V0Q3VzdG9tZXJNZXNzYWdlc1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSBUcmFuc2F0aW9uIFJlcXVlc3QgVHlwZXMgdGhhdCB0aGUgYWNjb3VudCBzcGVjaWZpZWQgYnkgQUNDT1VOVF9JRCBhbmQgdmlldyBzcGVjaWZpZWQgYnkgVklFV19JRCBoYXMgYWNjZXNzIHRvLjwvcD48cD5UaGVzZSBhcmUgdGhlIHdheXMgdGhpcyBBUEkgU2VydmVyIGNhbiBjcmVhdGUgYSBUcmFuc2FjdGlvbiB2aWEgYSBUcmFuc2FjdGlvbiBSZXF1ZXN0IChhcyBvcHBvc2VkIHRvIFRyYW5zYWN0aW9uIFR5cGVzIHdoaWNoIGluY2x1ZGUgZXh0ZXJuYWwgdHlwZXMgdG9vIGUuZy4gZm9yIFRyYW5zYWN0aW9ucyBjcmVhdGVkIGJ5IGNvcmUgYmFua2luZyBldGMuKTwvcD48cD5BIFRyYW5zYWN0aW9uIFJlcXVlc3QgVHlwZSBpbnRlcm5hbGx5IGRldGVybWluZXM6PC9wPjx1bD4gIDxsaT50aGUgcmVxdWlyZWQgVHJhbnNhY3Rpb24gUmVxdWVzdCAnYm9keScgaS5lLiBmaWVsZHMgdGhhdCBkZWZpbmUgdGhlICd3aGF0JyBhbmQgJ3RvJyBvZiBhIFRyYW5zYWN0aW9uIFJlcXVlc3QsPC9saT4gIDxsaT50aGUgdHlwZSBvZiBzZWN1cml0eSBjaGFsbGVuZ2UgdGhhdCBtYXkgYmUgYmUgcmFpc2VkIGJlZm9yZSB0aGUgVHJhbnNhY3Rpb24gUmVxdWVzdCBwcm9jZWVkcywgYW5kPC9saT4gIDxsaT50aGUgdGhyZXNob2xkIG9mIHRoYXQgY2hhbGxlbmdlLjwvbGk+PC91bD48cD5Gb3IgaW5zdGFuY2UgaW4gYSAnU0FOREJPWF9UQU4nIFRyYW5zYWN0aW9uIFJlcXVlc3QsIGZvciBhbW91bnRzIG92ZXIgMTAwMCBjdXJyZW5jeSB1bml0cywgdGhlIHVzZXIgbXVzdCBzdXBwbHkgYSBwb3NpdGl2ZSBpbnRlZ2VyIHRvIGNvbXBsZXRlIHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IGFuZCBjcmVhdGUgYSBUcmFuc2FjdGlvbi48L3A+PHA+VGhpcyBhcHByb2FjaCBhaW1zIHRvIHByb3ZpZGUgb25seSBvbmUgZW5kcG9pbnQgZm9yIGluaXRpYXRpbmcgdHJhbnNhY3Rpb25zLCBhbmQgb25lIHRoYXQgaGFuZGxlcyBjaGFsbGVuZ2VzLCB3aGlsc3Qgc3RpbGwgYWxsb3dpbmcgZmxleGliaWxpdHkgd2l0aCB0aGUgcGF5bG9hZCBhbmQgaW50ZXJuYWwgbG9naWMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBUcmFuc2FjdGlvbiBSZXF1ZXN0IFR5cGVzIGZvciBBY2NvdW50XG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxNDBHZXRUcmFuc2FjdGlvblJlcXVlc3RUeXBlcyhWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxUcmFuc2FjdGlvblJlcXVlc3RUeXBlc0pzb25WMTQwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMxNDBHZXRUcmFuc2FjdGlvblJlcXVlc3RUeXBlc1dpdGhIdHRwSW5mbyhWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFkZCBDdXN0b21lciBNZXNzYWdlLlxuICAgICAqICZsdDtwJmd0O0FkZCBhIG1lc3NhZ2UgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxNDBBZGRDdXN0b21lck1lc3NhZ2VXaXRoSHR0cEluZm8oYm9keTogQWRkQ3VzdG9tZXJNZXNzYWdlSnNvbiwgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9jdXN0b21lci8ke0NVU1RPTUVSX0lEfS9tZXNzYWdlcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdDVVNUT01FUl9JRCcgKyAnfScsIFN0cmluZyhDVVNUT01FUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTQwQWRkQ3VzdG9tZXJNZXNzYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzE0MEFkZEN1c3RvbWVyTWVzc2FnZS4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzE0MEFkZEN1c3RvbWVyTWVzc2FnZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBDUk0gRXZlbnRzIGZvciB0aGUgbG9nZ2VkIGluIHVzZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMTQwR2V0Q3JtRXZlbnRzV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vY3JtLWV2ZW50cydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxNDBHZXRDcm1FdmVudHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEN1c3RvbWVyIE1lc3NhZ2VzIChjdXJyZW50KVxuICAgICAqICZsdDtwJmd0O0dldCBtZXNzYWdlcyBmb3IgdGhlIGxvZ2dlZCBpbiBjdXN0b21lciBNZXNzYWdlcyBzZW50IHRvIHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgcmVxdWlyZWQuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMxNDBHZXRDdXN0b21lck1lc3NhZ2VzV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vY3VzdG9tZXIvbWVzc2FnZXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTQwR2V0Q3VzdG9tZXJNZXNzYWdlcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVHJhbnNhY3Rpb24gUmVxdWVzdCBUeXBlcyBmb3IgQWNjb3VudFxuICAgICAqICZsdDtwJmd0O1JldHVybnMgdGhlIFRyYW5zYXRpb24gUmVxdWVzdCBUeXBlcyB0aGF0IHRoZSBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEIGFuZCB2aWV3IHNwZWNpZmllZCBieSBWSUVXX0lEIGhhcyBhY2Nlc3MgdG8uJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZXNlIGFyZSB0aGUgd2F5cyB0aGlzIEFQSSBTZXJ2ZXIgY2FuIGNyZWF0ZSBhIFRyYW5zYWN0aW9uIHZpYSBhIFRyYW5zYWN0aW9uIFJlcXVlc3QgKGFzIG9wcG9zZWQgdG8gVHJhbnNhY3Rpb24gVHlwZXMgd2hpY2ggaW5jbHVkZSBleHRlcm5hbCB0eXBlcyB0b28gZS5nLiBmb3IgVHJhbnNhY3Rpb25zIGNyZWF0ZWQgYnkgY29yZSBiYW5raW5nIGV0Yy4pJmx0Oy9wJmd0OyZsdDtwJmd0O0EgVHJhbnNhY3Rpb24gUmVxdWVzdCBUeXBlIGludGVybmFsbHkgZGV0ZXJtaW5lczombHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O3RoZSByZXF1aXJlZCBUcmFuc2FjdGlvbiBSZXF1ZXN0ICYjMzk7Ym9keSYjMzk7IGkuZS4gZmllbGRzIHRoYXQgZGVmaW5lIHRoZSAmIzM5O3doYXQmIzM5OyBhbmQgJiMzOTt0byYjMzk7IG9mIGEgVHJhbnNhY3Rpb24gUmVxdWVzdCwmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O3RoZSB0eXBlIG9mIHNlY3VyaXR5IGNoYWxsZW5nZSB0aGF0IG1heSBiZSBiZSByYWlzZWQgYmVmb3JlIHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IHByb2NlZWRzLCBhbmQmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O3RoZSB0aHJlc2hvbGQgb2YgdGhhdCBjaGFsbGVuZ2UuJmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0O0ZvciBpbnN0YW5jZSBpbiBhICYjMzk7U0FOREJPWF9UQU4mIzM5OyBUcmFuc2FjdGlvbiBSZXF1ZXN0LCBmb3IgYW1vdW50cyBvdmVyIDEwMDAgY3VycmVuY3kgdW5pdHMsIHRoZSB1c2VyIG11c3Qgc3VwcGx5IGEgcG9zaXRpdmUgaW50ZWdlciB0byBjb21wbGV0ZSB0aGUgVHJhbnNhY3Rpb24gUmVxdWVzdCBhbmQgY3JlYXRlIGEgVHJhbnNhY3Rpb24uJmx0Oy9wJmd0OyZsdDtwJmd0O1RoaXMgYXBwcm9hY2ggYWltcyB0byBwcm92aWRlIG9ubHkgb25lIGVuZHBvaW50IGZvciBpbml0aWF0aW5nIHRyYW5zYWN0aW9ucywgYW5kIG9uZSB0aGF0IGhhbmRsZXMgY2hhbGxlbmdlcywgd2hpbHN0IHN0aWxsIGFsbG93aW5nIGZsZXhpYmlsaXR5IHdpdGggdGhlIHBheWxvYWQgYW5kIGludGVybmFsIGxvZ2ljLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzE0MEdldFRyYW5zYWN0aW9uUmVxdWVzdFR5cGVzV2l0aEh0dHBJbmZvKFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbi1yZXF1ZXN0LXR5cGVzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMxNDBHZXRUcmFuc2FjdGlvblJlcXVlc3RUeXBlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzE0MEdldFRyYW5zYWN0aW9uUmVxdWVzdFR5cGVzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMTQwR2V0VHJhbnNhY3Rpb25SZXF1ZXN0VHlwZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL2Z1bmMxNDAuc2VydmljZS50cyIsIi8qKlxuICogT3BlbiBCYW5rIFByb2plY3QgQVBJXG4gKiBBbiBPcGVuIFNvdXJjZSBBUEkgZm9yIEJhbmtzLiAoYykgVEVTT0JFIEx0ZC4gMjAxMSAtIDIwMTYuIExpY2Vuc2VkIHVuZGVyIHRoZSBBR1BMIGFuZCBjb21tZXJjaWFsIGxpY2VuY2VzLlxuICpcbiAqIE9wZW5BUEkgc3BlYyB2ZXJzaW9uOiB2My4wLjBcbiAqIENvbnRhY3Q6IGNvbnRhY3RAdGVzb2JlLmNvbVxuICpcbiAqIE5PVEU6IFRoaXMgY2xhc3MgaXMgYXV0byBnZW5lcmF0ZWQgYnkgdGhlIHN3YWdnZXIgY29kZSBnZW5lcmF0b3IgcHJvZ3JhbS5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4uZ2l0XG4gKiBEbyBub3QgZWRpdCB0aGUgY2xhc3MgbWFudWFsbHkuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6bm8tdW51c2VkLXZhcmlhYmxlIG1lbWJlci1vcmRlcmluZyAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIE9wdGlvbmFsIH0gICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwLCBIZWFkZXJzLCBVUkxTZWFyY2hQYXJhbXMgfSAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXF1ZXN0TWV0aG9kLCBSZXF1ZXN0T3B0aW9ucywgUmVxdWVzdE9wdGlvbnNBcmdzIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZSB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5cbmltcG9ydCB7IE9ic2VydmFibGUgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICdyeGpzL09ic2VydmFibGUnO1xuaW1wb3J0ICcuLi9yeGpzLW9wZXJhdG9ycyc7XG5cbmltcG9ydCB7IEJhc2ljQWNjb3VudHNKU09OIH0gZnJvbSAnLi4vbW9kZWwvYmFzaWNBY2NvdW50c0pTT04nO1xuaW1wb3J0IHsgQ3JlYXRlRW50aXRsZW1lbnRKU09OIH0gZnJvbSAnLi4vbW9kZWwvY3JlYXRlRW50aXRsZW1lbnRKU09OJztcbmltcG9ydCB7IENyZWF0ZU1lZXRpbmdKc29uIH0gZnJvbSAnLi4vbW9kZWwvY3JlYXRlTWVldGluZ0pzb24nO1xuaW1wb3J0IHsgQ3JlYXRlVXNlckN1c3RvbWVyTGlua0pzb24gfSBmcm9tICcuLi9tb2RlbC9jcmVhdGVVc2VyQ3VzdG9tZXJMaW5rSnNvbic7XG5pbXBvcnQgeyBDcmVhdGVVc2VySnNvbiB9IGZyb20gJy4uL21vZGVsL2NyZWF0ZVVzZXJKc29uJztcbmltcG9ydCB7IEVudGl0bGVtZW50SlNPTiB9IGZyb20gJy4uL21vZGVsL2VudGl0bGVtZW50SlNPTic7XG5pbXBvcnQgeyBFbnRpdGxlbWVudEpTT05zIH0gZnJvbSAnLi4vbW9kZWwvZW50aXRsZW1lbnRKU09Ocyc7XG5pbXBvcnQgeyBFcnJvckJhbmtOb3RGb3VuZCB9IGZyb20gJy4uL21vZGVsL2Vycm9yQmFua05vdEZvdW5kJztcbmltcG9ydCB7IEVycm9yVW5rbm93bkVycm9yIH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JVbmtub3duRXJyb3InO1xuaW1wb3J0IHsgRXJyb3JVc2VyTm90TG9nZ2VkSW4gfSBmcm9tICcuLi9tb2RlbC9lcnJvclVzZXJOb3RMb2dnZWRJbic7XG5pbXBvcnQgeyBLeWNDaGVja0pTT04gfSBmcm9tICcuLi9tb2RlbC9reWNDaGVja0pTT04nO1xuaW1wb3J0IHsgS3ljQ2hlY2tzSlNPTiB9IGZyb20gJy4uL21vZGVsL2t5Y0NoZWNrc0pTT04nO1xuaW1wb3J0IHsgS3ljRG9jdW1lbnRKU09OIH0gZnJvbSAnLi4vbW9kZWwva3ljRG9jdW1lbnRKU09OJztcbmltcG9ydCB7IEt5Y0RvY3VtZW50c0pTT04gfSBmcm9tICcuLi9tb2RlbC9reWNEb2N1bWVudHNKU09OJztcbmltcG9ydCB7IEt5Y01lZGlhSlNPTiB9IGZyb20gJy4uL21vZGVsL2t5Y01lZGlhSlNPTic7XG5pbXBvcnQgeyBLeWNNZWRpYXNKU09OIH0gZnJvbSAnLi4vbW9kZWwva3ljTWVkaWFzSlNPTic7XG5pbXBvcnQgeyBLeWNTdGF0dXNKU09OIH0gZnJvbSAnLi4vbW9kZWwva3ljU3RhdHVzSlNPTic7XG5pbXBvcnQgeyBLeWNTdGF0dXNlc0pTT04gfSBmcm9tICcuLi9tb2RlbC9reWNTdGF0dXNlc0pTT04nO1xuaW1wb3J0IHsgTWVldGluZ0pzb24gfSBmcm9tICcuLi9tb2RlbC9tZWV0aW5nSnNvbic7XG5pbXBvcnQgeyBNZWV0aW5nc0pzb24gfSBmcm9tICcuLi9tb2RlbC9tZWV0aW5nc0pzb24nO1xuaW1wb3J0IHsgUGVybWlzc2lvbnNKU09OIH0gZnJvbSAnLi4vbW9kZWwvcGVybWlzc2lvbnNKU09OJztcbmltcG9ydCB7IFBvc3RLeWNDaGVja0pTT04gfSBmcm9tICcuLi9tb2RlbC9wb3N0S3ljQ2hlY2tKU09OJztcbmltcG9ydCB7IFBvc3RLeWNEb2N1bWVudEpTT04gfSBmcm9tICcuLi9tb2RlbC9wb3N0S3ljRG9jdW1lbnRKU09OJztcbmltcG9ydCB7IFBvc3RLeWNNZWRpYUpTT04gfSBmcm9tICcuLi9tb2RlbC9wb3N0S3ljTWVkaWFKU09OJztcbmltcG9ydCB7IFBvc3RLeWNTdGF0dXNKU09OIH0gZnJvbSAnLi4vbW9kZWwvcG9zdEt5Y1N0YXR1c0pTT04nO1xuaW1wb3J0IHsgU29jaWFsTWVkaWFKU09OIH0gZnJvbSAnLi4vbW9kZWwvc29jaWFsTWVkaWFKU09OJztcbmltcG9ydCB7IFNvY2lhbE1lZGlhc0pTT04gfSBmcm9tICcuLi9tb2RlbC9zb2NpYWxNZWRpYXNKU09OJztcbmltcG9ydCB7IFN1Y2Nlc3NNZXNzYWdlIH0gZnJvbSAnLi4vbW9kZWwvc3VjY2Vzc01lc3NhZ2UnO1xuaW1wb3J0IHsgVHJhbnNhY3Rpb25UeXBlc0pzb25WMjAwIH0gZnJvbSAnLi4vbW9kZWwvdHJhbnNhY3Rpb25UeXBlc0pzb25WMjAwJztcbmltcG9ydCB7IFVzZXJDdXN0b21lckxpbmtKc29uIH0gZnJvbSAnLi4vbW9kZWwvdXNlckN1c3RvbWVyTGlua0pzb24nO1xuaW1wb3J0IHsgVXNlckpTT05WMjAwIH0gZnJvbSAnLi4vbW9kZWwvdXNlckpTT05WMjAwJztcbmltcG9ydCB7IFZpZXdzSlNPTlYxMjEgfSBmcm9tICcuLi9tb2RlbC92aWV3c0pTT05WMTIxJztcblxuaW1wb3J0IHsgQkFTRV9QQVRILCBDT0xMRUNUSU9OX0ZPUk1BVFMgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL3ZhcmlhYmxlcyc7XG5pbXBvcnQgeyBDb25maWd1cmF0aW9uIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZ1bmNfMl8wXzBTZXJ2aWNlIHtcblxuICAgIHByb3RlY3RlZCBiYXNlUGF0aCA9ICdodHRwOi8vYXBjLm9wZW5iYW5rcHJvamVjdC5jb20vb2JwL3YzLjAuMCc7XG4gICAgcHVibGljIGRlZmF1bHRIZWFkZXJzOiBIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKClASW5qZWN0KEJBU0VfUEFUSCkgYmFzZVBhdGg6IHN0cmluZywgQE9wdGlvbmFsKCkgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbikge1xuICAgICAgICBpZiAoYmFzZVBhdGgpIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcblx0XHRcdHRoaXMuYmFzZVBhdGggPSBiYXNlUGF0aCB8fCBjb25maWd1cmF0aW9uLmJhc2VQYXRoIHx8IHRoaXMuYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBFeHRlbmRzIG9iamVjdCBieSBjb3Bpbmcgbm9uLWV4aXN0aW5nIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIG9iakEgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gICAgICogQHBhcmFtIG9iakIgc291cmNlIG9iamVjdFxuICAgICAqL1xuICAgIHByaXZhdGUgZXh0ZW5kT2JqPFQxLFQyPihvYmpBOiBUMSwgb2JqQjogVDIpIHtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JqQil7XG4gICAgICAgICAgICBpZihvYmpCLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgIChvYmpBIGFzIGFueSlba2V5XSA9IChvYmpCIGFzIGFueSlba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gPFQxJlQyPm9iakE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnN1bWVzIHN0cmluZ1tdIG1pbWUtdHlwZXNcbiAgICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuQ29uc3VtZUZvcm0oY29uc3VtZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSc7XG4gICAgICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgICAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkNyZWF0ZSBFbnRpdGxlbWVudC4gR3JhbnQgUm9sZSB0byBVc2VyLjwvcD48cD5FbnRpdGxlbWVudHMgYXJlIHVzZWQgdG8gZ3JhbnQgU3lzdGVtIG9yIEJhbmsgbGV2ZWwgcm9sZXMgdG8gVXNlcnMuIChGb3IgQWNjb3VudCBsZXZlbCBwcml2aWxlZ2VzLCBzZWUgVmlld3MpPC9wPjxwPkZvciBhIFN5c3RlbSBsZXZlbCBSb2xlICguZS5nIENhbkdldEFueVVzZXIpLCBzZXQgYmFua19pZCB0byBhbiBlbXB0eSBzdHJpbmcgaS5lLiBcXFwiYmFua19pZFxcXCI6XFxcIlxcXCI8L3A+PHA+Rm9yIGEgQmFuayBsZXZlbCBSb2xlIChlLmcuIENhbkNyZWF0ZUFjY291bnQpLCBzZXQgYmFua19pZCB0byBhIHZhbGlkIHZhbHVlIGUuZy4gXFxcImJhbmtfaWRcXFwiOlxcXCJteS1iYW5rLWlkXFxcIjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gYmUgYSBTdXBlciBBZG1pbi4gU3VwZXIgQWRtaW5zIGFyZSBsaXN0ZWQgaW4gdGhlIFByb3BzIGZpbGUuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCBFbnRpdGxlbWVudCBmb3IgYSBVc2VyLlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBZGRFbnRpdGxlbWVudChib2R5OiBDcmVhdGVFbnRpdGxlbWVudEpTT04sIFVTRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8RW50aXRsZW1lbnRKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBBZGRFbnRpdGxlbWVudFdpdGhIdHRwSW5mbyhib2R5LCBVU0VSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5BZGQgYSBLWUMgY2hlY2sgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuIEtZQyBDaGVja3Mgc3RvcmUgZGV0YWlscyBvZiBjaGVja3Mgb24gYSBjdXN0b21lciBtYWRlIGJ5IHRoZSBLWUMgdGVhbSwgdGhlaXIgY29tbWVudHMgYW5kIGEgc2F0aXNmaWVkIHN0YXR1cy48L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIEtZQyBDaGVja1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBLWUNfQ0hFQ0tfSUQgVGhlIGt5YyBjaGVjayBpZFxuICAgICAqIEBwYXJhbSBDVVNUT01FUl9JRCBUaGUgY3VzdG9tZXIgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwQWRkS3ljQ2hlY2soYm9keTogUG9zdEt5Y0NoZWNrSlNPTiwgS1lDX0NIRUNLX0lEOiBzdHJpbmcsIENVU1RPTUVSX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8S3ljQ2hlY2tKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBBZGRLeWNDaGVja1dpdGhIdHRwSW5mbyhib2R5LCBLWUNfQ0hFQ0tfSUQsIENVU1RPTUVSX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5BZGQgYSBLWUMgZG9jdW1lbnQgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuIEtZQyBEb2N1bWVudHMgY29udGFpbiB0aGUgZG9jdW1lbnQgdHlwZSAoZS5nLiBwYXNzcG9ydCksIHBsYWNlIG9mIGlzc3VlLCBleHBpcnkgZXRjLiA8L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIEtZQyBEb2N1bWVudC5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gS1lDX0RPQ1VNRU5UX0lEIFRoZSBreWMgZG9jdW1lbnQgaWRcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEFkZEt5Y0RvY3VtZW50KGJvZHk6IFBvc3RLeWNEb2N1bWVudEpTT04sIEtZQ19ET0NVTUVOVF9JRDogc3RyaW5nLCBDVVNUT01FUl9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEt5Y0RvY3VtZW50SlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwQWRkS3ljRG9jdW1lbnRXaXRoSHR0cEluZm8oYm9keSwgS1lDX0RPQ1VNRU5UX0lELCBDVVNUT01FUl9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+QWRkIHNvbWUgS1lDIG1lZGlhIGZvciB0aGUgY3VzdG9tZXIgc3BlY2lmaWVkIGJ5IENVU1RPTUVSX0lELiBLWUMgTWVkaWEgcmVzb3VyY2VzIHJlbGF0ZSB0byBLWUMgRG9jdW1lbnRzIGFuZCBLWUMgQ2hlY2tzIGFuZCBjb250YWluIG1lZGlhIHVybHMgZm9yIHNjYW5zIG9mIHBhc3Nwb3J0cywgdXRpbGl0eSBiaWxscyBldGMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCBLWUMgTWVkaWEuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIEtZQ19NRURJQV9JRCBUaGUga3ljIG1lZGlhIGlkXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBZGRLeWNNZWRpYShib2R5OiBQb3N0S3ljTWVkaWFKU09OLCBLWUNfTUVESUFfSUQ6IHN0cmluZywgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxLeWNNZWRpYUpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEFkZEt5Y01lZGlhV2l0aEh0dHBJbmZvKGJvZHksIEtZQ19NRURJQV9JRCwgQ1VTVE9NRVJfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkFkZCBhIGt5Y19zdGF0dXMgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuIEtZQyBTdGF0dXMgaXMgYSB0aW1lbGluZSBvZiB0aGUgS1lDIHN0YXR1cyBvZiB0aGUgY3VzdG9tZXI8L3A+XG4gICAgICogQHN1bW1hcnkgQWRkIEtZQyBTdGF0dXNcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEFkZEt5Y1N0YXR1cyhib2R5OiBQb3N0S3ljU3RhdHVzSlNPTiwgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxLeWNTdGF0dXNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBBZGRLeWNTdGF0dXNXaXRoSHR0cEluZm8oYm9keSwgQ1VTVE9NRVJfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkFkZCBhIHNvY2lhbCBtZWRpYSBoYW5kbGUgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEFkZCBTb2NpYWwgTWVkaWEgSGFuZGxlXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBZGRTb2NpYWxNZWRpYUhhbmRsZShib2R5OiBTb2NpYWxNZWRpYUpTT04sIENVU1RPTUVSX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8U3VjY2Vzc01lc3NhZ2U+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEFkZFNvY2lhbE1lZGlhSGFuZGxlV2l0aEh0dHBJbmZvKGJvZHksIENVU1RPTUVSX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgYWNjb3VudHMgYXQgb25lIGJhbmsgdGhhdCB0aGUgdXNlciBoYXMgYWNjZXNzIHRvIChBdXRoZW50aWNhdGVkICsgQW5vbnltb3VzIGFjY2VzcykuIFJldHVybnMgdGhlIGxpc3Qgb2YgYWNjb3VudHMgYXQgQkFOS19JRCB0aGF0IHRoZSB1c2VyIGhhcyBhY2Nlc3MgdG8uIEZvciBlYWNoIGFjY291bnQgdGhlIEFQSSByZXR1cm5zIHRoZSBhY2NvdW50IElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLjwvcD48cD5JZiB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZCwgdGhlIGxpc3Qgd2lsbCBjb250YWluIG9ubHkgdGhlIGFjY291bnRzIHByb3ZpZGluZyBwdWJsaWMgdmlld3MuIEF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBBY2NvdW50cyBhdCBvbmUgQmFuayAoUHVibGljIGFuZCBQcml2YXRlKS5cbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwQWxsQWNjb3VudHNBdE9uZUJhbmsoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxCYXNpY0FjY291bnRzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwQWxsQWNjb3VudHNBdE9uZUJhbmtXaXRoSHR0cEluZm8oQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlIE1lZXRpbmc6IEluaXRpYXRlIGEgdmlkZW8gY29uZmVyZW5jZS9jYWxsIHdpdGggdGhlIGJhbmsuPC9wPjxwPlRoZSBNZWV0aW5ncyByZXNvdXJjZSBjb250YWlucyBtZXRhIGRhdGEgYWJvdXQgdmlkZW8vb3RoZXIgY29uZmVyZW5jZSBzZXNzaW9ucywgbm90IHRoZSB2aWRlby9hdWRpby9jaGF0IGl0c2VsZi48L3A+PHA+VGhlIGFjdHVhbCBjb25mZXJlbmNpbmcgaXMgaGFuZGxlZCBieSBleHRlcm5hbCBwcm92aWRlcnMuIEN1cnJlbnRseSBPQlAgc3VwcG9ydHMgdG9rYm94IHZpZGVvIGNvbmZlcmVuY2VzIChXSVApLjwvcD48cD5UaGlzIGlzIG5vdCBhIHJlY29tZW5kYXRpb24gb2YgdG9rYm94IHBlciBzZS48L3A+PHA+cHJvdmlkZXJfaWQgZGV0ZXJtaW5lcyB0aGUgcHJvdmlkZXIgb2YgdGhlIG1lZXRpbmcgLyB2aWRlbyBjaGF0IHNlcnZpY2UuIE1VU1QgYmUgdXJsIGZyaWVuZGx5IChubyBzcGFjZXMpLjwvcD48cD5wdXJwb3NlX2lkIGV4cGxhaW5zIHRoZSBwdXJwb3NlIG9mIHRoZSBjaGF0LiBvbmJvYXJkaW5nIHwgbW9ydGdhZ2UgfCBjb21wbGFpbnQgZXRjLiBNVVNUIGJlIHVybCBmcmllbmRseSAobm8gc3BhY2VzKS48L3A+PHA+TG9naW4gaXMgcmVxdWlyZWQuPC9wPjxwPlRoaXMgY2FsbCBpcyA8c3Ryb25nPmV4cGVyaW1lbnRhbDwvc3Ryb25nPi4gQ3VycmVudGx5IHN0YWZmX3VzZXJfaWQgaXMgbm90IHNldC4gRnVydGhlciBjYWxscyB3aWxsIGJlIG5lZWRlZCB0byBjb3JyZWN0bHkgc2V0IHRoaXMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBNZWV0aW5nICh2aWRlbyBjb25mZXJlbmNlL2NhbGwpXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMENyZWF0ZU1lZXRpbmcoYm9keTogQ3JlYXRlTWVldGluZ0pzb24sIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8TWVldGluZ0pzb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMENyZWF0ZU1lZXRpbmdXaXRoSHR0cEluZm8oYm9keSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlcyBPQlAgdXNlci4gIE5vIGF1dGhvcmlzYXRpb24gKGN1cnJlbnRseSkgcmVxdWlyZWQuPC9wPjxwPk1pbWljcyBjdXJyZW50IHdlYmZvcm0gdG8gUmVnaXN0ZXIuPC9wPjxwPlJlcXVpcmVzIHVzZXJuYW1lKGVtYWlsKSBhbmQgcGFzc3dvcmQuPC9wPjxwPlJldHVybnMgNDA5IGVycm9yIGlmIHVzZXJuYW1lIG5vdCB1bmlxdWUuPC9wPjxwPk1heSByZXF1aXJlIHZhbGlkYXRpb24gb2YgZW1haWwgYWRkcmVzcy48L3A+XG4gICAgICogQHN1bW1hcnkgQ3JlYXRlIFVzZXIuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBDcmVhdGVVc2VyKGJvZHk6IENyZWF0ZVVzZXJKc29uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxVc2VySlNPTlYyMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMENyZWF0ZVVzZXJXaXRoSHR0cEluZm8oYm9keSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+TGluayBhIFVzZXIgdG8gYSBDdXN0b21lcjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+PHA+Q2FuQ3JlYXRlVXNlckN1c3RvbWVyTGluayBPUiBDYW5DcmVhdGVVc2VyQ3VzdG9tZXJMaW5rQXRBbnlCYW5rIGVudGl0bGVtZW50cyBhcmUgcmVxdWlyZWQuPC9wPlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBVc2VyIEN1c3RvbWVyIExpbmsuXG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMENyZWF0ZVVzZXJDdXN0b21lckxpbmtzKGJvZHk6IENyZWF0ZVVzZXJDdXN0b21lckxpbmtKc29uLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFVzZXJDdXN0b21lckxpbmtKc29uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBDcmVhdGVVc2VyQ3VzdG9tZXJMaW5rc1dpdGhIdHRwSW5mbyhib2R5LCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5EZWxldGUgRW50aXRsZW1lbnQgc3BlY2lmaWVkIGJ5IEVOVElUTEVNRU5UX0lEIGZvciBhbiB1c2VyIHNwZWNpZmllZCBieSBVU0VSX0lEPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBiZSBhIFN1cGVyIEFkbWluLiBTdXBlciBBZG1pbnMgYXJlIGxpc3RlZCBpbiB0aGUgUHJvcHMgZmlsZS48L3A+XG4gICAgICogQHN1bW1hcnkgRGVsZXRlIEVudGl0bGVtZW50XG4gICAgICogQHBhcmFtIEVOVElUTEVNRU5UX0lEIFRoZSBlbnRpdGJsZW1lbnQgaWRcbiAgICAgKiBAcGFyYW0gVVNFUl9JRCBUaGUgdXNlciBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwRGVsZXRlRW50aXRsZW1lbnQoRU5USVRMRU1FTlRfSUQ6IHN0cmluZywgVVNFUl9JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMERlbGV0ZUVudGl0bGVtZW50V2l0aEh0dHBJbmZvKEVOVElUTEVNRU5UX0lELCBVU0VSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5Mb2dpbiBpcyByZXF1aXJlZC48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IGFsbCBFbnRpdGxlbWVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldEFsbEVudGl0bGVtZW50cyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxFbnRpdGxlbWVudEpTT05zPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBHZXRBbGxFbnRpdGxlbWVudHNXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R2V0IHRoZSBsb2dnZWQgaW4gdXNlcjwvcD48cD5Mb2dpbiBpcyByZXF1aXJlZC48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IFVzZXIgKEN1cnJlbnQpXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRDdXJyZW50VXNlcihleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxVc2VySlNPTlYyMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEdldEN1cnJlbnRVc2VyV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkxvZ2luIGlzIHJlcXVpcmVkLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgRW50aXRsZW1lbnRzIHNwZWNpZmllZCBieSBVU0VSX0lEXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldEVudGl0bGVtZW50cyhVU0VSX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEVudGl0bGVtZW50SlNPTnM+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEdldEVudGl0bGVtZW50c1dpdGhIdHRwSW5mbyhVU0VSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgS1lDIGNoZWNrcyBmb3IgdGhlIGxvZ2dlZCBpbiBjdXN0b21lciBNZXNzYWdlcyBzZW50IHRvIHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IEtZQyBDaGVja3MgZm9yIGN1cnJlbnQgQ3VzdG9tZXJcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRLeWNDaGVja3MoQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8S3ljQ2hlY2tzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwR2V0S3ljQ2hlY2tzV2l0aEh0dHBJbmZvKENVU1RPTUVSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgS1lDIChrbm93IHlvdXIgY3VzdG9tZXIpIGRvY3VtZW50cyBmb3IgYSBjdXN0b21lciBHZXQgYSBsaXN0IG9mIGRvY3VtZW50cyB0aGF0IGFmZmlybSB0aGUgaWRlbnRpdHkgb2YgdGhlIGN1c3RvbWVyIFBhc3Nwb3J0LCBkcml2aW5nIGxpY2VuY2UgZXRjLiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbDwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgS1lDIERvY3VtZW50cyBmb3IgQ3VzdG9tZXJcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRLeWNEb2N1bWVudHMoQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8S3ljRG9jdW1lbnRzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwR2V0S3ljRG9jdW1lbnRzV2l0aEh0dHBJbmZvKENVU1RPTUVSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgS1lDIG1lZGlhIChzY2FucywgcGljdHVyZXMsIHZpZGVvcykgdGhhdCBhZmZpcm1zIHRoZSBpZGVudGl0eSBvZiB0aGUgY3VzdG9tZXIuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeTwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgS1lDIE1lZGlhIGZvciBhIGN1c3RvbWVyXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0S3ljTWVkaWEoQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8S3ljTWVkaWFzSlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwR2V0S3ljTWVkaWFXaXRoSHR0cEluZm8oQ1VTVE9NRVJfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCB0aGUgS1lDIHN0YXR1c2VzIGZvciBhIGN1c3RvbWVyIG92ZXIgdGltZTwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IHRoZSBLWUMgc3RhdHVzZXMgZm9yIGEgY3VzdG9tZXJcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRLeWNTdGF0dXNlcyhDVVNUT01FUl9JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxLeWNTdGF0dXNlc0pTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEdldEt5Y1N0YXR1c2VzV2l0aEh0dHBJbmZvKENVU1RPTUVSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgTWVldGluZyBzcGVjaWZpZWQgYnkgQkFOS19JRCAvIE1FRVRJTkdfSUQgTWVldGluZ3MgY29udGFpbiBtZXRhIGRhdGEgYWJvdXQsIGFuZCBhcmUgdXNlZCB0byBmYWNpbGl0YXRlLCB2aWRlbyBjb25mZXJlbmNlcyAvIGNoYXRzIGV0Yy48L3A+PHA+VGhlIGFjdHVhbCBjb25mZXJlbmNlL2NoYXRzIGFyZSBoYW5kbGVkIGJ5IGV4dGVybmFsIHNlcnZpY2VzLjwvcD48cD5Mb2dpbiBpcyByZXF1aXJlZC48L3A+PHA+VGhpcyBjYWxsIGlzIDxzdHJvbmc+ZXhwZXJpbWVudGFsPC9zdHJvbmc+IGFuZCB3aWxsIHJlcXVpcmUgZnVydGhlciBhdXRob3Jpc2F0aW9uIGluIHRoZSBmdXR1cmUuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBNZWV0aW5nXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldE1lZXRpbmcoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxNZWV0aW5nSnNvbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwR2V0TWVldGluZ1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5NZWV0aW5ncyBjb250YWluIG1ldGEgZGF0YSBhYm91dCwgYW5kIGFyZSB1c2VkIHRvIGZhY2lsaXRhdGUsIHZpZGVvIGNvbmZlcmVuY2VzIC8gY2hhdHMgZXRjLjwvcD48cD5UaGUgYWN0dWFsIGNvbmZlcmVuY2UvY2hhdHMgYXJlIGhhbmRsZWQgYnkgZXh0ZXJuYWwgc2VydmljZXMuPC9wPjxwPkxvZ2luIGlzIHJlcXVpcmVkLjwvcD48cD5UaGlzIGNhbGwgaXMgPHN0cm9uZz5leHBlcmltZW50YWw8L3N0cm9uZz4gYW5kIHdpbGwgcmVxdWlyZSBmdXJ0aGVyIGF1dGhvcmlzYXRpb24gaW4gdGhlIGZ1dHVyZS48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IE1lZXRpbmdzXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldE1lZXRpbmdzKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8TWVldGluZ3NKc29uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBHZXRNZWV0aW5nc1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRoZSBsaXN0IG9mIHRoZSB2aWV3cyBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQgdGhhdCBhIFVTRVJfSUQgYXQgdGhlaXIgcHJvdmlkZXIgUFJPVklERVJfSUQgaGFzIGFjY2VzcyB0by4gQWxsIHVybCBwYXJhbWV0ZXJzIG11c3QgYmUgPGEgaHJlZj1cXFwiaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QZXJjZW50LWVuY29kaW5nXFxcIj4lLWVuY29kZWQ8L2E+LCB3aGljaCBpcyBvZnRlbiBlc3BlY2lhbGx5IHJlbGV2YW50IGZvciBVU0VSX0lEIGFuZCBQUk9WSURFUl9JRC48L3A+PHA+T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgYWNjZXNzIGZvciBzcGVjaWZpYyB1c2VyLlxuICAgICAqIEBwYXJhbSBQUk9WSURFUl9JRCBUaGUgcHJvdmlkZXIgaWRcbiAgICAgKiBAcGFyYW0gVVNFUl9JRCBUaGUgdXNlciBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnQoUFJPVklERVJfSUQ6IHN0cmluZywgVVNFUl9JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Vmlld3NKU09OVjEyMT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjAwR2V0UGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhQUk9WSURFUl9JRCwgVVNFUl9JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyB0aGUgbGlzdCBvZiB0aGUgcGVybWlzc2lvbnMgYXQgQkFOS19JRCBmb3IgYWNjb3VudCBBQ0NPVU5UX0lELCB3aXRoIGVhY2ggdGltZSBhIHBhaXIgY29tcG9zZWQgb2YgdGhlIHVzZXIgYW5kIHRoZSB2aWV3cyB0aGF0IGhlIGhhcyBhY2Nlc3MgdG8uPC9wPjxwPk9BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IGFjY2Vzcy5cbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRQZXJtaXNzaW9uc0ZvckJhbmtBY2NvdW50KEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxQZXJtaXNzaW9uc0pTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMEdldFBlcm1pc3Npb25zRm9yQmFua0FjY291bnRXaXRoSHR0cEluZm8oQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R2V0IHNvY2lhbCBtZWRpYSBoYW5kbGVzIGZvciBhIGN1c3RvbWVyLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IHNvY2lhbCBtZWRpYSBoYW5kbGVzIGZvciBhIGN1c3RvbWVyXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRTb2NpYWxNZWRpYUhhbmRsZXMoQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxTb2NpYWxNZWRpYXNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBHZXRTb2NpYWxNZWRpYUhhbmRsZXNXaXRoSHR0cEluZm8oQ1VTVE9NRVJfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCBUcmFuc2FjdGlvbiBUeXBlcyBmb3IgdGhlIGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQ6PC9wPjxwPkxpc3RzIHRoZSBwb3NzaWJsZSBUcmFuc2FjdGlvbiBUeXBlcyBhdmFpbGFibGUgYXQgdGhlIGJhbmsgKGFzIG9wcG9zZWQgdG8gVHJhbnNhY3Rpb24gUmVxdWVzdCBUeXBlcyB3aGljaCBhcmUgdGhlIHBvc3NpYmxlIHdheXMgVHJhbnNhY3Rpb25zIGNhbiBiZSBjcmVhdGVkIGJ5IHRoaXMgQVBJIFNlcnZlcikuPC9wPjx1bD4gIDxsaT5pZCA6IFVuaXF1ZSB0cmFuc2FjdGlvbiB0eXBlIGlkIGFjcm9zcyB0aGUgQVBJIGluc3RhbmNlLiBTSE9VTEQgYmUgYSBVVUlELiBNVVNUIGJlIHVuaXF1ZS48L2xpPiAgPGxpPmJhbmtfaWQgOiBUaGUgYmFuayB0aGF0IHN1cHBvcnRzIHRoaXMgVHJhbnNhY3Rpb25UeXBlPC9saT4gIDxsaT5zaG9ydF9jb2RlIDogQSBzaG9ydCBjb2RlIChTSE9VTEQgaGF2ZSBuby1zcGFjZXMpIHdoaWNoIE1VU1QgYmUgdW5pcXVlIGFjcm9zcyB0aGUgYmFuay4gTWF5IGJlIHN0b3JlZCB3aXRoIFRyYW5zYWN0aW9ucyB0byBsaW5rIGhlcmU8L2xpPiAgPGxpPnN1bW1hcnkgOiBBIHN1Y2NpbmN0IHN1bW1hcnk8L2xpPiAgPGxpPmRlc2NyaXB0aW9uIDogQSBsb25nZXIgZGVzY3JpcHRpb248L2xpPiAgPGxpPmNoYXJnZSA6IFRoZSBjaGFyZ2UgdG8gdGhlIGN1c3RvbWVyIGZvciBlYWNoIG9uZSBvZiB0aGVzZTwvbGk+PC91bD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbDwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgVHJhbnNhY3Rpb24gVHlwZXMgb2ZmZXJlZCBieSB0aGUgYmFua1xuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRUcmFuc2FjdGlvblR5cGVzKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VHJhbnNhY3Rpb25UeXBlc0pzb25WMjAwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBHZXRUcmFuc2FjdGlvblR5cGVzV2l0aEh0dHBJbmZvKEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgdGhlIGxpc3Qgb2YgcHJpdmF0ZSAobm9uLXB1YmxpYykgYWNjb3VudHMgYXQgQkFOS19JRCB0aGF0IHRoZSB1c2VyIGhhcyBhY2Nlc3MgdG8uIEZvciBlYWNoIGFjY291bnQgdGhlIEFQSSByZXR1cm5zIHRoZSBJRCBhbmQgdGhlIGF2YWlsYWJsZSB2aWV3cy48L3A+PHA+SWYgeW91IHdhbnQgdG8gc2VlIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlIFZpZXdzLCB1c2UgdGhlIEFjY291bnQgRGV0YWlsIGNhbGwuIElmIHlvdSB3YW50IGxlc3MgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFjY291bnQsIHVzZSB0aGUgL215IGFjY291bnRzIGNhbGw8L3A+PHA+QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5PC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBwcml2YXRlIGFjY291bnRzIGF0IG9uZSBiYW5rIChBdXRoZW50aWNhdGVkIGFjY2VzcykuXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMFByaXZhdGVBY2NvdW50c0F0T25lQmFuayhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEJhc2ljQWNjb3VudHNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBQcml2YXRlQWNjb3VudHNBdE9uZUJhbmtXaXRoSHR0cEluZm8oQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R2V0IHB1YmxpYyBhY2NvdW50cyBhdCBhbGwgYmFua3MgKEFub255bW91cyBhY2Nlc3MpLiBSZXR1cm5zIGFjY291bnRzIHRoYXQgY29udGFpbiBhdCBsZWFzdCBvbmUgcHVibGljIHZpZXcgKGEgdmlldyB3aGVyZSBpc19wdWJsaWMgaXMgdHJ1ZSkgRm9yIGVhY2ggYWNjb3VudCB0aGUgQVBJIHJldHVybnMgdGhlIElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbDwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgUHVibGljIEFjY291bnRzIGF0IGFsbCBCYW5rcy5cbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMFB1YmxpY0FjY291bnRzQWxsQmFua3MoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QmFzaWNBY2NvdW50c0pTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIwMFB1YmxpY0FjY291bnRzQWxsQmFua3NXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyBhIGxpc3Qgb2YgdGhlIHB1YmxpYyBhY2NvdW50cyAoQW5vbnltb3VzIGFjY2VzcykgYXQgQkFOS19JRC4gRm9yIGVhY2ggYWNjb3VudCB0aGUgQVBJIHJldHVybnMgdGhlIElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLjwvcD48cD5BdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgbm90IHJlcXVpcmVkLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgQWNjb3VudHMgYXQgQmFuayAoUHVibGljKVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBQdWJsaWNBY2NvdW50c0F0T25lQmFuayhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEJhc2ljQWNjb3VudHNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMDBQdWJsaWNBY2NvdW50c0F0T25lQmFua1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEFkZCBFbnRpdGxlbWVudCBmb3IgYSBVc2VyLlxuICAgICAqICZsdDtwJmd0O0NyZWF0ZSBFbnRpdGxlbWVudC4gR3JhbnQgUm9sZSB0byBVc2VyLiZsdDsvcCZndDsmbHQ7cCZndDtFbnRpdGxlbWVudHMgYXJlIHVzZWQgdG8gZ3JhbnQgU3lzdGVtIG9yIEJhbmsgbGV2ZWwgcm9sZXMgdG8gVXNlcnMuIChGb3IgQWNjb3VudCBsZXZlbCBwcml2aWxlZ2VzLCBzZWUgVmlld3MpJmx0Oy9wJmd0OyZsdDtwJmd0O0ZvciBhIFN5c3RlbSBsZXZlbCBSb2xlICguZS5nIENhbkdldEFueVVzZXIpLCBzZXQgYmFua19pZCB0byBhbiBlbXB0eSBzdHJpbmcgaS5lLiBcXCZxdW90O2JhbmtfaWRcXCZxdW90OzpcXCZxdW90O1xcJnF1b3Q7Jmx0Oy9wJmd0OyZsdDtwJmd0O0ZvciBhIEJhbmsgbGV2ZWwgUm9sZSAoZS5nLiBDYW5DcmVhdGVBY2NvdW50KSwgc2V0IGJhbmtfaWQgdG8gYSB2YWxpZCB2YWx1ZSBlLmcuIFxcJnF1b3Q7YmFua19pZFxcJnF1b3Q7OlxcJnF1b3Q7bXktYmFuay1pZFxcJnF1b3Q7Jmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBiZSBhIFN1cGVyIEFkbWluLiBTdXBlciBBZG1pbnMgYXJlIGxpc3RlZCBpbiB0aGUgUHJvcHMgZmlsZS4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEFkZEVudGl0bGVtZW50V2l0aEh0dHBJbmZvKGJvZHk6IENyZWF0ZUVudGl0bGVtZW50SlNPTiwgVVNFUl9JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvdXNlcnMvJHtVU0VSX0lEfS9lbnRpdGxlbWVudHMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVVNFUl9JRCcgKyAnfScsIFN0cmluZyhVU0VSX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkRW50aXRsZW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVVNFUl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChVU0VSX0lEID09PSBudWxsIHx8IFVTRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVVNFUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBBZGRFbnRpdGxlbWVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBLWUMgQ2hlY2tcbiAgICAgKiAmbHQ7cCZndDtBZGQgYSBLWUMgY2hlY2sgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuIEtZQyBDaGVja3Mgc3RvcmUgZGV0YWlscyBvZiBjaGVja3Mgb24gYSBjdXN0b21lciBtYWRlIGJ5IHRoZSBLWUMgdGVhbSwgdGhlaXIgY29tbWVudHMgYW5kIGEgc2F0aXNmaWVkIHN0YXR1cy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIEtZQ19DSEVDS19JRCBUaGUga3ljIGNoZWNrIGlkXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBZGRLeWNDaGVja1dpdGhIdHRwSW5mbyhib2R5OiBQb3N0S3ljQ2hlY2tKU09OLCBLWUNfQ0hFQ0tfSUQ6IHN0cmluZywgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9jdXN0b21lcnMvJHtDVVNUT01FUl9JRH0va3ljX2NoZWNrLyR7S1lDX0NIRUNLX0lEfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdLWUNfQ0hFQ0tfSUQnICsgJ30nLCBTdHJpbmcoS1lDX0NIRUNLX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdDVVNUT01FUl9JRCcgKyAnfScsIFN0cmluZyhDVVNUT01FUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljQ2hlY2suJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnS1lDX0NIRUNLX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEtZQ19DSEVDS19JRCA9PT0gbnVsbCB8fCBLWUNfQ0hFQ0tfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgS1lDX0NIRUNLX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEFkZEt5Y0NoZWNrLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEFkZEt5Y0NoZWNrLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljQ2hlY2suJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBLWUMgRG9jdW1lbnQuXG4gICAgICogJmx0O3AmZ3Q7QWRkIGEgS1lDIGRvY3VtZW50IGZvciB0aGUgY3VzdG9tZXIgc3BlY2lmaWVkIGJ5IENVU1RPTUVSX0lELiBLWUMgRG9jdW1lbnRzIGNvbnRhaW4gdGhlIGRvY3VtZW50IHR5cGUgKGUuZy4gcGFzc3BvcnQpLCBwbGFjZSBvZiBpc3N1ZSwgZXhwaXJ5IGV0Yy4gJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBLWUNfRE9DVU1FTlRfSUQgVGhlIGt5YyBkb2N1bWVudCBpZFxuICAgICAqIEBwYXJhbSBDVVNUT01FUl9JRCBUaGUgY3VzdG9tZXIgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwQWRkS3ljRG9jdW1lbnRXaXRoSHR0cEluZm8oYm9keTogUG9zdEt5Y0RvY3VtZW50SlNPTiwgS1lDX0RPQ1VNRU5UX0lEOiBzdHJpbmcsIENVU1RPTUVSX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vY3VzdG9tZXJzLyR7Q1VTVE9NRVJfSUR9L2t5Y19kb2N1bWVudHMvJHtLWUNfRE9DVU1FTlRfSUR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0tZQ19ET0NVTUVOVF9JRCcgKyAnfScsIFN0cmluZyhLWUNfRE9DVU1FTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0NVU1RPTUVSX0lEJyArICd9JywgU3RyaW5nKENVU1RPTUVSX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBBZGRLeWNEb2N1bWVudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdLWUNfRE9DVU1FTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoS1lDX0RPQ1VNRU5UX0lEID09PSBudWxsIHx8IEtZQ19ET0NVTUVOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBLWUNfRE9DVU1FTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljRG9jdW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQ1VTVE9NRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQ1VTVE9NRVJfSUQgPT09IG51bGwgfHwgQ1VTVE9NRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQ1VTVE9NRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljRG9jdW1lbnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBBZGRLeWNEb2N1bWVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIEtZQyBNZWRpYS5cbiAgICAgKiAmbHQ7cCZndDtBZGQgc29tZSBLWUMgbWVkaWEgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuIEtZQyBNZWRpYSByZXNvdXJjZXMgcmVsYXRlIHRvIEtZQyBEb2N1bWVudHMgYW5kIEtZQyBDaGVja3MgYW5kIGNvbnRhaW4gbWVkaWEgdXJscyBmb3Igc2NhbnMgb2YgcGFzc3BvcnRzLCB1dGlsaXR5IGJpbGxzIGV0Yy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICogQHBhcmFtIEtZQ19NRURJQV9JRCBUaGUga3ljIG1lZGlhIGlkXG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBZGRLeWNNZWRpYVdpdGhIdHRwSW5mbyhib2R5OiBQb3N0S3ljTWVkaWFKU09OLCBLWUNfTUVESUFfSUQ6IHN0cmluZywgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9jdXN0b21lcnMvJHtDVVNUT01FUl9JRH0va3ljX21lZGlhLyR7S1lDX01FRElBX0lEfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdLWUNfTUVESUFfSUQnICsgJ30nLCBTdHJpbmcoS1lDX01FRElBX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdDVVNUT01FUl9JRCcgKyAnfScsIFN0cmluZyhDVVNUT01FUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljTWVkaWEuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnS1lDX01FRElBX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEtZQ19NRURJQV9JRCA9PT0gbnVsbCB8fCBLWUNfTUVESUFfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgS1lDX01FRElBX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEFkZEt5Y01lZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEFkZEt5Y01lZGlhLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljTWVkaWEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBLWUMgU3RhdHVzXG4gICAgICogJmx0O3AmZ3Q7QWRkIGEga3ljX3N0YXR1cyBmb3IgdGhlIGN1c3RvbWVyIHNwZWNpZmllZCBieSBDVVNUT01FUl9JRC4gS1lDIFN0YXR1cyBpcyBhIHRpbWVsaW5lIG9mIHRoZSBLWUMgc3RhdHVzIG9mIHRoZSBjdXN0b21lciZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEFkZEt5Y1N0YXR1c1dpdGhIdHRwSW5mbyhib2R5OiBQb3N0S3ljU3RhdHVzSlNPTiwgQ1VTVE9NRVJfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9jdXN0b21lcnMvJHtDVVNUT01FUl9JRH0va3ljX3N0YXR1c2VzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0NVU1RPTUVSX0lEJyArICd9JywgU3RyaW5nKENVU1RPTUVSX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBBZGRLeWNTdGF0dXMuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQ1VTVE9NRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQ1VTVE9NRVJfSUQgPT09IG51bGwgfHwgQ1VTVE9NRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQ1VTVE9NRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljU3RhdHVzLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkS3ljU3RhdHVzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgU29jaWFsIE1lZGlhIEhhbmRsZVxuICAgICAqICZsdDtwJmd0O0FkZCBhIHNvY2lhbCBtZWRpYSBoYW5kbGUgZm9yIHRoZSBjdXN0b21lciBzcGVjaWZpZWQgYnkgQ1VTVE9NRVJfSUQuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBDVVNUT01FUl9JRCBUaGUgY3VzdG9tZXIgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwQWRkU29jaWFsTWVkaWFIYW5kbGVXaXRoSHR0cEluZm8oYm9keTogU29jaWFsTWVkaWFKU09OLCBDVVNUT01FUl9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2N1c3RvbWVycy8ke0NVU1RPTUVSX0lEfS9zb2NpYWxfbWVkaWFfaGFuZGxlcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdDVVNUT01FUl9JRCcgKyAnfScsIFN0cmluZyhDVVNUT01FUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkU29jaWFsTWVkaWFIYW5kbGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQ1VTVE9NRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQ1VTVE9NRVJfSUQgPT09IG51bGwgfHwgQ1VTVE9NRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQ1VTVE9NRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwQWRkU29jaWFsTWVkaWFIYW5kbGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBBZGRTb2NpYWxNZWRpYUhhbmRsZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBBY2NvdW50cyBhdCBvbmUgQmFuayAoUHVibGljIGFuZCBQcml2YXRlKS5cbiAgICAgKiAmbHQ7cCZndDtHZXQgYWNjb3VudHMgYXQgb25lIGJhbmsgdGhhdCB0aGUgdXNlciBoYXMgYWNjZXNzIHRvIChBdXRoZW50aWNhdGVkICsgQW5vbnltb3VzIGFjY2VzcykuIFJldHVybnMgdGhlIGxpc3Qgb2YgYWNjb3VudHMgYXQgQkFOS19JRCB0aGF0IHRoZSB1c2VyIGhhcyBhY2Nlc3MgdG8uIEZvciBlYWNoIGFjY291bnQgdGhlIEFQSSByZXR1cm5zIHRoZSBhY2NvdW50IElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLiZsdDsvcCZndDsmbHQ7cCZndDtJZiB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZCwgdGhlIGxpc3Qgd2lsbCBjb250YWluIG9ubHkgdGhlIGFjY291bnRzIHByb3ZpZGluZyBwdWJsaWMgdmlld3MuIEF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBBbGxBY2NvdW50c0F0T25lQmFua1dpdGhIdHRwSW5mbyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEFsbEFjY291bnRzQXRPbmVCYW5rLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBNZWV0aW5nICh2aWRlbyBjb25mZXJlbmNlL2NhbGwpXG4gICAgICogJmx0O3AmZ3Q7Q3JlYXRlIE1lZXRpbmc6IEluaXRpYXRlIGEgdmlkZW8gY29uZmVyZW5jZS9jYWxsIHdpdGggdGhlIGJhbmsuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBNZWV0aW5ncyByZXNvdXJjZSBjb250YWlucyBtZXRhIGRhdGEgYWJvdXQgdmlkZW8vb3RoZXIgY29uZmVyZW5jZSBzZXNzaW9ucywgbm90IHRoZSB2aWRlby9hdWRpby9jaGF0IGl0c2VsZi4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhlIGFjdHVhbCBjb25mZXJlbmNpbmcgaXMgaGFuZGxlZCBieSBleHRlcm5hbCBwcm92aWRlcnMuIEN1cnJlbnRseSBPQlAgc3VwcG9ydHMgdG9rYm94IHZpZGVvIGNvbmZlcmVuY2VzIChXSVApLiZsdDsvcCZndDsmbHQ7cCZndDtUaGlzIGlzIG5vdCBhIHJlY29tZW5kYXRpb24gb2YgdG9rYm94IHBlciBzZS4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7cHJvdmlkZXJfaWQgZGV0ZXJtaW5lcyB0aGUgcHJvdmlkZXIgb2YgdGhlIG1lZXRpbmcgLyB2aWRlbyBjaGF0IHNlcnZpY2UuIE1VU1QgYmUgdXJsIGZyaWVuZGx5IChubyBzcGFjZXMpLiZsdDsvcCZndDsmbHQ7cCZndDtwdXJwb3NlX2lkIGV4cGxhaW5zIHRoZSBwdXJwb3NlIG9mIHRoZSBjaGF0LiBvbmJvYXJkaW5nIHwgbW9ydGdhZ2UgfCBjb21wbGFpbnQgZXRjLiBNVVNUIGJlIHVybCBmcmllbmRseSAobm8gc3BhY2VzKS4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7TG9naW4gaXMgcmVxdWlyZWQuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoaXMgY2FsbCBpcyAmbHQ7c3Ryb25nJmd0O2V4cGVyaW1lbnRhbCZsdDsvc3Ryb25nJmd0Oy4gQ3VycmVudGx5IHN0YWZmX3VzZXJfaWQgaXMgbm90IHNldC4gRnVydGhlciBjYWxscyB3aWxsIGJlIG5lZWRlZCB0byBjb3JyZWN0bHkgc2V0IHRoaXMuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBDcmVhdGVNZWV0aW5nV2l0aEh0dHBJbmZvKGJvZHk6IENyZWF0ZU1lZXRpbmdKc29uLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L21lZXRpbmdzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMENyZWF0ZU1lZXRpbmcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBDcmVhdGVNZWV0aW5nLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFVzZXIuXG4gICAgICogJmx0O3AmZ3Q7Q3JlYXRlcyBPQlAgdXNlci4gIE5vIGF1dGhvcmlzYXRpb24gKGN1cnJlbnRseSkgcmVxdWlyZWQuJmx0Oy9wJmd0OyZsdDtwJmd0O01pbWljcyBjdXJyZW50IHdlYmZvcm0gdG8gUmVnaXN0ZXIuJmx0Oy9wJmd0OyZsdDtwJmd0O1JlcXVpcmVzIHVzZXJuYW1lKGVtYWlsKSBhbmQgcGFzc3dvcmQuJmx0Oy9wJmd0OyZsdDtwJmd0O1JldHVybnMgNDA5IGVycm9yIGlmIHVzZXJuYW1lIG5vdCB1bmlxdWUuJmx0Oy9wJmd0OyZsdDtwJmd0O01heSByZXF1aXJlIHZhbGlkYXRpb24gb2YgZW1haWwgYWRkcmVzcy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBDcmVhdGVVc2VyV2l0aEh0dHBJbmZvKGJvZHk6IENyZWF0ZVVzZXJKc29uLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvdXNlcnMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMENyZWF0ZVVzZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgVXNlciBDdXN0b21lciBMaW5rLlxuICAgICAqICZsdDtwJmd0O0xpbmsgYSBVc2VyIHRvIGEgQ3VzdG9tZXImbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0OyZsdDtwJmd0O0NhbkNyZWF0ZVVzZXJDdXN0b21lckxpbmsgT1IgQ2FuQ3JlYXRlVXNlckN1c3RvbWVyTGlua0F0QW55QmFuayBlbnRpdGxlbWVudHMgYXJlIHJlcXVpcmVkLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwQ3JlYXRlVXNlckN1c3RvbWVyTGlua3NXaXRoSHR0cEluZm8oYm9keTogQ3JlYXRlVXNlckN1c3RvbWVyTGlua0pzb24sIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vdXNlcl9jdXN0b21lcl9saW5rcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBDcmVhdGVVc2VyQ3VzdG9tZXJMaW5rcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMENyZWF0ZVVzZXJDdXN0b21lckxpbmtzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlIEVudGl0bGVtZW50XG4gICAgICogJmx0O3AmZ3Q7RGVsZXRlIEVudGl0bGVtZW50IHNwZWNpZmllZCBieSBFTlRJVExFTUVOVF9JRCBmb3IgYW4gdXNlciBzcGVjaWZpZWQgYnkgVVNFUl9JRCZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gYmUgYSBTdXBlciBBZG1pbi4gU3VwZXIgQWRtaW5zIGFyZSBsaXN0ZWQgaW4gdGhlIFByb3BzIGZpbGUuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBFTlRJVExFTUVOVF9JRCBUaGUgZW50aXRibGVtZW50IGlkXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMERlbGV0ZUVudGl0bGVtZW50V2l0aEh0dHBJbmZvKEVOVElUTEVNRU5UX0lEOiBzdHJpbmcsIFVTRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL3VzZXJzLyR7VVNFUl9JRH0vZW50aXRsZW1lbnQvJHtFTlRJVExFTUVOVF9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnRU5USVRMRU1FTlRfSUQnICsgJ30nLCBTdHJpbmcoRU5USVRMRU1FTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1VTRVJfSUQnICsgJ30nLCBTdHJpbmcoVVNFUl9JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdFTlRJVExFTUVOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChFTlRJVExFTUVOVF9JRCA9PT0gbnVsbCB8fCBFTlRJVExFTUVOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBFTlRJVExFTUVOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBEZWxldGVFbnRpdGxlbWVudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdVU0VSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFVTRVJfSUQgPT09IG51bGwgfHwgVVNFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBVU0VSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMERlbGV0ZUVudGl0bGVtZW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5EZWxldGUsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgRW50aXRsZW1lbnRzXG4gICAgICogJmx0O3AmZ3Q7TG9naW4gaXMgcmVxdWlyZWQuJmx0Oy9wJmd0O1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0QWxsRW50aXRsZW1lbnRzV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9lbnRpdGxlbWVudHMnO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVXNlciAoQ3VycmVudClcbiAgICAgKiAmbHQ7cCZndDtHZXQgdGhlIGxvZ2dlZCBpbiB1c2VyJmx0Oy9wJmd0OyZsdDtwJmd0O0xvZ2luIGlzIHJlcXVpcmVkLiZsdDsvcCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldEN1cnJlbnRVc2VyV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy91c2Vycy9jdXJyZW50JztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEVudGl0bGVtZW50cyBzcGVjaWZpZWQgYnkgVVNFUl9JRFxuICAgICAqICZsdDtwJmd0O0xvZ2luIGlzIHJlcXVpcmVkLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVVNFUl9JRCBUaGUgdXNlciBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0RW50aXRsZW1lbnRzV2l0aEh0dHBJbmZvKFVTRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL3VzZXJzLyR7VVNFUl9JRH0vZW50aXRsZW1lbnRzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1VTRVJfSUQnICsgJ30nLCBTdHJpbmcoVVNFUl9JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdVU0VSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFVTRVJfSUQgPT09IG51bGwgfHwgVVNFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBVU0VSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldEVudGl0bGVtZW50cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgS1lDIENoZWNrcyBmb3IgY3VycmVudCBDdXN0b21lclxuICAgICAqICZsdDtwJmd0O0dldCBLWUMgY2hlY2tzIGZvciB0aGUgbG9nZ2VkIGluIGN1c3RvbWVyIE1lc3NhZ2VzIHNlbnQgdG8gdGhlIGN1cnJlbnRseSBhdXRoZW50aWNhdGVkIHVzZXIuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRLeWNDaGVja3NXaXRoSHR0cEluZm8oQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2N1c3RvbWVycy8ke0NVU1RPTUVSX0lEfS9reWNfY2hlY2tzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0NVU1RPTUVSX0lEJyArICd9JywgU3RyaW5nKENVU1RPTUVSX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldEt5Y0NoZWNrcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgS1lDIERvY3VtZW50cyBmb3IgQ3VzdG9tZXJcbiAgICAgKiAmbHQ7cCZndDtHZXQgS1lDIChrbm93IHlvdXIgY3VzdG9tZXIpIGRvY3VtZW50cyBmb3IgYSBjdXN0b21lciBHZXQgYSBsaXN0IG9mIGRvY3VtZW50cyB0aGF0IGFmZmlybSB0aGUgaWRlbnRpdHkgb2YgdGhlIGN1c3RvbWVyIFBhc3Nwb3J0LCBkcml2aW5nIGxpY2VuY2UgZXRjLiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMDBHZXRLeWNEb2N1bWVudHNXaXRoSHR0cEluZm8oQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2N1c3RvbWVycy8ke0NVU1RPTUVSX0lEfS9reWNfZG9jdW1lbnRzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0NVU1RPTUVSX0lEJyArICd9JywgU3RyaW5nKENVU1RPTUVSX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldEt5Y0RvY3VtZW50cy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgS1lDIE1lZGlhIGZvciBhIGN1c3RvbWVyXG4gICAgICogJmx0O3AmZ3Q7R2V0IEtZQyBtZWRpYSAoc2NhbnMsIHBpY3R1cmVzLCB2aWRlb3MpIHRoYXQgYWZmaXJtcyB0aGUgaWRlbnRpdHkgb2YgdGhlIGN1c3RvbWVyLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIENVU1RPTUVSX0lEIFRoZSBjdXN0b21lciBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0S3ljTWVkaWFXaXRoSHR0cEluZm8oQ1VTVE9NRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2N1c3RvbWVycy8ke0NVU1RPTUVSX0lEfS9reWNfbWVkaWEnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQ1VTVE9NRVJfSUQnICsgJ30nLCBTdHJpbmcoQ1VTVE9NRVJfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQ1VTVE9NRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQ1VTVE9NRVJfSUQgPT09IG51bGwgfHwgQ1VTVE9NRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQ1VTVE9NRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0S3ljTWVkaWEuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBLWUMgc3RhdHVzZXMgZm9yIGEgY3VzdG9tZXJcbiAgICAgKiAmbHQ7cCZndDtHZXQgdGhlIEtZQyBzdGF0dXNlcyBmb3IgYSBjdXN0b21lciBvdmVyIHRpbWUmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBDVVNUT01FUl9JRCBUaGUgY3VzdG9tZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldEt5Y1N0YXR1c2VzV2l0aEh0dHBJbmZvKENVU1RPTUVSX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9jdXN0b21lcnMvJHtDVVNUT01FUl9JRH0va3ljX3N0YXR1c2VzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0NVU1RPTUVSX0lEJyArICd9JywgU3RyaW5nKENVU1RPTUVSX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldEt5Y1N0YXR1c2VzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBNZWV0aW5nXG4gICAgICogJmx0O3AmZ3Q7R2V0IE1lZXRpbmcgc3BlY2lmaWVkIGJ5IEJBTktfSUQgLyBNRUVUSU5HX0lEIE1lZXRpbmdzIGNvbnRhaW4gbWV0YSBkYXRhIGFib3V0LCBhbmQgYXJlIHVzZWQgdG8gZmFjaWxpdGF0ZSwgdmlkZW8gY29uZmVyZW5jZXMgLyBjaGF0cyBldGMuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBhY3R1YWwgY29uZmVyZW5jZS9jaGF0cyBhcmUgaGFuZGxlZCBieSBleHRlcm5hbCBzZXJ2aWNlcy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7TG9naW4gaXMgcmVxdWlyZWQuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoaXMgY2FsbCBpcyAmbHQ7c3Ryb25nJmd0O2V4cGVyaW1lbnRhbCZsdDsvc3Ryb25nJmd0OyBhbmQgd2lsbCByZXF1aXJlIGZ1cnRoZXIgYXV0aG9yaXNhdGlvbiBpbiB0aGUgZnV0dXJlLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0TWVldGluZ1dpdGhIdHRwSW5mbyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L21lZXRpbmdzL01FRVRJTkdfSUQnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0TWVldGluZy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgTWVldGluZ3NcbiAgICAgKiAmbHQ7cCZndDtNZWV0aW5ncyBjb250YWluIG1ldGEgZGF0YSBhYm91dCwgYW5kIGFyZSB1c2VkIHRvIGZhY2lsaXRhdGUsIHZpZGVvIGNvbmZlcmVuY2VzIC8gY2hhdHMgZXRjLiZsdDsvcCZndDsmbHQ7cCZndDtUaGUgYWN0dWFsIGNvbmZlcmVuY2UvY2hhdHMgYXJlIGhhbmRsZWQgYnkgZXh0ZXJuYWwgc2VydmljZXMuJmx0Oy9wJmd0OyZsdDtwJmd0O0xvZ2luIGlzIHJlcXVpcmVkLiZsdDsvcCZndDsmbHQ7cCZndDtUaGlzIGNhbGwgaXMgJmx0O3N0cm9uZyZndDtleHBlcmltZW50YWwmbHQ7L3N0cm9uZyZndDsgYW5kIHdpbGwgcmVxdWlyZSBmdXJ0aGVyIGF1dGhvcmlzYXRpb24gaW4gdGhlIGZ1dHVyZS4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldE1lZXRpbmdzV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vbWVldGluZ3MnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0TWVldGluZ3MuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFjY2VzcyBmb3Igc3BlY2lmaWMgdXNlci5cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRoZSBsaXN0IG9mIHRoZSB2aWV3cyBhdCBCQU5LX0lEIGZvciBhY2NvdW50IEFDQ09VTlRfSUQgdGhhdCBhIFVTRVJfSUQgYXQgdGhlaXIgcHJvdmlkZXIgUFJPVklERVJfSUQgaGFzIGFjY2VzcyB0by4gQWxsIHVybCBwYXJhbWV0ZXJzIG11c3QgYmUgJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7aHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QZXJjZW50LWVuY29kaW5nXFwmcXVvdDsmZ3Q7JS1lbmNvZGVkJmx0Oy9hJmd0Oywgd2hpY2ggaXMgb2Z0ZW4gZXNwZWNpYWxseSByZWxldmFudCBmb3IgVVNFUl9JRCBhbmQgUFJPVklERVJfSUQuJmx0Oy9wJmd0OyZsdDtwJmd0O09BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGFuZCB0aGUgdXNlciBuZWVkcyB0byBoYXZlIGFjY2VzcyB0byB0aGUgb3duZXIgdmlldy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFBST1ZJREVSX0lEIFRoZSBwcm92aWRlciBpZFxuICAgICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0UGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhQUk9WSURFUl9JRDogc3RyaW5nLCBVU0VSX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9L3Blcm1pc3Npb25zLyR7UFJPVklERVJfSUR9LyR7VVNFUl9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnUFJPVklERVJfSUQnICsgJ30nLCBTdHJpbmcoUFJPVklERVJfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1VTRVJfSUQnICsgJ30nLCBTdHJpbmcoVVNFUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnUFJPVklERVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoUFJPVklERVJfSUQgPT09IG51bGwgfHwgUFJPVklERVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgUFJPVklERVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0UGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdVU0VSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFVTRVJfSUQgPT09IG51bGwgfHwgVVNFUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBVU0VSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldFBlcm1pc3Npb25Gb3JVc2VyRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBHZXRQZXJtaXNzaW9uRm9yVXNlckZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0UGVybWlzc2lvbkZvclVzZXJGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWNjZXNzLlxuICAgICAqICZsdDtwJmd0O1JldHVybnMgdGhlIGxpc3Qgb2YgdGhlIHBlcm1pc3Npb25zIGF0IEJBTktfSUQgZm9yIGFjY291bnQgQUNDT1VOVF9JRCwgd2l0aCBlYWNoIHRpbWUgYSBwYWlyIGNvbXBvc2VkIG9mIHRoZSB1c2VyIGFuZCB0aGUgdmlld3MgdGhhdCBoZSBoYXMgYWNjZXNzIHRvLiZsdDsvcCZndDsmbHQ7cCZndDtPQXV0aCBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIG93bmVyIHZpZXcuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldFBlcm1pc3Npb25zRm9yQmFua0FjY291bnRXaXRoSHR0cEluZm8oQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vcGVybWlzc2lvbnMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBHZXRQZXJtaXNzaW9uc0ZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwR2V0UGVybWlzc2lvbnNGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgc29jaWFsIG1lZGlhIGhhbmRsZXMgZm9yIGEgY3VzdG9tZXJcbiAgICAgKiAmbHQ7cCZndDtHZXQgc29jaWFsIG1lZGlhIGhhbmRsZXMgZm9yIGEgY3VzdG9tZXIuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQ1VTVE9NRVJfSUQgVGhlIGN1c3RvbWVyIGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMEdldFNvY2lhbE1lZGlhSGFuZGxlc1dpdGhIdHRwSW5mbyhDVVNUT01FUl9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2N1c3RvbWVycy8ke0NVU1RPTUVSX0lEfS9zb2NpYWxfbWVkaWFfaGFuZGxlcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdDVVNUT01FUl9JRCcgKyAnfScsIFN0cmluZyhDVVNUT01FUl9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NVU1RPTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKENVU1RPTUVSX0lEID09PSBudWxsIHx8IENVU1RPTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIENVU1RPTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldFNvY2lhbE1lZGlhSGFuZGxlcy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldFNvY2lhbE1lZGlhSGFuZGxlcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVHJhbnNhY3Rpb24gVHlwZXMgb2ZmZXJlZCBieSB0aGUgYmFua1xuICAgICAqICZsdDtwJmd0O0dldCBUcmFuc2FjdGlvbiBUeXBlcyBmb3IgdGhlIGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQ6Jmx0Oy9wJmd0OyZsdDtwJmd0O0xpc3RzIHRoZSBwb3NzaWJsZSBUcmFuc2FjdGlvbiBUeXBlcyBhdmFpbGFibGUgYXQgdGhlIGJhbmsgKGFzIG9wcG9zZWQgdG8gVHJhbnNhY3Rpb24gUmVxdWVzdCBUeXBlcyB3aGljaCBhcmUgdGhlIHBvc3NpYmxlIHdheXMgVHJhbnNhY3Rpb25zIGNhbiBiZSBjcmVhdGVkIGJ5IHRoaXMgQVBJIFNlcnZlcikuJmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtpZCA6IFVuaXF1ZSB0cmFuc2FjdGlvbiB0eXBlIGlkIGFjcm9zcyB0aGUgQVBJIGluc3RhbmNlLiBTSE9VTEQgYmUgYSBVVUlELiBNVVNUIGJlIHVuaXF1ZS4mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O2JhbmtfaWQgOiBUaGUgYmFuayB0aGF0IHN1cHBvcnRzIHRoaXMgVHJhbnNhY3Rpb25UeXBlJmx0Oy9saSZndDsgICZsdDtsaSZndDtzaG9ydF9jb2RlIDogQSBzaG9ydCBjb2RlIChTSE9VTEQgaGF2ZSBuby1zcGFjZXMpIHdoaWNoIE1VU1QgYmUgdW5pcXVlIGFjcm9zcyB0aGUgYmFuay4gTWF5IGJlIHN0b3JlZCB3aXRoIFRyYW5zYWN0aW9ucyB0byBsaW5rIGhlcmUmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O3N1bW1hcnkgOiBBIHN1Y2NpbmN0IHN1bW1hcnkmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O2Rlc2NyaXB0aW9uIDogQSBsb25nZXIgZGVzY3JpcHRpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O2NoYXJnZSA6IFRoZSBjaGFyZ2UgdG8gdGhlIGN1c3RvbWVyIGZvciBlYWNoIG9uZSBvZiB0aGVzZSZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwR2V0VHJhbnNhY3Rpb25UeXBlc1dpdGhIdHRwSW5mbyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L3RyYW5zYWN0aW9uLXR5cGVzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIwMEdldFRyYW5zYWN0aW9uVHlwZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHByaXZhdGUgYWNjb3VudHMgYXQgb25lIGJhbmsgKEF1dGhlbnRpY2F0ZWQgYWNjZXNzKS5cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRoZSBsaXN0IG9mIHByaXZhdGUgKG5vbi1wdWJsaWMpIGFjY291bnRzIGF0IEJBTktfSUQgdGhhdCB0aGUgdXNlciBoYXMgYWNjZXNzIHRvLiBGb3IgZWFjaCBhY2NvdW50IHRoZSBBUEkgcmV0dXJucyB0aGUgSUQgYW5kIHRoZSBhdmFpbGFibGUgdmlld3MuJmx0Oy9wJmd0OyZsdDtwJmd0O0lmIHlvdSB3YW50IHRvIHNlZSBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZSBWaWV3cywgdXNlIHRoZSBBY2NvdW50IERldGFpbCBjYWxsLiBJZiB5b3Ugd2FudCBsZXNzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBhY2NvdW50LCB1c2UgdGhlIC9teSBhY2NvdW50cyBjYWxsJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwUHJpdmF0ZUFjY291bnRzQXRPbmVCYW5rV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvcHJpdmF0ZSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMDBQcml2YXRlQWNjb3VudHNBdE9uZUJhbmsuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFB1YmxpYyBBY2NvdW50cyBhdCBhbGwgQmFua3MuXG4gICAgICogJmx0O3AmZ3Q7R2V0IHB1YmxpYyBhY2NvdW50cyBhdCBhbGwgYmFua3MgKEFub255bW91cyBhY2Nlc3MpLiBSZXR1cm5zIGFjY291bnRzIHRoYXQgY29udGFpbiBhdCBsZWFzdCBvbmUgcHVibGljIHZpZXcgKGEgdmlldyB3aGVyZSBpc19wdWJsaWMgaXMgdHJ1ZSkgRm9yIGVhY2ggYWNjb3VudCB0aGUgQVBJIHJldHVybnMgdGhlIElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvcCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIwMFB1YmxpY0FjY291bnRzQWxsQmFua3NXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2FjY291bnRzL3B1YmxpYyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBBY2NvdW50cyBhdCBCYW5rIChQdWJsaWMpXG4gICAgICogJmx0O3AmZ3Q7UmV0dXJucyBhIGxpc3Qgb2YgdGhlIHB1YmxpYyBhY2NvdW50cyAoQW5vbnltb3VzIGFjY2VzcykgYXQgQkFOS19JRC4gRm9yIGVhY2ggYWNjb3VudCB0aGUgQVBJIHJldHVybnMgdGhlIElEIGFuZCB0aGUgYXZhaWxhYmxlIHZpZXdzLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiB2aWEgT0F1dGggaXMgbm90IHJlcXVpcmVkLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjAwUHVibGljQWNjb3VudHNBdE9uZUJhbmtXaXRoSHR0cEluZm8oQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy9wdWJsaWMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjAwUHVibGljQWNjb3VudHNBdE9uZUJhbmsuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L3RzbGludC1sb2FkZXIhLi9zcmMvYXBpL2Z1bmMyMDAuc2VydmljZS50cyIsIi8qKlxuICogT3BlbiBCYW5rIFByb2plY3QgQVBJXG4gKiBBbiBPcGVuIFNvdXJjZSBBUEkgZm9yIEJhbmtzLiAoYykgVEVTT0JFIEx0ZC4gMjAxMSAtIDIwMTYuIExpY2Vuc2VkIHVuZGVyIHRoZVxuICogQUdQTCBhbmQgY29tbWVyY2lhbCBsaWNlbmNlcy5cbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogdjMuMC4wXG4gKiBDb250YWN0OiBjb250YWN0QHRlc29iZS5jb21cbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuaW1wb3J0ICcuLi9yeGpzLW9wZXJhdG9ycyc7XG5cbmltcG9ydCB7SW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0hlYWRlcnMsIEh0dHAsIFVSTFNlYXJjaFBhcmFtc30gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQge1JlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3N9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHtSZXNwb25zZSwgUmVzcG9uc2VDb250ZW50VHlwZX0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5cbmltcG9ydCB7Q29uZmlndXJhdGlvbn0gZnJvbSAnLi4vY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0F2YWlsYWJsZVJvbGVzSlNPTn0gZnJvbSAnLi4vbW9kZWwvYXZhaWxhYmxlUm9sZXNKU09OJztcbmltcG9ydCB7QnJhbmNoSnNvbn0gZnJvbSAnLi4vbW9kZWwvYnJhbmNoSnNvbic7XG5pbXBvcnQge0JyYW5jaEpzb25QdXRWMjEwfSBmcm9tICcuLi9tb2RlbC9icmFuY2hKc29uUHV0VjIxMCc7XG5pbXBvcnQge0NvbnN1bWVySlNPTn0gZnJvbSAnLi4vbW9kZWwvY29uc3VtZXJKU09OJztcbmltcG9ydCB7Q29uc3VtZXJSZWRpcmVjdFVybEpTT059IGZyb20gJy4uL21vZGVsL2NvbnN1bWVyUmVkaXJlY3RVcmxKU09OJztcbmltcG9ydCB7Q29uc3VtZXJzSnNvbn0gZnJvbSAnLi4vbW9kZWwvY29uc3VtZXJzSnNvbic7XG5pbXBvcnQge0NvdW50ZXJwYXJ0eUpzb25WMjIwfSBmcm9tICcuLi9tb2RlbC9jb3VudGVycGFydHlKc29uVjIyMCc7XG5pbXBvcnQge0N1c3RvbWVySnNvblYyMTB9IGZyb20gJy4uL21vZGVsL2N1c3RvbWVySnNvblYyMTAnO1xuaW1wb3J0IHtFbnRpdGxlbWVudEpTT05zfSBmcm9tICcuLi9tb2RlbC9lbnRpdGxlbWVudEpTT05zJztcbmltcG9ydCB7RXJyb3JVc2VyTm90TG9nZ2VkSW59IGZyb20gJy4uL21vZGVsL2Vycm9yVXNlck5vdExvZ2dlZEluJztcbmltcG9ydCB7TWV0cmljc0pzb259IGZyb20gJy4uL21vZGVsL21ldHJpY3NKc29uJztcbmltcG9ydCB7UGh5c2ljYWxDYXJkSlNPTn0gZnJvbSAnLi4vbW9kZWwvcGh5c2ljYWxDYXJkSlNPTic7XG5pbXBvcnQge1Bvc3RDb3VudGVycGFydHlKU09OfSBmcm9tICcuLi9tb2RlbC9wb3N0Q291bnRlcnBhcnR5SlNPTic7XG5pbXBvcnQge1Bvc3RDdXN0b21lckpzb25WMjEwfSBmcm9tICcuLi9tb2RlbC9wb3N0Q3VzdG9tZXJKc29uVjIxMCc7XG5pbXBvcnQge1Bvc3RQaHlzaWNhbENhcmRKU09OfSBmcm9tICcuLi9tb2RlbC9wb3N0UGh5c2ljYWxDYXJkSlNPTic7XG5pbXBvcnQge1Byb2R1Y3RKc29uVjIxMH0gZnJvbSAnLi4vbW9kZWwvcHJvZHVjdEpzb25WMjEwJztcbmltcG9ydCB7UHJvZHVjdHNKc29uVjIxMH0gZnJvbSAnLi4vbW9kZWwvcHJvZHVjdHNKc29uVjIxMCc7XG5pbXBvcnQge1B1dEVuYWJsZWRKU09OfSBmcm9tICcuLi9tb2RlbC9wdXRFbmFibGVkSlNPTic7XG5pbXBvcnQge1N1Y2Nlc3NNZXNzYWdlfSBmcm9tICcuLi9tb2RlbC9zdWNjZXNzTWVzc2FnZSc7XG5pbXBvcnQge1RyYW5zYWN0aW9uUmVxdWVzdFR5cGVzSlNPTn0gZnJvbSAnLi4vbW9kZWwvdHJhbnNhY3Rpb25SZXF1ZXN0VHlwZXNKU09OJztcbmltcG9ydCB7VHJhbnNhY3Rpb25SZXF1ZXN0V2l0aENoYXJnZUpTT05zMjEwfSBmcm9tICcuLi9tb2RlbC90cmFuc2FjdGlvblJlcXVlc3RXaXRoQ2hhcmdlSlNPTnMyMTAnO1xuaW1wb3J0IHtUcmFuc2FjdGlvblR5cGV9IGZyb20gJy4uL21vZGVsL3RyYW5zYWN0aW9uVHlwZSc7XG5pbXBvcnQge1RyYW5zYWN0aW9uVHlwZUpzb25WMjAwfSBmcm9tICcuLi9tb2RlbC90cmFuc2FjdGlvblR5cGVKc29uVjIwMCc7XG5pbXBvcnQge1VzZXJzSlNPTlYyMDB9IGZyb20gJy4uL21vZGVsL3VzZXJzSlNPTlYyMDAnO1xuaW1wb3J0IHtCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUU30gZnJvbSAnLi4vdmFyaWFibGVzJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRnVuY18yXzFfMFNlcnZpY2Uge1xuICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cDovL2FwYy5vcGVuYmFua3Byb2plY3QuY29tL29icC92My4wLjAnO1xuICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICBwdWJsaWMgY29uZmlndXJhdGlvbjogQ29uZmlndXJhdGlvbiA9IG5ldyBDb25maWd1cmF0aW9uKCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBwcm90ZWN0ZWQgaHR0cDogSHR0cCwgQE9wdGlvbmFsKCkgQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsXG4gICAgICBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgaWYgKGJhc2VQYXRoKSB7XG4gICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgfVxuICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICpcbiAgICogRXh0ZW5kcyBvYmplY3QgYnkgY29waW5nIG5vbi1leGlzdGluZyBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gb2JqQSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAgICogQHBhcmFtIG9iakIgc291cmNlIG9iamVjdFxuICAgKi9cbiAgcHJpdmF0ZSBleHRlbmRPYmo8VDEsIFQyPihvYmpBOiBUMSwgb2JqQjogVDIpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqQikge1xuICAgICAgaWYgKG9iakIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAob2JqQSBhcyBhbnkpW2tleV0gPSAob2JqQiBhcyBhbnkpW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiA8VDEmVDI+b2JqQTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgKiBAcmV0dXJuIHRydWU6IGNvbnN1bWVzIGNvbnRhaW5zICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgZmFsc2U6IG90aGVyd2lzZVxuICAgKi9cbiAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgIGZvciAobGV0IGNvbnN1bWUgb2YgY29uc3VtZXMpIHtcbiAgICAgIGlmIChmb3JtID09PSBjb25zdW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogPHA+SW1wb3J0IGJ1bGsgZGF0YSBpbnRvIHRoZSBzYW5kYm94IChBdXRoZW50aWNhdGVkIGFjY2VzcykuPC9wPjxwPlRoaXMgaXNcbiAgICogY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGNhcmRzIHdoaWNoIGFyZSBzdG9yZWQgaW4gdGhlIGxvY2FsIFJEQk1TLlxuICAgKiBBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAqIEBzdW1tYXJ5IEFkZCBjYXJkcyBmb3IgYSBiYW5rXG4gICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBBZGRDYXJkc0ZvckJhbmsoXG4gICAgICBib2R5OiBQb3N0UGh5c2ljYWxDYXJkSlNPTiwgQkFOS19JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UGh5c2ljYWxDYXJkSlNPTj4ge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAgIC5mdW5jMjEwQWRkQ2FyZHNGb3JCYW5rV2l0aEh0dHBJbmZvKFxuICAgICAgICAgICAgYm9keSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogPHA+Q3JlYXRlIGNvdW50ZXJwYXJ0eS48L3A+PHA+Q291bnRlcnBhcnRpZXMgYXJlIGNyZWF0ZWQgZm9yIHRoZSBhY2NvdW50IC9cbiAgICogdmlldyBUaGV5IGFyZSBob3cgdGhlIHVzZXIgb2YgdGhlIHZpZXcgKGUuZy4gYWNjb3VudCBvd25lcikgcmVmZXJzIHRvIHRoZVxuICAgKiBvdGhlciBzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbjwvcD48cD5uYW1lIGlzIHRoZSBodW1hbiByZWFkYWJsZSBuYW1lIChlLmcuXG4gICAqIFBpYW5vIHRlYWNoZXIsIE1pc3MgTmlwYSk8L3A+PHA+b3RoZXJfYmFua19pZCBpcyBhbiAoaW50ZXJuYWwpIElEIGZvciB0aGVcbiAgICogYmFuayBvZiB0aGUgYmFuayBvZiB0aGUgY291bnRlcnBhcnR5IChpZiBrbm93bik8L3A+PHA+b3RoZXJfYWNjb3VudF9pZCBpc1xuICAgKiBhbiAoaW50ZXJuYWwpIElEIGZvciB0aGUgYmFuayBhY2NvdW50IG9mIHRoZSBjb3VudGVycGFydHkgKGlmXG4gICAqIGtub3duKTwvcD48cD5vdGhlcl9hY2NvdW50X3Byb3ZpZGVyIGlzIGEgY29kZSB0aGF0IHRlbGxzIHRoZSBzeXN0ZW0gd2hlcmVcbiAgICogdGhhdCBiYW5rIGlzIGhvc3RlZC4gV2lsbCBiZSBPQlAgaWYgaXRzIGtub3duIHRvIHRoZSBBUEkuIFVzYWdlIG9mIHRoaXNcbiAgICogZmxhZyAoaW4gQVBJIC8gY29ubmVjdG9ycykgaXMgd29yayBpblxuICAgKiBwcm9ncmVzcy48L3A+PHA+YWNjb3VudF9yb3V0aW5nX3NjaGVtZSBpcyBhIGNvZGUgdGhhdCBkaWN0YXRlcyB0aGUgbmF0dXJlXG4gICAqIG9mIHRoZSBhY2NvdW50X3JvdXRpbmdfYWRkcmVzcyBlLmcuIElCQU48L3A+PHA+YWNjb3VudF9yb3V0aW5nX2FkZHJlc3MgaXNcbiAgICogYW4gaW5zdGFuY2Ugb2YgYWNjb3VudF9yb3V0aW5nX3NjaGVtZSB0aGF0IGNhbiBiZSB1c2VkIHRvIHJvdXRlIHBheW1lbnRzIHRvXG4gICAqIGV4dGVybmFsIHN5c3RlbXMuIGUuZy4gYW4gSUJBTiBudW1iZXI8L3A+PHA+YmFua19yb3V0aW5nX3NjaGVtZSBpcyBhIGNvZGVcbiAgICogdGhhdCBkaWN0YXRlcyB0aGUgbmF0dXJlIG9mIHRoZSBiYW5rX3JvdXRpbmdfYWRkcmVzcyBlLmcuXG4gICAqIFxcXCJCSUNcXFwiLDwvcD48cD5iYW5rX3JvdXRpbmdfYWRkcmVzcyBpcyBhbiBpbnN0YW5jZSBvZlxuICAgKiBiYW5rX3JvdXRpbmdfc2NoZW1lPC9wPjxwPmlzX2JlbmVmaWNpYXJ5IG11c3QgYmUgc2V0IHRvIHRydWUgaW4gb3JkZXIgdG9cbiAgICogc2VuZCBwYXltZW50cyB0byB0aGlzIGNvdW50ZXJwYXJ0eTwvcD48cD5UaGUgdmlldyBzcGVjaWZpZWQgYnkgVklFV19JRCBtdXN0XG4gICAqIGhhdmUgdGhlIGNhbkFkZENvdW50ZXJwYXJ0eSBwZXJtaXNzaW9uPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzXG4gICAqIE1hbmRhdG9yeTwvcD5cbiAgICogQHN1bW1hcnkgQ3JlYXRlIGNvdW50ZXJwYXJ0eSBmb3IgYW4gYWNjb3VudFxuICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwQ3JlYXRlQ291bnRlcnBhcnR5KFxuICAgICAgYm9keTogUG9zdENvdW50ZXJwYXJ0eUpTT04sIFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLFxuICAgICAgQkFOS19JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q291bnRlcnBhcnR5SnNvblYyMjA+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAuZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eVdpdGhIdHRwSW5mbyhcbiAgICAgICAgICAgIGJvZHksIFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkFkZCBhIGN1c3RvbWVyIGxpbmtlZCB0byB0aGUgdXNlciBzcGVjaWZpZWQgYnkgdXNlcl9pZCBUaGUgQ3VzdG9tZXJcbiAgICogcmVzb3VyY2Ugc3RvcmVzIHRoZSBjdXN0b21lciBudW1iZXIsIGxlZ2FsIG5hbWUsIGVtYWlsLCBwaG9uZSBudW1iZXIsIHRoZWlyXG4gICAqIGRhdGUgb2YgYmlydGgsIHJlbGF0aW9uc2hpcCBzdGF0dXMsIGVkdWNhdGlvbiBhdHRhaW5lZCwgYSB1cmwgZm9yIGEgcHJvZmlsZVxuICAgKiBpbWFnZSwgS1lDIHN0YXR1cyBldGMuIERhdGVzIG5lZWQgdG8gYmUgaW4gdGhlIGZvcm1hdFxuICAgKiAyMDEzLTAxLTIxVDIzOjA4OjAwWjwvcD48cD5BdXRoZW50aWNhdGlvbiBpc1xuICAgKiBNYW5kYXRvcnk8L3A+PHA+Q2FuQ3JlYXRlQ3VzdG9tZXIgYW5kIENhbkNyZWF0ZVVzZXJDdXN0b21lckxpbmsgT1JcbiAgICogQ2FuQ3JlYXRlQ3VzdG9tZXJBdEFueUJhbmsgYW5kIENhbkNyZWF0ZVVzZXJDdXN0b21lckxpbmtBdEFueUJhbmtcbiAgICogZW50aXRsZW1lbnRzIHJlcXVpcmVkLjwvcD5cbiAgICogQHN1bW1hcnkgQ3JlYXRlIEN1c3RvbWVyLlxuICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwQ3JlYXRlQ3VzdG9tZXIoXG4gICAgICBib2R5OiBQb3N0Q3VzdG9tZXJKc29uVjIxMCwgQkFOS19JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q3VzdG9tZXJKc29uVjIxMD4ge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAgIC5mdW5jMjEwQ3JlYXRlQ3VzdG9tZXJXaXRoSHR0cEluZm8oXG4gICAgICAgICAgICBib2R5LCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5DcmVhdGUgVHJhbnNhY3Rpb24gVHlwZXMgZm9yIHRoZSBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEOjwvcD48dWw+XG4gICAqIDxsaT5pZCA6IFVuaXF1ZSB0cmFuc2FjdGlvbiB0eXBlIGlkIGFjcm9zcyB0aGUgQVBJIGluc3RhbmNlLiBTSE9VTEQgYmUgYVxuICAgKiBVVUlELiBNVVNUIGJlIHVuaXF1ZS48L2xpPiAgPGxpPmJhbmtfaWQgOiBUaGUgYmFuayB0aGF0IHN1cHBvcnRzIHRoaXNcbiAgICogVHJhbnNhY3Rpb25UeXBlPC9saT4gIDxsaT5zaG9ydF9jb2RlIDogQSBzaG9ydCBjb2RlIChTSE9VTEQgaGF2ZSBuby1zcGFjZXMpXG4gICAqIHdoaWNoIE1VU1QgYmUgdW5pcXVlIGFjcm9zcyB0aGUgYmFuay4gTWF5IGJlIHN0b3JlZCB3aXRoIFRyYW5zYWN0aW9ucyB0b1xuICAgKiBsaW5rIGhlcmU8L2xpPiAgPGxpPnN1bW1hcnkgOiBBIHN1Y2NpbmN0IHN1bW1hcnk8L2xpPiAgPGxpPmRlc2NyaXB0aW9uIDogQVxuICAgKiBsb25nZXIgZGVzY3JpcHRpb248L2xpPiAgPGxpPmNoYXJnZSA6IFRoZSBjaGFyZ2UgdG8gdGhlIGN1c3RvbWVyIGZvciBlYWNoXG4gICAqIG9uZSBvZiB0aGVzZTwvbGk+PC91bD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAqIEBzdW1tYXJ5IENyZWF0ZSBUcmFuc2FjdGlvbiBUeXBlIG9mZmVyZWQgYnkgdGhlIGJhbmtcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMENyZWF0ZVRyYW5zYWN0aW9uVHlwZShcbiAgICAgIGJvZHk6IFRyYW5zYWN0aW9uVHlwZUpzb25WMjAwLCBCQU5LX0lEOiBzdHJpbmcsXG4gICAgICBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxUcmFuc2FjdGlvblR5cGU+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAuZnVuYzIxMENyZWF0ZVRyYW5zYWN0aW9uVHlwZVdpdGhIdHRwSW5mbyhcbiAgICAgICAgICAgIGJvZHksIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkVuYWJsZS9EaXNhYmxlIGEgQ29uc3VtZXIgc3BlY2lmaWVkIGJ5IENPTlNVTUVSX0lELjwvcD5cbiAgICogQHN1bW1hcnkgRW5hYmxlIG9yIERpc2FibGUgQ29uc3VtZXJzXG4gICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgKiBAcGFyYW0gQ09OU1VNRVJfSUQgbmV3IGNvbnN1bWVyIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEVuYWJsZURpc2FibGVDb25zdW1lcnMoXG4gICAgICBib2R5OiBQdXRFbmFibGVkSlNPTiwgQ09OU1VNRVJfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFB1dEVuYWJsZWRKU09OPiB7XG4gICAgcmV0dXJuIHRoaXNcbiAgICAgICAgLmZ1bmMyMTBFbmFibGVEaXNhYmxlQ29uc3VtZXJzV2l0aEh0dHBJbmZvKFxuICAgICAgICAgICAgYm9keSwgQ09OU1VNRVJfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkdldCB0aGUgQ29uc3VtZXIgc3BlY2lmaWVkIGJ5IENPTlNVTUVSX0lELjwvcD5cbiAgICogQHN1bW1hcnkgR2V0IENvbnN1bWVyXG4gICAqIEBwYXJhbSBDT05TVU1FUl9JRCBuZXcgY29uc3VtZXIgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0Q29uc3VtZXIoQ09OU1VNRVJfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6XG4gICAgICBPYnNlcnZhYmxlPENvbnN1bWVySlNPTj4ge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAgIC5mdW5jMjEwR2V0Q29uc3VtZXJXaXRoSHR0cEluZm8oQ09OU1VNRVJfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkdldCB0aGUgYWxsIENvbnN1bWVycy48L3A+XG4gICAqIEBzdW1tYXJ5IEdldCBDb25zdW1lcnNcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0Q29uc3VtZXJzKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOlxuICAgICAgT2JzZXJ2YWJsZTxDb25zdW1lcnNKc29uPiB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYzIxMEdldENvbnN1bWVyc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5JbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudGx5IGF1dGhlbnRpY2F0ZWQgdXNlci48L3A+PHA+QXV0aGVudGljYXRpb25cbiAgICogdmlhIE9BdXRoIGlzIHJlcXVpcmVkLjwvcD5cbiAgICogQHN1bW1hcnkgR2V0IGN1c3RvbWVyIGZvciBsb2dnZWQgaW4gdXNlclxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRDdXN0b21lcihCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOlxuICAgICAgT2JzZXJ2YWJsZTxDdXN0b21lckpzb25WMjEwPiB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYzIxMEdldEN1c3RvbWVyV2l0aEh0dHBJbmZvKEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIDxwPkluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyLjwvcD48cD5BdXRoZW50aWNhdGlvblxuICAgKiB2aWEgT0F1dGggaXMgcmVxdWlyZWQuPC9wPlxuICAgKiBAc3VtbWFyeSBHZXQgYWxsIGN1c3RvbWVycyBmb3IgbG9nZ2VkIGluIHVzZXJcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0Q3VzdG9tZXJzKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOlxuICAgICAgT2JzZXJ2YWJsZTxNZXRyaWNzSnNvbj4ge1xuICAgIHJldHVybiB0aGlzLmZ1bmMyMTBHZXRDdXN0b21lcnNXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogPHA+TG9naW4gaXMgcmVxdWlyZWQuPC9wPlxuICAgKiBAc3VtbWFyeSBHZXQgRW50aXRsZW1lbnRzIHNwZWNpZmllZCBieSBCQU5LX0lEIGFuZCBVU0VSX0lEXG4gICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldEVudGl0bGVtZW50c0J5QmFua0FuZFVzZXIoXG4gICAgICBVU0VSX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEVudGl0bGVtZW50SlNPTnM+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAuZnVuYzIxMEdldEVudGl0bGVtZW50c0J5QmFua0FuZFVzZXJXaXRoSHR0cEluZm8oXG4gICAgICAgICAgICBVU0VSX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5HZXQgdGhlIGFsbCBtZXRyaWNzPC9wPjxwPnJlcXVpcmUgQ2FuUmVhZE1ldHJpY3Mgcm9sZTwvcD48cD5GaWx0ZXJzIFBhcnRcbiAgICogMS4qZmlsdGVyaW5nKiAobm8gd2lsZGUgY2FyZHMgZXRjLikgcGFyYW1ldGVycyB0byBHRVRcbiAgICogL21hbmFnZW1lbnQvbWV0cmljczwvcD48cD5TaG91bGQgYmUgYWJsZSB0byBmaWx0ZXIgb24gdGhlIGZvbGxvd2luZyBtZXRyaWNzXG4gICAqIGZpZWxkczwvcD48cD5lZzpcbiAgICogL21hbmFnZW1lbnQvbWV0cmljcz9zdGFydF9kYXRlPTIwMTctMDMtMDEmYW1wO2VuZF9kYXRlPTIwMTctMDMtMDQmYW1wO2xpbWl0PTUwJmFtcDtvZmZzZXQ9MjwvcD48cD4xXG4gICAqIHN0YXJ0X2RhdGUgKGRlZmF1bHRzIHRvIG9uZSB3ZWVrIGJlZm9yZSBjdXJyZW50IGRhdGUpOlxuICAgKiBlZzpzdGFydF9kYXRlPTIwMTctMDMtMDE8L3A+PHA+MiBlbmRfZGF0ZSAoZGVmYXVsdHMgdG8gY3VycmVudCBkYXRlKVxuICAgKiBlZzplbmRfZGF0ZT0yMDE3LTAzLTA1PC9wPjxwPjMgbGltaXQgKGZvciBwYWdpbmF0aW9uOiBkZWZhdWx0cyB0byAyMDApXG4gICAqIGVnOmxpbWl0PTIwMDwvcD48cD40IG9mZnNldCAoZm9yIHBhZ2luYXRpb246IHplcm8gaW5kZXgsIGRlZmF1bHRzIHRvIDApIGVnOlxuICAgKiBvZmZzZXQ9MTA8L3A+PHA+ZWc6XG4gICAqIC9tYW5hZ2VtZW50L21ldHJpY3M/c3RhcnRfZGF0ZT0yMDE2LTAzLTA1JmFtcDtlbmRfZGF0ZT0yMDE3LTAzLTA4JmFtcDtsaW1pdD0xMDAwMCZhbXA7b2Zmc2V0PTAmYW1wO2Fub249ZmFsc2UmYW1wO2FwcF9uYW1lPWhvZ253ZWkmYW1wO2ltcGxlbWVudGVkX2luX3ZlcnNpb249djIuMS4wJmFtcDt2ZXJiPVBPU1QmYW1wO3VzZXJfaWQ9YzdiNmNiNDctY2I5Ni00NDQxLTg4MDEtMzViNTc0NTY3NTNhJmFtcDt1c2VyX25hbWU9c3VzYW4udWsuMjlAZXhhbXBsZS5jb20mYW1wO2NvbnN1bWVyX2lkPTc4PC9wPjxwPk90aGVyXG4gICAqIGZpbHRlcnM6PC9wPjxwPjUgY29uc3VtZXJfaWQgKGlmIG51bGwgaWdub3JlKTwvcD48cD42IHVzZXJfaWQgKGlmIG51bGxcbiAgICogaWdub3JlKTwvcD48cD43IGFub24gKGlmIG51bGwgaWdub3JlKSBvbmx5IHN1cHBvcnQgdHdvIHZhbHVlIDogdHJ1ZSAocmV0dXJuXG4gICAqIHdoZXJlIHVzZXJfaWQgaXMgbnVsbC4pIG9yIGZhbHNlIChyZXR1cm4gd2hlcmUgdXNlcl9pZCBpcyBub3RcbiAgICogbnVsbC4pPC9wPjxwPjggdXJsIChpZiBudWxsIGlnbm9yZSksIG5vdGU6IGNhbiBub3QgY29udGFpbiAnJmFtcDsnLlxuICAgKiA8L3A+PHA+OSBhcHBfbmFtZSAoaWYgbnVsbCBpZ25vcmUpPC9wPjxwPjEwIGltcGxlbWVudGVkX2J5X3BhcnRpYWxfZnVuY3Rpb25cbiAgICogKGlmIG51bGwgaWdub3JlKSw8L3A+PHA+MTEgaW1wbGVtZW50ZWRfaW5fdmVyc2lvbiAoaWYgbnVsbCBpZ25vcmUpPC9wPjxwPjEyXG4gICAqIHZlcmIgKGlmIG51bGwgaWdub3JlKTwvcD5cbiAgICogQHN1bW1hcnkgR2V0IE1ldHJpY3NcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0TWV0cmljcyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8TWV0cmljc0pzb24+IHtcbiAgICByZXR1cm4gdGhpcy5mdW5jMjEwR2V0TWV0cmljc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5SZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmaW5hbmNpYWwgcHJvZHVjdHMgb2ZmZXJlZCBieSBhIGJhbmtcbiAgICogc3BlY2lmaWVkIGJ5IEJBTktfSUQgYW5kIFBST0RVQ1RfQ09ERSBpbmNsdWRpbmc6PC9wPjx1bD4gIDxsaT5OYW1lPC9saT5cbiAgICogPGxpPkNvZGU8L2xpPiAgPGxpPkNhdGVnb3J5PC9saT4gIDxsaT5GYW1pbHk8L2xpPiAgPGxpPlN1cGVyIEZhbWlseTwvbGk+XG4gICAqIDxsaT5Nb3JlIGluZm8gVVJMPC9saT4gIDxsaT5EZXNjcmlwdGlvbjwvbGk+ICA8bGk+VGVybXMgYW5kIENvbmRpdGlvbnM8L2xpPlxuICAgKiA8bGk+TGljZW5zZSB0aGUgZGF0YSB1bmRlciB0aGlzIGVuZHBvaW50IGlzIHJlbGVhc2VkIHVuZGVyIEF1dGhlbnRpY2F0aW9uXG4gICAqIGlzIE9wdGlvbmFsPC9saT48L3VsPlxuICAgKiBAc3VtbWFyeSBHZXQgQmFuayBQcm9kdWN0XG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldFByb2R1Y3QoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8UHJvZHVjdEpzb25WMjEwPiB7XG4gICAgcmV0dXJuIHRoaXMuZnVuYzIxMEdldFByb2R1Y3RXaXRoSHR0cEluZm8oQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogPHA+UmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZmluYW5jaWFsIHByb2R1Y3RzIG9mZmVyZWQgYnkgYSBiYW5rXG4gICAqIHNwZWNpZmllZCBieSBCQU5LX0lEIGluY2x1ZGluZzo8L3A+PHVsPiAgPGxpPk5hbWU8L2xpPiAgPGxpPkNvZGU8L2xpPlxuICAgKiA8bGk+Q2F0ZWdvcnk8L2xpPiAgPGxpPkZhbWlseTwvbGk+ICA8bGk+U3VwZXIgRmFtaWx5PC9saT4gIDxsaT5Nb3JlIGluZm9cbiAgICogVVJMPC9saT4gIDxsaT5EZXNjcmlwdGlvbjwvbGk+ICA8bGk+VGVybXMgYW5kIENvbmRpdGlvbnM8L2xpPiAgPGxpPkxpY2Vuc2VcbiAgICogdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlciBBdXRoZW50aWNhdGlvbiBpc1xuICAgKiBPcHRpb25hbDwvbGk+PC91bD5cbiAgICogQHN1bW1hcnkgR2V0IEJhbmsgUHJvZHVjdHNcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0UHJvZHVjdHMoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8UHJvZHVjdHNKc29uVjIxMD4ge1xuICAgIHJldHVybiB0aGlzLmZ1bmMyMTBHZXRQcm9kdWN0c1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5SZXR1cm5zIGFsbCBhdmFpbGFibGUgcm9sZXM8L3A+PHA+TG9naW4gaXMgcmVxdWlyZWQuPC9wPlxuICAgKiBAc3VtbWFyeSBHZXQgUm9sZXNcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0Um9sZXMoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6XG4gICAgICBPYnNlcnZhYmxlPEF2YWlsYWJsZVJvbGVzSlNPTj4ge1xuICAgIHJldHVybiB0aGlzLmZ1bmMyMTBHZXRSb2xlc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5HZXQgdGhlIGxpc3Qgb2YgdGhlIFRyYW5zYWN0aW9uIFJlcXVlc3QgVHlwZXMgc3VwcG9ydGVkIGJ5IHRoZVxuICAgKiBiYW5rLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbDwvcD5cbiAgICogQHN1bW1hcnkgR2V0IHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IFR5cGVzIHN1cHBvcnRlZCBieSB0aGUgYmFua1xuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRUcmFuc2FjdGlvblJlcXVlc3RUeXBlc1N1cHBvcnRlZEJ5QmFuayhcbiAgICAgIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFRyYW5zYWN0aW9uUmVxdWVzdFR5cGVzSlNPTj4ge1xuICAgIHJldHVybiB0aGlzXG4gICAgICAgIC5mdW5jMjEwR2V0VHJhbnNhY3Rpb25SZXF1ZXN0VHlwZXNTdXBwb3J0ZWRCeUJhbmtXaXRoSHR0cEluZm8oXG4gICAgICAgICAgICBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5SZXR1cm5zIHRyYW5zYWN0aW9uIHJlcXVlc3RzIGZvciBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEIGF0IGJhbmtcbiAgICogc3BlY2lmaWVkIGJ5IEJBTktfSUQuPC9wPjxwPlRoZSBWSUVXX0lEIHNwZWNpZmllZCBtdXN0IGJlICdvd25lcicgYW5kIHRoZVxuICAgKiB1c2VyIG11c3QgaGF2ZSBhY2Nlc3MgdG8gdGhpcyB2aWV3LjwvcD48cD5WZXJzaW9uIDIuMC4wIG5vdyByZXR1cm5zIGNoYXJnZVxuICAgKiBpbmZvcm1hdGlvbi48L3A+PHA+VHJhbnNhY3Rpb24gUmVxdWVzdHMgc2VydmUgdG8gaW5pdGlhdGUgdHJhbnNhY3Rpb25zIHRoYXRcbiAgICogbWF5IG9yIG1heSBub3QgcHJvY2VlZC4gVGhleSBjb250YWluIGluZm9ybWF0aW9uIGluY2x1ZGluZzo8L3A+PHVsPlxuICAgKiA8bGk+VHJhbnNhY3Rpb24gUmVxdWVzdCBJZDwvbGk+ICA8bGk+VHlwZTwvbGk+ICA8bGk+U3RhdHVzIChJTklUSUFURUQsXG4gICAqIENPTVBMRVRFRCk8L2xpPiAgPGxpPkNoYWxsZW5nZSAoaW4gb3JkZXIgdG8gY29uZmlybSB0aGUgcmVxdWVzdCk8L2xpPlxuICAgKiA8bGk+RnJvbSBCYW5rIC8gQWNjb3VudDwvbGk+ICA8bGk+RGV0YWlscyBpbmNsdWRpbmcgQ3VycmVuY3ksIFZhbHVlLFxuICAgKiBEZXNjcmlwdGlvbiBhbmQgb3RoZXIgaW5pdGlhdGlvbiBpbmZvcm1hdGlvbiBzcGVjaWZpYyB0byBlYWNoIHR5cGUuIChDb3VsZFxuICAgKiBwb3RlbnRpYWx5IGluY2x1ZGUgYSBsaXN0IG9mIGZ1dHVyZSB0cmFuc2FjdGlvbnMuKTwvbGk+ICA8bGk+UmVsYXRlZFxuICAgKiBUcmFuc2FjdGlvbnM8L2xpPjwvdWw+PHA+UFNEMiBDb250ZXh0OiBQU0QyIHJlcXVpcmVzIHRyYW5zcGFyZW5jeSBvZlxuICAgKiBjaGFyZ2VzIHRvIHRoZSBjdXN0b21lci4gVGhpcyBlbmRwb2ludCBwcm92aWRlcyB0aGUgY2hhcmdlIHRoYXQgd291bGQgYmVcbiAgICogYXBwbGllZCBpZiB0aGUgVHJhbnNhY3Rpb24gUmVxdWVzdCBwcm9jZWVkcyAtIGFuZCBhIHJlY29yZCBvZiB0aGF0IGNoYXJnZVxuICAgKiB0aGVyZSBhZnRlci4gVGhlIGN1c3RvbWVyIGNhbiBwcm9jZWVkIHdpdGggdGhlIFRyYW5zYWN0aW9uIGJ5IGFuc3dlcmluZyB0aGVcbiAgICogc2VjdXJpdHkgY2hhbGxlbmdlLjwvcD5cbiAgICogQHN1bW1hcnkgR2V0IFRyYW5zYWN0aW9uIFJlcXVlc3RzLlxuICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRUcmFuc2FjdGlvblJlcXVlc3RzKFxuICAgICAgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOlxuICAgICAgT2JzZXJ2YWJsZTxUcmFuc2FjdGlvblJlcXVlc3RXaXRoQ2hhcmdlSlNPTnMyMTA+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAuZnVuYzIxMEdldFRyYW5zYWN0aW9uUmVxdWVzdHNXaXRoSHR0cEluZm8oXG4gICAgICAgICAgICBWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5HZXQgYWxsIHVzZXJzPC9wPjxwPkxvZ2luIGlzIHJlcXVpcmVkLiBDYW5HZXRBbnlVc2VyIGVudGl0bGVtZW50IGlzXG4gICAqIHJlcXVpcmVkLDwvcD5cbiAgICogQHN1bW1hcnkgR2V0IGFsbCBVc2Vyc1xuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRVc2VycyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8VXNlcnNKU09OVjIwMD4ge1xuICAgIHJldHVybiB0aGlzLmZ1bmMyMTBHZXRVc2Vyc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5JbXBvcnQgYnVsayBkYXRhIGludG8gdGhlIHNhbmRib3ggKEF1dGhlbnRpY2F0ZWQgYWNjZXNzKS48L3A+PHA+VGhpc1xuICAgKiBjYWxsIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBiYW5rcywgdXNlcnMsIGFjY291bnRzIGFuZCB0cmFuc2FjdGlvbnMgd2hpY2hcbiAgICogYXJlIHN0b3JlZCBpbiB0aGUgbG9jYWwgUkRCTVMuPC9wPjxwPlRoZSB1c2VyIG5lZWRzIHRvIGhhdmVcbiAgICogQ2FuQ3JlYXRlU2FuZGJveCBlbnRpdGxlbWVudC48L3A+PHA+QW4gZXhhbXBsZSBvZiBhbiBpbXBvcnQgc2V0IG9mIGRhdGFcbiAgICogKGpzb24pIGNhbiBiZSBmb3VuZCA8YVxuICAgKiBocmVmPVxcXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vT3BlbkJhbmtQcm9qZWN0L09CUC1BUEkvZGV2ZWxvcC9zcmMvbWFpbi9zY2FsYS9jb2RlL2FwaS9zYW5kYm94L2V4YW1wbGVfZGF0YS8yMDE2LTA0LTI4L2V4YW1wbGVfaW1wb3J0Lmpzb25cXFwiPmhlcmU8L2E+XG4gICAqIEF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeTwvcD5cbiAgICogQHN1bW1hcnkgQ3JlYXRlIHNhbmRib3hcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMFNhbmRib3hEYXRhSW1wb3J0KGJvZHk6IGFueSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6XG4gICAgICBPYnNlcnZhYmxlPFN1Y2Nlc3NNZXNzYWdlPiB7XG4gICAgcmV0dXJuIHRoaXNcbiAgICAgICAgLmZ1bmMyMTBTYW5kYm94RGF0YUltcG9ydFdpdGhIdHRwSW5mbyhib2R5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiA8cD5VcGRhdGUgYW4gZXhpc3RpbmcgYnJhbmNoIGZvciBhIGJhbmsgYWNjb3VudCAoQXV0aGVudGljYXRlZCBhY2Nlc3MpLlxuICAgKiBBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAqIEBzdW1tYXJ5IFVwZGF0ZSBCcmFuY2hcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBCUkFOQ0hfSUQgVGhlIGJyYW5jaCBpZFxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBVcGRhdGVCcmFuY2goXG4gICAgICBib2R5OiBCcmFuY2hKc29uUHV0VjIxMCwgQlJBTkNIX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEJyYW5jaEpzb24+IHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAuZnVuYzIxMFVwZGF0ZUJyYW5jaFdpdGhIdHRwSW5mbyhcbiAgICAgICAgICAgIGJvZHksIEJSQU5DSF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogPHA+VXBkYXRlIGFuIGV4aXN0aW5nIHJlZGlyZWN0VXJsIGZvciBhIENvbnN1bWVyIHNwZWNpZmllZCBieVxuICAgKiBDT05TVU1FUl9JRC48L3A+PHA+Q09OU1VNRVJfSUQgY2FuIGJlIG9idGFpbmVkIGFmdGVyIHlvdSByZWdpc3RlciB0aGVcbiAgICogYXBwbGljYXRpb24uIDwvcD48cD5PciB1c2UgdGhlIGVuZHBvaW50ICdHZXQgQ29uc3VtZXJzJyB0byBnZXQgaXQgPC9wPlxuICAgKiBAc3VtbWFyeSBVcGRhdGUgQ29uc3VtZXIgUmVkaXJlY3RVcmxcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBDT05TVU1FUl9JRCBuZXcgY29uc3VtZXIgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwVXBkYXRlQ29uc3VtZXJSZWRpcmVjdFVybChcbiAgICAgIGJvZHk6IENvbnN1bWVyUmVkaXJlY3RVcmxKU09OLCBDT05TVU1FUl9JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q29uc3VtZXJKU09OPiB7XG4gICAgcmV0dXJuIHRoaXNcbiAgICAgICAgLmZ1bmMyMTBVcGRhdGVDb25zdW1lclJlZGlyZWN0VXJsV2l0aEh0dHBJbmZvKFxuICAgICAgICAgICAgYm9keSwgQ09OU1VNRVJfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogQWRkIGNhcmRzIGZvciBhIGJhbmtcbiAgICogJmx0O3AmZ3Q7SW1wb3J0IGJ1bGsgZGF0YSBpbnRvIHRoZSBzYW5kYm94IChBdXRoZW50aWNhdGVkXG4gICAqIGFjY2VzcykuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoaXMgaXMgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGNhcmRzIHdoaWNoIGFyZVxuICAgKiBzdG9yZWQgaW4gdGhlIGxvY2FsIFJEQk1TLiBBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBBZGRDYXJkc0ZvckJhbmtXaXRoSHR0cEluZm8oXG4gICAgICBib2R5OiBQb3N0UGh5c2ljYWxDYXJkSlNPTiwgQkFOS19JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArXG4gICAgICAgICcvYmFua3MvJHtCQU5LX0lEfS9jYXJkcycucmVwbGFjZShcbiAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICdCQU5LX0lEJyArXG4gICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBBZGRDYXJkc0ZvckJhbmsuJyk7XG4gICAgfVxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBBZGRDYXJkc0ZvckJhbmsuJyk7XG4gICAgfVxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBib2R5OiBib2R5ID09IG51bGwgP1xuICAgICAgICAgICcnIDpcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgYm9keSksICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgY291bnRlcnBhcnR5IGZvciBhbiBhY2NvdW50XG4gICAqICZsdDtwJmd0O0NyZWF0ZSBjb3VudGVycGFydHkuJmx0Oy9wJmd0OyZsdDtwJmd0O0NvdW50ZXJwYXJ0aWVzIGFyZSBjcmVhdGVkXG4gICAqIGZvciB0aGUgYWNjb3VudCAvIHZpZXcgVGhleSBhcmUgaG93IHRoZSB1c2VyIG9mIHRoZSB2aWV3IChlLmcuIGFjY291bnRcbiAgICogb3duZXIpIHJlZmVycyB0byB0aGUgb3RoZXIgc2lkZSBvZiB0aGUgdHJhbnNhY3Rpb24mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7bmFtZVxuICAgKiBpcyB0aGUgaHVtYW4gcmVhZGFibGUgbmFtZSAoZS5nLiBQaWFubyB0ZWFjaGVyLCBNaXNzXG4gICAqIE5pcGEpJmx0Oy9wJmd0OyZsdDtwJmd0O290aGVyX2JhbmtfaWQgaXMgYW4gKGludGVybmFsKSBJRCBmb3IgdGhlIGJhbmsgb2ZcbiAgICogdGhlIGJhbmsgb2YgdGhlIGNvdW50ZXJwYXJ0eSAoaWYga25vd24pJmx0Oy9wJmd0OyZsdDtwJmd0O290aGVyX2FjY291bnRfaWRcbiAgICogaXMgYW4gKGludGVybmFsKSBJRCBmb3IgdGhlIGJhbmsgYWNjb3VudCBvZiB0aGUgY291bnRlcnBhcnR5IChpZlxuICAgKiBrbm93bikmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7b3RoZXJfYWNjb3VudF9wcm92aWRlciBpcyBhIGNvZGUgdGhhdCB0ZWxscyB0aGVcbiAgICogc3lzdGVtIHdoZXJlIHRoYXQgYmFuayBpcyBob3N0ZWQuIFdpbGwgYmUgT0JQIGlmIGl0cyBrbm93biB0byB0aGUgQVBJLlxuICAgKiBVc2FnZSBvZiB0aGlzIGZsYWcgKGluIEFQSSAvIGNvbm5lY3RvcnMpIGlzIHdvcmsgaW5cbiAgICogcHJvZ3Jlc3MuJmx0Oy9wJmd0OyZsdDtwJmd0O2FjY291bnRfcm91dGluZ19zY2hlbWUgaXMgYSBjb2RlIHRoYXQgZGljdGF0ZXNcbiAgICogdGhlIG5hdHVyZSBvZiB0aGUgYWNjb3VudF9yb3V0aW5nX2FkZHJlc3MgZS5nLlxuICAgKiBJQkFOJmx0Oy9wJmd0OyZsdDtwJmd0O2FjY291bnRfcm91dGluZ19hZGRyZXNzIGlzIGFuIGluc3RhbmNlIG9mXG4gICAqIGFjY291bnRfcm91dGluZ19zY2hlbWUgdGhhdCBjYW4gYmUgdXNlZCB0byByb3V0ZSBwYXltZW50cyB0byBleHRlcm5hbFxuICAgKiBzeXN0ZW1zLiBlLmcuIGFuIElCQU4gbnVtYmVyJmx0Oy9wJmd0OyZsdDtwJmd0O2Jhbmtfcm91dGluZ19zY2hlbWUgaXMgYVxuICAgKiBjb2RlIHRoYXQgZGljdGF0ZXMgdGhlIG5hdHVyZSBvZiB0aGUgYmFua19yb3V0aW5nX2FkZHJlc3MgZS5nLlxuICAgKiBcXCZxdW90O0JJQ1xcJnF1b3Q7LCZsdDsvcCZndDsmbHQ7cCZndDtiYW5rX3JvdXRpbmdfYWRkcmVzcyBpcyBhbiBpbnN0YW5jZSBvZlxuICAgKiBiYW5rX3JvdXRpbmdfc2NoZW1lJmx0Oy9wJmd0OyZsdDtwJmd0O2lzX2JlbmVmaWNpYXJ5IG11c3QgYmUgc2V0IHRvIHRydWUgaW5cbiAgICogb3JkZXIgdG8gc2VuZCBwYXltZW50cyB0byB0aGlzIGNvdW50ZXJwYXJ0eSZsdDsvcCZndDsmbHQ7cCZndDtUaGUgdmlld1xuICAgKiBzcGVjaWZpZWQgYnkgVklFV19JRCBtdXN0IGhhdmUgdGhlIGNhbkFkZENvdW50ZXJwYXJ0eVxuICAgKiBwZXJtaXNzaW9uJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eVdpdGhIdHRwSW5mbyhcbiAgICAgIGJvZHk6IFBvc3RDb3VudGVycGFydHlKU09OLCBWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZyxcbiAgICAgIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArXG4gICAgICAgICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9LyR7VklFV19JRH0vY291bnRlcnBhcnRpZXMnXG4gICAgICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAgICAgJ1ZJRVdfSUQnICtcbiAgICAgICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgICAgIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICAgICAnQUNDT1VOVF9JRCcgK1xuICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgICAgICdCQU5LX0lEJyArXG4gICAgICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgICAgICBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eS4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eS4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eS4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZUNvdW50ZXJwYXJ0eS4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/XG4gICAgICAgICAgJycgOlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBib2R5KSwgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBDdXN0b21lci5cbiAgICogJmx0O3AmZ3Q7QWRkIGEgY3VzdG9tZXIgbGlua2VkIHRvIHRoZSB1c2VyIHNwZWNpZmllZCBieSB1c2VyX2lkIFRoZVxuICAgKiBDdXN0b21lciByZXNvdXJjZSBzdG9yZXMgdGhlIGN1c3RvbWVyIG51bWJlciwgbGVnYWwgbmFtZSwgZW1haWwsIHBob25lXG4gICAqIG51bWJlciwgdGhlaXIgZGF0ZSBvZiBiaXJ0aCwgcmVsYXRpb25zaGlwIHN0YXR1cywgZWR1Y2F0aW9uIGF0dGFpbmVkLCBhIHVybFxuICAgKiBmb3IgYSBwcm9maWxlIGltYWdlLCBLWUMgc3RhdHVzIGV0Yy4gRGF0ZXMgbmVlZCB0byBiZSBpbiB0aGUgZm9ybWF0XG4gICAqIDIwMTMtMDEtMjFUMjM6MDg6MDBaJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzXG4gICAqIE1hbmRhdG9yeSZsdDsvcCZndDsmbHQ7cCZndDtDYW5DcmVhdGVDdXN0b21lciBhbmQgQ2FuQ3JlYXRlVXNlckN1c3RvbWVyTGlua1xuICAgKiBPUiBDYW5DcmVhdGVDdXN0b21lckF0QW55QmFuayBhbmQgQ2FuQ3JlYXRlVXNlckN1c3RvbWVyTGlua0F0QW55QmFua1xuICAgKiBlbnRpdGxlbWVudHMgcmVxdWlyZWQuJmx0Oy9wJmd0O1xuICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwQ3JlYXRlQ3VzdG9tZXJXaXRoSHR0cEluZm8oXG4gICAgICBib2R5OiBQb3N0Q3VzdG9tZXJKc29uVjIxMCwgQkFOS19JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArXG4gICAgICAgICcvYmFua3MvJHtCQU5LX0lEfS9jdXN0b21lcnMnLnJlcGxhY2UoXG4gICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAnQkFOS19JRCcgK1xuICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwQ3JlYXRlQ3VzdG9tZXIuJyk7XG4gICAgfVxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBDcmVhdGVDdXN0b21lci4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/XG4gICAgICAgICAgJycgOlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBib2R5KSwgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBUcmFuc2FjdGlvbiBUeXBlIG9mZmVyZWQgYnkgdGhlIGJhbmtcbiAgICogJmx0O3AmZ3Q7Q3JlYXRlIFRyYW5zYWN0aW9uIFR5cGVzIGZvciB0aGUgYmFuayBzcGVjaWZpZWQgYnlcbiAgICogQkFOS19JRDombHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O2lkIDogVW5pcXVlIHRyYW5zYWN0aW9uIHR5cGUgaWRcbiAgICogYWNyb3NzIHRoZSBBUEkgaW5zdGFuY2UuIFNIT1VMRCBiZSBhIFVVSUQuIE1VU1QgYmUgdW5pcXVlLiZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtiYW5rX2lkIDogVGhlIGJhbmsgdGhhdCBzdXBwb3J0cyB0aGlzIFRyYW5zYWN0aW9uVHlwZSZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtzaG9ydF9jb2RlIDogQSBzaG9ydCBjb2RlIChTSE9VTEQgaGF2ZSBuby1zcGFjZXMpIHdoaWNoIE1VU1QgYmVcbiAgICogdW5pcXVlIGFjcm9zcyB0aGUgYmFuay4gTWF5IGJlIHN0b3JlZCB3aXRoIFRyYW5zYWN0aW9ucyB0byBsaW5rXG4gICAqIGhlcmUmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O3N1bW1hcnkgOiBBIHN1Y2NpbmN0IHN1bW1hcnkmbHQ7L2xpJmd0O1xuICAgKiAmbHQ7bGkmZ3Q7ZGVzY3JpcHRpb24gOiBBIGxvbmdlciBkZXNjcmlwdGlvbiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7Y2hhcmdlIDpcbiAgICogVGhlIGNoYXJnZSB0byB0aGUgY3VzdG9tZXIgZm9yIGVhY2ggb25lIG9mXG4gICAqIHRoZXNlJmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMENyZWF0ZVRyYW5zYWN0aW9uVHlwZVdpdGhIdHRwSW5mbyhcbiAgICAgIGJvZHk6IFRyYW5zYWN0aW9uVHlwZUpzb25WMjAwLCBCQU5LX0lEOiBzdHJpbmcsXG4gICAgICBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICtcbiAgICAgICAgJy9iYW5rcy8ke0JBTktfSUR9L3RyYW5zYWN0aW9uLXR5cGVzJy5yZXBsYWNlKFxuICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgJ0JBTktfSUQnICtcbiAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZVRyYW5zYWN0aW9uVHlwZS4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMENyZWF0ZVRyYW5zYWN0aW9uVHlwZS4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgYm9keTogYm9keSA9PSBudWxsID9cbiAgICAgICAgICAnJyA6XG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIGJvZHkpLCAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlIG9yIERpc2FibGUgQ29uc3VtZXJzXG4gICAqICZsdDtwJmd0O0VuYWJsZS9EaXNhYmxlIGEgQ29uc3VtZXIgc3BlY2lmaWVkIGJ5IENPTlNVTUVSX0lELiZsdDsvcCZndDtcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBDT05TVU1FUl9JRCBuZXcgY29uc3VtZXIgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwRW5hYmxlRGlzYWJsZUNvbnN1bWVyc1dpdGhIdHRwSW5mbyhcbiAgICAgIGJvZHk6IFB1dEVuYWJsZWRKU09OLCBDT05TVU1FUl9JRDogc3RyaW5nLFxuICAgICAgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArXG4gICAgICAgICcvbWFuYWdlbWVudC9jb25zdW1lcnMvJHtDT05TVU1FUl9JRH0nLnJlcGxhY2UoXG4gICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAnQ09OU1VNRVJfSUQnICtcbiAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICBTdHJpbmcoQ09OU1VNRVJfSUQpKTtcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBFbmFibGVEaXNhYmxlQ29uc3VtZXJzLicpO1xuICAgIH1cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdDT05TVU1FUl9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKENPTlNVTUVSX0lEID09PSBudWxsIHx8IENPTlNVTUVSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIENPTlNVTUVSX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMEVuYWJsZURpc2FibGVDb25zdW1lcnMuJyk7XG4gICAgfVxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/XG4gICAgICAgICAgJycgOlxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICBib2R5KSwgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBDb25zdW1lclxuICAgKiAmbHQ7cCZndDtHZXQgdGhlIENvbnN1bWVyIHNwZWNpZmllZCBieSBDT05TVU1FUl9JRC4mbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBDT05TVU1FUl9JRCBuZXcgY29uc3VtZXIgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0Q29uc3VtZXJXaXRoSHR0cEluZm8oXG4gICAgICBDT05TVU1FUl9JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICtcbiAgICAgICAgJy9tYW5hZ2VtZW50L2NvbnN1bWVycy8ke0NPTlNVTUVSX0lEfScucmVwbGFjZShcbiAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICdDT05TVU1FUl9JRCcgK1xuICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgIFN0cmluZyhDT05TVU1FUl9JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQ09OU1VNRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChDT05TVU1FUl9JRCA9PT0gbnVsbCB8fCBDT05TVU1FUl9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBDT05TVU1FUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBHZXRDb25zdW1lci4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IENvbnN1bWVyc1xuICAgKiAmbHQ7cCZndDtHZXQgdGhlIGFsbCBDb25zdW1lcnMuJmx0Oy9wJmd0O1xuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRDb25zdW1lcnNXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6XG4gICAgICBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL21hbmFnZW1lbnQvY29uc3VtZXJzJztcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjdXN0b21lciBmb3IgbG9nZ2VkIGluIHVzZXJcbiAgICogJmx0O3AmZ3Q7SW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnRseSBhdXRoZW50aWNhdGVkXG4gICAqIHVzZXIuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZC4mbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldEN1c3RvbWVyV2l0aEh0dHBJbmZvKFxuICAgICAgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICtcbiAgICAgICAgJy9iYW5rcy8ke0JBTktfSUR9L2N1c3RvbWVyJy5yZXBsYWNlKFxuICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgJ0JBTktfSUQnICtcbiAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMEdldEN1c3RvbWVyLicpO1xuICAgIH1cblxuICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSkge1xuICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKTtcbiAgICB9XG5cblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGN1c3RvbWVycyBmb3IgbG9nZ2VkIGluIHVzZXJcbiAgICogJmx0O3AmZ3Q7SW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnRseSBhdXRoZW50aWNhdGVkXG4gICAqIHVzZXIuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZC4mbHQ7L3AmZ3Q7XG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldEN1c3RvbWVyc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvdXNlcnMvY3VycmVudC9jdXN0b21lcnMnO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEVudGl0bGVtZW50cyBzcGVjaWZpZWQgYnkgQkFOS19JRCBhbmQgVVNFUl9JRFxuICAgKiAmbHQ7cCZndDtMb2dpbiBpcyByZXF1aXJlZC4mbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBVU0VSX0lEIFRoZSB1c2VyIGlkXG4gICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldEVudGl0bGVtZW50c0J5QmFua0FuZFVzZXJXaXRoSHR0cEluZm8oXG4gICAgICBVU0VSX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL2JhbmtzLyR7QkFOS19JRH0vdXNlcnMvJHtVU0VSX0lEfS9lbnRpdGxlbWVudHMnXG4gICAgICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VTRVJfSUQnICtcbiAgICAgICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgICAgIFN0cmluZyhVU0VSX0lEKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICAgICAnQkFOS19JRCcgK1xuICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1VTRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChVU0VSX0lEID09PSBudWxsIHx8IFVTRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgVVNFUl9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBHZXRFbnRpdGxlbWVudHNCeUJhbmtBbmRVc2VyLicpO1xuICAgIH1cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwR2V0RW50aXRsZW1lbnRzQnlCYW5rQW5kVXNlci4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IE1ldHJpY3NcbiAgICogJmx0O3AmZ3Q7R2V0IHRoZSBhbGwgbWV0cmljcyZsdDsvcCZndDsmbHQ7cCZndDtyZXF1aXJlIENhblJlYWRNZXRyaWNzXG4gICAqIHJvbGUmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7RmlsdGVycyBQYXJ0IDEuKmZpbHRlcmluZyogKG5vIHdpbGRlIGNhcmRzIGV0Yy4pXG4gICAqIHBhcmFtZXRlcnMgdG8gR0VUIC9tYW5hZ2VtZW50L21ldHJpY3MmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7U2hvdWxkIGJlIGFibGUgdG9cbiAgICogZmlsdGVyIG9uIHRoZSBmb2xsb3dpbmcgbWV0cmljcyBmaWVsZHMmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7ZWc6XG4gICAqIC9tYW5hZ2VtZW50L21ldHJpY3M/c3RhcnRfZGF0ZSYjeDNEOzIwMTctMDMtMDEmYW1wO2FtcDtlbmRfZGF0ZSYjeDNEOzIwMTctMDMtMDQmYW1wO2FtcDtsaW1pdCYjeDNEOzUwJmFtcDthbXA7b2Zmc2V0JiN4M0Q7MiZsdDsvcCZndDsmbHQ7cCZndDsxXG4gICAqIHN0YXJ0X2RhdGUgKGRlZmF1bHRzIHRvIG9uZSB3ZWVrIGJlZm9yZSBjdXJyZW50IGRhdGUpOlxuICAgKiBlZzpzdGFydF9kYXRlJiN4M0Q7MjAxNy0wMy0wMSZsdDsvcCZndDsmbHQ7cCZndDsyIGVuZF9kYXRlIChkZWZhdWx0cyB0b1xuICAgKiBjdXJyZW50IGRhdGUpIGVnOmVuZF9kYXRlJiN4M0Q7MjAxNy0wMy0wNSZsdDsvcCZndDsmbHQ7cCZndDszIGxpbWl0IChmb3JcbiAgICogcGFnaW5hdGlvbjogZGVmYXVsdHMgdG8gMjAwKSBlZzpsaW1pdCYjeDNEOzIwMCZsdDsvcCZndDsmbHQ7cCZndDs0IG9mZnNldFxuICAgKiAoZm9yIHBhZ2luYXRpb246IHplcm8gaW5kZXgsIGRlZmF1bHRzIHRvIDApIGVnOlxuICAgKiBvZmZzZXQmI3gzRDsxMCZsdDsvcCZndDsmbHQ7cCZndDtlZzpcbiAgICogL21hbmFnZW1lbnQvbWV0cmljcz9zdGFydF9kYXRlJiN4M0Q7MjAxNi0wMy0wNSZhbXA7YW1wO2VuZF9kYXRlJiN4M0Q7MjAxNy0wMy0wOCZhbXA7YW1wO2xpbWl0JiN4M0Q7MTAwMDAmYW1wO2FtcDtvZmZzZXQmI3gzRDswJmFtcDthbXA7YW5vbiYjeDNEO2ZhbHNlJmFtcDthbXA7YXBwX25hbWUmI3gzRDtob2dud2VpJmFtcDthbXA7aW1wbGVtZW50ZWRfaW5fdmVyc2lvbiYjeDNEO3YyLjEuMCZhbXA7YW1wO3ZlcmImI3gzRDtQT1NUJmFtcDthbXA7dXNlcl9pZCYjeDNEO2M3YjZjYjQ3LWNiOTYtNDQ0MS04ODAxLTM1YjU3NDU2NzUzYSZhbXA7YW1wO3VzZXJfbmFtZSYjeDNEO3N1c2FuLnVrLjI5QGV4YW1wbGUuY29tJmFtcDthbXA7Y29uc3VtZXJfaWQmI3gzRDs3OCZsdDsvcCZndDsmbHQ7cCZndDtPdGhlclxuICAgKiBmaWx0ZXJzOiZsdDsvcCZndDsmbHQ7cCZndDs1IGNvbnN1bWVyX2lkIChpZiBudWxsXG4gICAqIGlnbm9yZSkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7NiB1c2VyX2lkIChpZiBudWxsIGlnbm9yZSkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7N1xuICAgKiBhbm9uIChpZiBudWxsIGlnbm9yZSkgb25seSBzdXBwb3J0IHR3byB2YWx1ZSA6IHRydWUgKHJldHVybiB3aGVyZSB1c2VyX2lkXG4gICAqIGlzIG51bGwuKSBvciBmYWxzZSAocmV0dXJuIHdoZXJlIHVzZXJfaWQgaXMgbm90IG51bGwuKSZsdDsvcCZndDsmbHQ7cCZndDs4XG4gICAqIHVybCAoaWYgbnVsbCBpZ25vcmUpLCBub3RlOiBjYW4gbm90IGNvbnRhaW4gJiMzOTsmYW1wO2FtcDsmIzM5Oy5cbiAgICogJmx0Oy9wJmd0OyZsdDtwJmd0OzkgYXBwX25hbWUgKGlmIG51bGwgaWdub3JlKSZsdDsvcCZndDsmbHQ7cCZndDsxMFxuICAgKiBpbXBsZW1lbnRlZF9ieV9wYXJ0aWFsX2Z1bmN0aW9uIChpZiBudWxsIGlnbm9yZSksJmx0Oy9wJmd0OyZsdDtwJmd0OzExXG4gICAqIGltcGxlbWVudGVkX2luX3ZlcnNpb24gKGlmIG51bGwgaWdub3JlKSZsdDsvcCZndDsmbHQ7cCZndDsxMiB2ZXJiIChpZiBudWxsXG4gICAqIGlnbm9yZSkmbHQ7L3AmZ3Q7XG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldE1ldHJpY3NXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6XG4gICAgICBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL21hbmFnZW1lbnQvbWV0cmljcyc7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSkge1xuICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKTtcbiAgICB9XG5cblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgQmFuayBQcm9kdWN0XG4gICAqICZsdDtwJmd0O1JldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZpbmFuY2lhbCBwcm9kdWN0cyBvZmZlcmVkIGJ5IGEgYmFua1xuICAgKiBzcGVjaWZpZWQgYnkgQkFOS19JRCBhbmQgUFJPRFVDVF9DT0RFIGluY2x1ZGluZzombHQ7L3AmZ3Q7Jmx0O3VsJmd0O1xuICAgKiAmbHQ7bGkmZ3Q7TmFtZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7Q29kZSZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtDYXRlZ29yeSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7RmFtaWx5Jmx0Oy9saSZndDsgICZsdDtsaSZndDtTdXBlclxuICAgKiBGYW1pbHkmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O01vcmUgaW5mbyBVUkwmbHQ7L2xpJmd0O1xuICAgKiAmbHQ7bGkmZ3Q7RGVzY3JpcHRpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O1Rlcm1zIGFuZCBDb25kaXRpb25zJmx0Oy9saSZndDtcbiAgICogJmx0O2xpJmd0O0xpY2Vuc2UgdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlclxuICAgKiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDtcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0UHJvZHVjdFdpdGhIdHRwSW5mbyhcbiAgICAgIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArXG4gICAgICAgICcvYmFua3MvJHtCQU5LX0lEfS9wcm9kdWN0cy9QUk9EVUNUX0NPREUnLnJlcGxhY2UoXG4gICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAnQkFOS19JRCcgK1xuICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwR2V0UHJvZHVjdC4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEJhbmsgUHJvZHVjdHNcbiAgICogJmx0O3AmZ3Q7UmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZmluYW5jaWFsIHByb2R1Y3RzIG9mZmVyZWQgYnkgYSBiYW5rXG4gICAqIHNwZWNpZmllZCBieSBCQU5LX0lEIGluY2x1ZGluZzombHQ7L3AmZ3Q7Jmx0O3VsJmd0O1xuICAgKiAmbHQ7bGkmZ3Q7TmFtZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7Q29kZSZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtDYXRlZ29yeSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7RmFtaWx5Jmx0Oy9saSZndDsgICZsdDtsaSZndDtTdXBlclxuICAgKiBGYW1pbHkmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O01vcmUgaW5mbyBVUkwmbHQ7L2xpJmd0O1xuICAgKiAmbHQ7bGkmZ3Q7RGVzY3JpcHRpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O1Rlcm1zIGFuZCBDb25kaXRpb25zJmx0Oy9saSZndDtcbiAgICogJmx0O2xpJmd0O0xpY2Vuc2UgdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlclxuICAgKiBBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDtcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0UHJvZHVjdHNXaXRoSHR0cEluZm8oXG4gICAgICBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL2JhbmtzLyR7QkFOS19JRH0vcHJvZHVjdHMnLnJlcGxhY2UoXG4gICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAnQkFOS19JRCcgK1xuICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwR2V0UHJvZHVjdHMuJyk7XG4gICAgfVxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBSb2xlc1xuICAgKiAmbHQ7cCZndDtSZXR1cm5zIGFsbCBhdmFpbGFibGUgcm9sZXMmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7TG9naW4gaXNcbiAgICogcmVxdWlyZWQuJmx0Oy9wJmd0O1xuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRSb2xlc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTpcbiAgICAgIE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvcm9sZXMnO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IFR5cGVzIHN1cHBvcnRlZCBieSB0aGUgYmFua1xuICAgKiAmbHQ7cCZndDtHZXQgdGhlIGxpc3Qgb2YgdGhlIFRyYW5zYWN0aW9uIFJlcXVlc3QgVHlwZXMgc3VwcG9ydGVkIGJ5IHRoZVxuICAgKiBiYW5rLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvcCZndDtcbiAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICovXG4gIHB1YmxpYyBmdW5jMjEwR2V0VHJhbnNhY3Rpb25SZXF1ZXN0VHlwZXNTdXBwb3J0ZWRCeUJhbmtXaXRoSHR0cEluZm8oXG4gICAgICBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL2JhbmtzLyR7QkFOS19JRH0vdHJhbnNhY3Rpb24tcmVxdWVzdC10eXBlcycucmVwbGFjZShcbiAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICdCQU5LX0lEJyArXG4gICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBHZXRUcmFuc2FjdGlvblJlcXVlc3RUeXBlc1N1cHBvcnRlZEJ5QmFuay4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFRyYW5zYWN0aW9uIFJlcXVlc3RzLlxuICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRyYW5zYWN0aW9uIHJlcXVlc3RzIGZvciBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEXG4gICAqIGF0IGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBWSUVXX0lEIHNwZWNpZmllZCBtdXN0XG4gICAqIGJlICYjMzk7b3duZXImIzM5OyBhbmQgdGhlIHVzZXIgbXVzdCBoYXZlIGFjY2VzcyB0byB0aGlzXG4gICAqIHZpZXcuJmx0Oy9wJmd0OyZsdDtwJmd0O1ZlcnNpb24gMi4wLjAgbm93IHJldHVybnMgY2hhcmdlXG4gICAqIGluZm9ybWF0aW9uLiZsdDsvcCZndDsmbHQ7cCZndDtUcmFuc2FjdGlvbiBSZXF1ZXN0cyBzZXJ2ZSB0byBpbml0aWF0ZVxuICAgKiB0cmFuc2FjdGlvbnMgdGhhdCBtYXkgb3IgbWF5IG5vdCBwcm9jZWVkLiBUaGV5IGNvbnRhaW4gaW5mb3JtYXRpb25cbiAgICogaW5jbHVkaW5nOiZsdDsvcCZndDsmbHQ7dWwmZ3Q7ICAmbHQ7bGkmZ3Q7VHJhbnNhY3Rpb24gUmVxdWVzdCBJZCZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtUeXBlJmx0Oy9saSZndDsgICZsdDtsaSZndDtTdGF0dXMgKElOSVRJQVRFRCxcbiAgICogQ09NUExFVEVEKSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7Q2hhbGxlbmdlIChpbiBvcmRlciB0byBjb25maXJtIHRoZVxuICAgKiByZXF1ZXN0KSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7RnJvbSBCYW5rIC8gQWNjb3VudCZsdDsvbGkmZ3Q7XG4gICAqICZsdDtsaSZndDtEZXRhaWxzIGluY2x1ZGluZyBDdXJyZW5jeSwgVmFsdWUsIERlc2NyaXB0aW9uIGFuZCBvdGhlclxuICAgKiBpbml0aWF0aW9uIGluZm9ybWF0aW9uIHNwZWNpZmljIHRvIGVhY2ggdHlwZS4gKENvdWxkIHBvdGVudGlhbHkgaW5jbHVkZSBhXG4gICAqIGxpc3Qgb2YgZnV0dXJlIHRyYW5zYWN0aW9ucy4pJmx0Oy9saSZndDsgICZsdDtsaSZndDtSZWxhdGVkXG4gICAqIFRyYW5zYWN0aW9ucyZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDsmbHQ7cCZndDtQU0QyIENvbnRleHQ6IFBTRDIgcmVxdWlyZXNcbiAgICogdHJhbnNwYXJlbmN5IG9mIGNoYXJnZXMgdG8gdGhlIGN1c3RvbWVyLiBUaGlzIGVuZHBvaW50IHByb3ZpZGVzIHRoZSBjaGFyZ2VcbiAgICogdGhhdCB3b3VsZCBiZSBhcHBsaWVkIGlmIHRoZSBUcmFuc2FjdGlvbiBSZXF1ZXN0IHByb2NlZWRzIC0gYW5kIGEgcmVjb3JkIG9mXG4gICAqIHRoYXQgY2hhcmdlIHRoZXJlIGFmdGVyLiBUaGUgY3VzdG9tZXIgY2FuIHByb2NlZWQgd2l0aCB0aGUgVHJhbnNhY3Rpb24gYnlcbiAgICogYW5zd2VyaW5nIHRoZSBzZWN1cml0eSBjaGFsbGVuZ2UuJmx0Oy9wJmd0O1xuICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBHZXRUcmFuc2FjdGlvblJlcXVlc3RzV2l0aEh0dHBJbmZvKFxuICAgICAgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L3RyYW5zYWN0aW9uLXJlcXVlc3RzJ1xuICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgICAgICdWSUVXX0lEJyArXG4gICAgICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgICAgICBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAucmVwbGFjZShcbiAgICAgICAgICAgICAgICAnJHsnICtcbiAgICAgICAgICAgICAgICAgICAgJ0FDQ09VTlRfSUQnICtcbiAgICAgICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgICAgIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgIC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICAgICAnQkFOS19JRCcgK1xuICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgICAgdGhpcy5kZWZhdWx0SGVhZGVyc1xuICAgICAgICAgICAgLnRvSlNPTigpKTsgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMTBHZXRUcmFuc2FjdGlvblJlcXVlc3RzLicpO1xuICAgIH1cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwR2V0VHJhbnNhY3Rpb25SZXF1ZXN0cy4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMEdldFRyYW5zYWN0aW9uUmVxdWVzdHMuJyk7XG4gICAgfVxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogdGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgcmVxdWVzdE9wdGlvbnMgPVxuICAgICAgICAgICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgVXNlcnNcbiAgICogJmx0O3AmZ3Q7R2V0IGFsbCB1c2VycyZsdDsvcCZndDsmbHQ7cCZndDtMb2dpbiBpcyByZXF1aXJlZC4gQ2FuR2V0QW55VXNlclxuICAgKiBlbnRpdGxlbWVudCBpcyByZXF1aXJlZCwmbHQ7L3AmZ3Q7XG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMEdldFVzZXJzV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOlxuICAgICAgT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy91c2Vycyc7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSkge1xuICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKTtcbiAgICB9XG5cblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgc2FuZGJveFxuICAgKiAmbHQ7cCZndDtJbXBvcnQgYnVsayBkYXRhIGludG8gdGhlIHNhbmRib3ggKEF1dGhlbnRpY2F0ZWRcbiAgICogYWNjZXNzKS4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhpcyBjYWxsIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBiYW5rcywgdXNlcnMsXG4gICAqIGFjY291bnRzIGFuZCB0cmFuc2FjdGlvbnMgd2hpY2ggYXJlIHN0b3JlZCBpbiB0aGUgbG9jYWxcbiAgICogUkRCTVMuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSB1c2VyIG5lZWRzIHRvIGhhdmUgQ2FuQ3JlYXRlU2FuZGJveFxuICAgKiBlbnRpdGxlbWVudC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QW4gZXhhbXBsZSBvZiBhbiBpbXBvcnQgc2V0IG9mIGRhdGEgKGpzb24pXG4gICAqIGNhbiBiZSBmb3VuZCAmbHQ7YVxuICAgKiBocmVmJiN4M0Q7XFwmcXVvdDtodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vT3BlbkJhbmtQcm9qZWN0L09CUC1BUEkvZGV2ZWxvcC9zcmMvbWFpbi9zY2FsYS9jb2RlL2FwaS9zYW5kYm94L2V4YW1wbGVfZGF0YS8yMDE2LTA0LTI4L2V4YW1wbGVfaW1wb3J0Lmpzb25cXCZxdW90OyZndDtoZXJlJmx0Oy9hJmd0O1xuICAgKiBBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBTYW5kYm94RGF0YUltcG9ydFdpdGhIdHRwSW5mbyhcbiAgICAgIGJvZHk6IGFueSwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvc2FuZGJveC9kYXRhLWltcG9ydCc7XG5cbiAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgIHRoaXMuZGVmYXVsdEhlYWRlcnNcbiAgICAgICAgICAgIC50b0pTT04oKSk7ICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwU2FuZGJveERhdGFJbXBvcnQuJyk7XG4gICAgfVxuXG4gICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKSB7XG4gICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pO1xuICAgIH1cblxuXG4gICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUG9zdCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBib2R5OiBib2R5ID09IG51bGwgP1xuICAgICAgICAgICcnIDpcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgYm9keSksICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgQnJhbmNoXG4gICAqICZsdDtwJmd0O1VwZGF0ZSBhbiBleGlzdGluZyBicmFuY2ggZm9yIGEgYmFuayBhY2NvdW50IChBdXRoZW50aWNhdGVkXG4gICAqIGFjY2VzcykuIEF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDtcbiAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAqIEBwYXJhbSBCUkFOQ0hfSUQgVGhlIGJyYW5jaCBpZFxuICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgKi9cbiAgcHVibGljIGZ1bmMyMTBVcGRhdGVCcmFuY2hXaXRoSHR0cEluZm8oXG4gICAgICBib2R5OiBCcmFuY2hKc29uUHV0VjIxMCwgQlJBTkNIX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL2JhbmtzLyR7QkFOS19JRH0vYnJhbmNoZXMvJHtCUkFOQ0hfSUR9J1xuICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgICAgICdCUkFOQ0hfSUQnICtcbiAgICAgICAgICAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAgICAgIFN0cmluZyhCUkFOQ0hfSUQpKVxuICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgJyR7JyArXG4gICAgICAgICAgICAgICAgICAgICdCQU5LX0lEJyArXG4gICAgICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgICAgICBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMFVwZGF0ZUJyYW5jaC4nKTtcbiAgICB9XG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQlJBTkNIX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQlJBTkNIX0lEID09PSBudWxsIHx8IEJSQU5DSF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBCUkFOQ0hfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwVXBkYXRlQnJhbmNoLicpO1xuICAgIH1cbiAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwVXBkYXRlQnJhbmNoLicpO1xuICAgIH1cblxuICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSkge1xuICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1snQXV0aG9yaXphdGlvbiddKTtcbiAgICB9XG5cblxuICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBib2R5OiBib2R5ID09IG51bGwgP1xuICAgICAgICAgICcnIDpcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgYm9keSksICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IHRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICB9KTtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgIHJlcXVlc3RPcHRpb25zID1cbiAgICAgICAgICAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgQ29uc3VtZXIgUmVkaXJlY3RVcmxcbiAgICogJmx0O3AmZ3Q7VXBkYXRlIGFuIGV4aXN0aW5nIHJlZGlyZWN0VXJsIGZvciBhIENvbnN1bWVyIHNwZWNpZmllZCBieVxuICAgKiBDT05TVU1FUl9JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7Q09OU1VNRVJfSUQgY2FuIGJlIG9idGFpbmVkIGFmdGVyIHlvdVxuICAgKiByZWdpc3RlciB0aGUgYXBwbGljYXRpb24uICZsdDsvcCZndDsmbHQ7cCZndDtPciB1c2UgdGhlIGVuZHBvaW50ICYjMzk7R2V0XG4gICAqIENvbnN1bWVycyYjMzk7IHRvIGdldCBpdCAmbHQ7L3AmZ3Q7XG4gICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgKiBAcGFyYW0gQ09OU1VNRVJfSUQgbmV3IGNvbnN1bWVyIGlkXG4gICAqL1xuICBwdWJsaWMgZnVuYzIxMFVwZGF0ZUNvbnN1bWVyUmVkaXJlY3RVcmxXaXRoSHR0cEluZm8oXG4gICAgICBib2R5OiBDb25zdW1lclJlZGlyZWN0VXJsSlNPTiwgQ09OU1VNRVJfSUQ6IHN0cmluZyxcbiAgICAgIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggK1xuICAgICAgICAnL21hbmFnZW1lbnQvY29uc3VtZXJzLyR7Q09OU1VNRVJfSUR9L2NvbnN1bWVyL3JlZGlyZWN0X3VybCcucmVwbGFjZShcbiAgICAgICAgICAgICckeycgK1xuICAgICAgICAgICAgICAgICdDT05TVU1FUl9JRCcgK1xuICAgICAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgIFN0cmluZyhDT05TVU1FUl9JRCkpO1xuXG4gICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgICB0aGlzLmRlZmF1bHRIZWFkZXJzXG4gICAgICAgICAgICAudG9KU09OKCkpOyAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIxMFVwZGF0ZUNvbnN1bWVyUmVkaXJlY3RVcmwuJyk7XG4gICAgfVxuICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0NPTlNVTUVSX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICBpZiAoQ09OU1VNRVJfSUQgPT09IG51bGwgfHwgQ09OU1VNRVJfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZXF1aXJlZCBwYXJhbWV0ZXIgQ09OU1VNRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjEwVXBkYXRlQ29uc3VtZXJSZWRpcmVjdFVybC4nKTtcbiAgICB9XG5cbiAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzWydBdXRob3JpemF0aW9uJ10pIHtcbiAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbJ0F1dGhvcml6YXRpb24nXSk7XG4gICAgfVxuXG5cbiAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5QdXQsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgYm9keTogYm9keSA9PSBudWxsID9cbiAgICAgICAgICAnJyA6XG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgIGJvZHkpLCAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgfSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICByZXF1ZXN0T3B0aW9ucyA9XG4gICAgICAgICAgKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvZnVuYzIxMC5zZXJ2aWNlLnRzIiwiLyoqXG4gKiBPcGVuIEJhbmsgUHJvamVjdCBBUElcbiAqIEFuIE9wZW4gU291cmNlIEFQSSBmb3IgQmFua3MuIChjKSBURVNPQkUgTHRkLiAyMDExIC0gMjAxNi4gTGljZW5zZWQgdW5kZXIgdGhlIEFHUEwgYW5kIGNvbW1lcmNpYWwgbGljZW5jZXMuXG4gKlxuICogT3BlbkFQSSBzcGVjIHZlcnNpb246IHYzLjAuMFxuICogQ29udGFjdDogY29udGFjdEB0ZXNvYmUuY29tXG4gKlxuICogTk9URTogVGhpcyBjbGFzcyBpcyBhdXRvIGdlbmVyYXRlZCBieSB0aGUgc3dhZ2dlciBjb2RlIGdlbmVyYXRvciBwcm9ncmFtLlxuICogaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi5naXRcbiAqIERvIG5vdCBlZGl0IHRoZSBjbGFzcyBtYW51YWxseS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgbWVtYmVyLW9yZGVyaW5nICovXG5cbmltcG9ydCB7IEluamVjdCwgSW5qZWN0YWJsZSwgT3B0aW9uYWwgfSAgICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHAsIEhlYWRlcnMsIFVSTFNlYXJjaFBhcmFtcyB9ICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlcXVlc3RNZXRob2QsIFJlcXVlc3RPcHRpb25zLCBSZXF1ZXN0T3B0aW9uc0FyZ3MgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IFJlc3BvbnNlLCBSZXNwb25zZUNvbnRlbnRUeXBlIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICdAYW5ndWxhci9odHRwJztcblxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5pbXBvcnQgJy4uL3J4anMtb3BlcmF0b3JzJztcblxuaW1wb3J0IHsgQmFua0pTT05WMjIwIH0gZnJvbSAnLi4vbW9kZWwvYmFua0pTT05WMjIwJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb25KU09OIH0gZnJvbSAnLi4vbW9kZWwvY29uZmlndXJhdGlvbkpTT04nO1xuaW1wb3J0IHsgQ29ubmVjdG9yTWV0cmljc0pzb24gfSBmcm9tICcuLi9tb2RlbC9jb25uZWN0b3JNZXRyaWNzSnNvbic7XG5pbXBvcnQgeyBDb3VudGVycGFydGllc0pzb25WMjIwIH0gZnJvbSAnLi4vbW9kZWwvY291bnRlcnBhcnRpZXNKc29uVjIyMCc7XG5pbXBvcnQgeyBDcmVhdGVBY2NvdW50SlNPTlYyMjAgfSBmcm9tICcuLi9tb2RlbC9jcmVhdGVBY2NvdW50SlNPTlYyMjAnO1xuaW1wb3J0IHsgRXJyb3JJbnZhbGlkRGF0ZUZvcm1hdCB9IGZyb20gJy4uL21vZGVsL2Vycm9ySW52YWxpZERhdGVGb3JtYXQnO1xuaW1wb3J0IHsgRXJyb3JJbnZhbGlkSVNPQ3VycmVuY3lDb2RlIH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JJbnZhbGlkSVNPQ3VycmVuY3lDb2RlJztcbmltcG9ydCB7IEVycm9ySW52YWxpZEpzb25Gb3JtYXQgfSBmcm9tICcuLi9tb2RlbC9lcnJvckludmFsaWRKc29uRm9ybWF0JztcbmltcG9ydCB7IEVycm9yVW5rbm93bkVycm9yIH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JVbmtub3duRXJyb3InO1xuaW1wb3J0IHsgRXJyb3JVc2VyTm90TG9nZ2VkSW4gfSBmcm9tICcuLi9tb2RlbC9lcnJvclVzZXJOb3RMb2dnZWRJbic7XG5pbXBvcnQgeyBGWFJhdGVKc29uVjIyMCB9IGZyb20gJy4uL21vZGVsL2ZYUmF0ZUpzb25WMjIwJztcbmltcG9ydCB7IE1lc3NhZ2VEb2NzSnNvbiB9IGZyb20gJy4uL21vZGVsL21lc3NhZ2VEb2NzSnNvbic7XG5pbXBvcnQgeyBQcm9kdWN0SnNvblYyMjAgfSBmcm9tICcuLi9tb2RlbC9wcm9kdWN0SnNvblYyMjAnO1xuXG5pbXBvcnQgeyBCQVNFX1BBVEgsIENPTExFQ1RJT05fRk9STUFUUyB9ICAgICAgICAgICAgICAgICAgICAgZnJvbSAnLi4vdmFyaWFibGVzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi9jb25maWd1cmF0aW9uJztcblxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRnVuY18yXzJfMFNlcnZpY2Uge1xuXG4gICAgcHJvdGVjdGVkIGJhc2VQYXRoID0gJ2h0dHA6Ly9hcGMub3BlbmJhbmtwcm9qZWN0LmNvbS9vYnAvdjMuMC4wJztcbiAgICBwdWJsaWMgZGVmYXVsdEhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIHB1YmxpYyBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBodHRwOiBIdHRwLCBAT3B0aW9uYWwoKUBJbmplY3QoQkFTRV9QQVRIKSBiYXNlUGF0aDogc3RyaW5nLCBAT3B0aW9uYWwoKSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIGlmIChiYXNlUGF0aCkge1xuICAgICAgICAgICAgdGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuXHRcdFx0dGhpcy5iYXNlUGF0aCA9IGJhc2VQYXRoIHx8IGNvbmZpZ3VyYXRpb24uYmFzZVBhdGggfHwgdGhpcy5iYXNlUGF0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEV4dGVuZHMgb2JqZWN0IGJ5IGNvcGluZyBub24tZXhpc3RpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0gb2JqQSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAgICAgKiBAcGFyYW0gb2JqQiBzb3VyY2Ugb2JqZWN0XG4gICAgICovXG4gICAgcHJpdmF0ZSBleHRlbmRPYmo8VDEsVDI+KG9iakE6IFQxLCBvYmpCOiBUMikge1xuICAgICAgICBmb3IobGV0IGtleSBpbiBvYmpCKXtcbiAgICAgICAgICAgIGlmKG9iakIuaGFzT3duUHJvcGVydHkoa2V5KSl7XG4gICAgICAgICAgICAgICAgKG9iakEgYXMgYW55KVtrZXldID0gKG9iakIgYXMgYW55KVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8VDEmVDI+b2JqQTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uc3VtZXMgc3RyaW5nW10gbWltZS10eXBlc1xuICAgICAqIEByZXR1cm4gdHJ1ZTogY29uc3VtZXMgY29udGFpbnMgJ211bHRpcGFydC9mb3JtLWRhdGEnLCBmYWxzZTogb3RoZXJ3aXNlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYW5Db25zdW1lRm9ybShjb25zdW1lczogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZm9ybSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcbiAgICAgICAgZm9yIChsZXQgY29uc3VtZSBvZiBjb25zdW1lcykge1xuICAgICAgICAgICAgaWYgKGZvcm0gPT09IGNvbnN1bWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+UmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dDo8L3A+PHVsPiAgPGxpPkFra2EgcG9ydHM8L2xpPiAgPGxpPkVsYXN0aWMgc2VhcmNoIHBvcnRzPC9saT4gIDxsaT5DYWNoZWQgZnVuY3Rpb248L2xpPjwvdWw+XG4gICAgICogQHN1bW1hcnkgVGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIEFQSVxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwQ29uZmlnKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPENvbmZpZ3VyYXRpb25KU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMjBDb25maWdXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlIEFjY291bnQgYXQgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCB3aXRoIElkIHNwZWNpZmllZCBieSBBQ0NPVU5UX0lELjwvcD48cD5UaGUgVXNlciBjYW4gY3JlYXRlIGFuIEFjY291bnQgZm9yIHRoZW1zZWxmIG9yIGFuIEFjY291bnQgZm9yIGFub3RoZXIgVXNlciBpZiB0aGV5IGhhdmUgQ2FuQ3JlYXRlQWNjb3VudCByb2xlLjwvcD48cD5JZiBVU0VSX0lEIGlzIG5vdCBzcGVjaWZpZWQgdGhlIGFjY291bnQgd2lsbCBiZSBvd25lZCBieSB0aGUgbG9nZ2VkIGluIFVzZXIuPC9wPjxwPk5vdGU6IFRoZSBBbW91bnQgbXVzdCBiZSB6ZXJvLjwvcD5cbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgQWNjb3VudFxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIyMENyZWF0ZUFjY291bnQoYm9keTogQ3JlYXRlQWNjb3VudEpTT05WMjIwLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q3JlYXRlQWNjb3VudEpTT05WMjIwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMjBDcmVhdGVBY2NvdW50V2l0aEh0dHBJbmZvKGJvZHksIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkNyZWF0ZSBhIG5ldyBiYW5rIChBdXRoZW50aWNhdGVkIGFjY2VzcykuIEF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeTwvcD5cbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgQmFua1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwQ3JlYXRlQmFuayhib2R5OiBCYW5rSlNPTlYyMjAsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEJhbmtKU09OVjIyMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMjIwQ3JlYXRlQmFua1dpdGhIdHRwSW5mbyhib2R5LCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5DcmVhdGUgb3IgVXBkYXRlIFByb2R1Y3QgZm9yIHRoZSBCYW5rLjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+PHA+T0JQLTIwMDA2OiBVc2VyIGlzIG1pc3Npbmcgb25lIG9yIG1vcmUgcm9sZXM6IENhbkNyZWF0ZVByb2R1Y3QgT1IgQ2FuQ3JlYXRlUHJvZHVjdEF0QW55QmFuazwvcD5cbiAgICAgKiBAc3VtbWFyeSBDcmVhdGUgUHJvZHVjdFxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMjBDcmVhdGVQcm9kdWN0KGJvZHk6IFByb2R1Y3RKc29uVjIyMCwgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxQcm9kdWN0SnNvblYyMjA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIyMENyZWF0ZVByb2R1Y3RXaXRoSHR0cEluZm8oYm9keSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R2V0IHRoZSBhbGwgbWV0cmljczwvcD48cD5yZXF1aXJlICRDYW5HZXRDb25uZWN0b3JNZXRyaWNzIHJvbGU8L3A+PHA+RmlsdGVycyBQYXJ0IDEuKmZpbHRlcmluZyogKG5vIHdpbGRlIGNhcmRzIGV0Yy4pIHBhcmFtZXRlcnMgdG8gR0VUIC9tYW5hZ2VtZW50L2Nvbm5lY3Rvci9tZXRyaWNzPC9wPjxwPlNob3VsZCBiZSBhYmxlIHRvIGZpbHRlciBvbiB0aGUgZm9sbG93aW5nIG1ldHJpY3MgZmllbGRzPC9wPjxwPmVnOiAvbWFuYWdlbWVudC9jb25uZWN0b3IvbWV0cmljcz9zdGFydF9kYXRlPTIwMTctMDMtMDEmYW1wO2VuZF9kYXRlPTIwMTctMDMtMDQmYW1wO2xpbWl0PTUwJmFtcDtvZmZzZXQ9MjwvcD48cD4xIHN0YXJ0X2RhdGUgKGRlZmF1bHRzIHRvIG9uZSB3ZWVrIGJlZm9yZSBjdXJyZW50IGRhdGUpOiBlZzpzdGFydF9kYXRlPTIwMTctMDMtMDE8L3A+PHA+MiBlbmRfZGF0ZSAoZGVmYXVsdHMgdG8gY3VycmVudCBkYXRlKSBlZzplbmRfZGF0ZT0yMDE3LTAzLTA1PC9wPjxwPjMgbGltaXQgKGZvciBwYWdpbmF0aW9uOiBkZWZhdWx0cyB0byAxMDAwKSBlZzpsaW1pdD0yMDAwPC9wPjxwPjQgb2Zmc2V0IChmb3IgcGFnaW5hdGlvbjogemVybyBpbmRleCwgZGVmYXVsdHMgdG8gMCkgZWc6IG9mZnNldD0xMDwvcD48cD5lZzogL21hbmFnZW1lbnQvY29ubmVjdG9yL21ldHJpY3M/c3RhcnRfZGF0ZT0yMDE2LTAzLTA1JmFtcDtlbmRfZGF0ZT0yMDE3LTAzLTA4JmFtcDtsaW1pdD0xMDAmYW1wO29mZnNldD0zMDA8L3A+PHA+T3RoZXIgZmlsdGVyczo8L3A+PHA+NSBjb25uZWN0b3JfbmFtZSAoaWYgbnVsbCBpZ25vcmUpPC9wPjxwPjYgZnVuY3Rpb25fbmFtZSAoaWYgbnVsbCBpZ25vcmUpPC9wPjxwPjcgY29ycmVsYXRpb25faWQgKGlmIG51bGwgaWdub3JlKTwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgQ29ubmVjdG9yIE1ldHJpY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIyMEdldENvbm5lY3Rvck1ldHJpY3MoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q29ubmVjdG9yTWV0cmljc0pzb24+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIyMEdldENvbm5lY3Rvck1ldHJpY3NXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+R2V0IHRoZSBjb3VudGVycGFydGllcyBmb3IgdGhlIGFjY291bnQgLyB2aWV3LjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnk8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IENvdW50ZXJwYXJ0aWVzIG9mIG9uZSBBY2NvdW50LlxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwR2V0Q291bnRlcnBhcnRpZXNGb3JBY2NvdW50KFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPENvdW50ZXJwYXJ0aWVzSnNvblYyMjA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzIyMEdldENvdW50ZXJwYXJ0aWVzRm9yQWNjb3VudFdpdGhIdHRwSW5mbyhWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgdGhlIGxhdGVzdCBGWFJhdGUgc3BlY2lmaWVkIGJ5IEJBTktfSUQsIEZST01fQ1VSUkVOQ1lfQ09ERSBhbmQgVE9fQ1VSUkVOQ1lfQ09ERSA8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IEN1cnJlbnQgRnhSYXRlXG4gICAgICogQHBhcmFtIFRPX0NVUlJFTkNZX0NPREUgVGhlIHRvIGN1cnJlbmN5IGNvZGVcbiAgICAgKiBAcGFyYW0gRlJPTV9DVVJSRU5DWV9DT0RFIFRoZSBmcm9tIGN1cnJlbmN5IGNvZGVcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwR2V0Q3VycmVudEZ4UmF0ZShUT19DVVJSRU5DWV9DT0RFOiBzdHJpbmcsIEZST01fQ1VSUkVOQ1lfQ09ERTogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEZYUmF0ZUpzb25WMjIwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMjBHZXRDdXJyZW50RnhSYXRlV2l0aEh0dHBJbmZvKFRPX0NVUlJFTkNZX0NPREUsIEZST01fQ1VSUkVOQ1lfQ09ERSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+VGhlc2UgbWVzc2FnZSBkb2NzIHByb3ZpZGUgZXhhbXBsZSBtZXNzYWdlcyBzZW50IGJ5IE9CUCB0byB0aGUgKEthZmthKSBtZXNzYWdlIHF1ZXVlIGZvciBwcm9jZXNzaW5nIGJ5IHRoZSBDb3JlIEJhbmtpbmcgLyBQYXltZW50IHN5c3RlbSBBZGFwdGVyIC0gdG9nZXRoZXIgd2l0aCBhbiBleGFtcGxlIGV4cGVjdGVkIHJlc3BvbnNlIGFuZCBwb3NzaWJsZSBlcnJvciBjb2Rlcy4gIEludGVncmF0b3JzIGNhbiB1c2UgdGhlc2UgbWVzc2FnZXMgdG8gYnVpbGQgQWRhcHRlcnMgdGhhdCBwcm92aWRlIGNvcmUgYmFua2luZyBzZXJ2aWNlcyB0byBPQlAuICBOb3RlOiBUbyBlbmFibGUgS2Fma2EgY29ubmVjdG9yIGFuZCB0aGlzIG1lc3NhZ2UgZm9ybWF0LCB5b3UgbXVzdCBzZXQgY29uZW5jdG9yPWthZmthX3ZNYXIyMDE3IGluIHlvdXIgUHJvcHM8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IE1lc3NhZ2UgRG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwR2V0TWVzc2FnZURvY3MoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8TWVzc2FnZURvY3NKc29uPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMyMjBHZXRNZXNzYWdlRG9jc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoZSBjb25maWd1cmF0aW9uIG9mIHRoZSBBUElcbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0OiZsdDsvcCZndDsmbHQ7dWwmZ3Q7ICAmbHQ7bGkmZ3Q7QWtrYSBwb3J0cyZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7RWxhc3RpYyBzZWFyY2ggcG9ydHMmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0NhY2hlZCBmdW5jdGlvbiZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIyMENvbmZpZ1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvY29uZmlnJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEFjY291bnRcbiAgICAgKiAmbHQ7cCZndDtDcmVhdGUgQWNjb3VudCBhdCBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEIHdpdGggSWQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBVc2VyIGNhbiBjcmVhdGUgYW4gQWNjb3VudCBmb3IgdGhlbXNlbGYgb3IgYW4gQWNjb3VudCBmb3IgYW5vdGhlciBVc2VyIGlmIHRoZXkgaGF2ZSBDYW5DcmVhdGVBY2NvdW50IHJvbGUuJmx0Oy9wJmd0OyZsdDtwJmd0O0lmIFVTRVJfSUQgaXMgbm90IHNwZWNpZmllZCB0aGUgYWNjb3VudCB3aWxsIGJlIG93bmVkIGJ5IHRoZSBsb2dnZWQgaW4gVXNlci4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7Tm90ZTogVGhlIEFtb3VudCBtdXN0IGJlIHplcm8uJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIyMENyZWF0ZUFjY291bnRXaXRoSHR0cEluZm8oYm9keTogQ3JlYXRlQWNjb3VudEpTT05WMjIwLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfSdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdib2R5JyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKGJvZHkgPT09IG51bGwgfHwgYm9keSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBib2R5IHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIyMENyZWF0ZUFjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMjBDcmVhdGVBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwQ3JlYXRlQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuUHV0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEJhbmtcbiAgICAgKiAmbHQ7cCZndDtDcmVhdGUgYSBuZXcgYmFuayAoQXV0aGVudGljYXRlZCBhY2Nlc3MpLiBBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIGJvZHkgQkFOS19CT0RZXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMjBDcmVhdGVCYW5rV2l0aEh0dHBJbmZvKGJvZHk6IEJhbmtKU09OVjIyMCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMjBDcmVhdGVCYW5rLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFByb2R1Y3RcbiAgICAgKiAmbHQ7cCZndDtDcmVhdGUgb3IgVXBkYXRlIFByb2R1Y3QgZm9yIHRoZSBCYW5rLiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBNYW5kYXRvcnkmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0JQLTIwMDA2OiBVc2VyIGlzIG1pc3Npbmcgb25lIG9yIG1vcmUgcm9sZXM6IENhbkNyZWF0ZVByb2R1Y3QgT1IgQ2FuQ3JlYXRlUHJvZHVjdEF0QW55QmFuayZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwQ3JlYXRlUHJvZHVjdFdpdGhIdHRwSW5mbyhib2R5OiBQcm9kdWN0SnNvblYyMjAsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vcHJvZHVjdHMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwQ3JlYXRlUHJvZHVjdC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzIyMENyZWF0ZVByb2R1Y3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBDb25uZWN0b3IgTWV0cmljc1xuICAgICAqICZsdDtwJmd0O0dldCB0aGUgYWxsIG1ldHJpY3MmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7cmVxdWlyZSAkQ2FuR2V0Q29ubmVjdG9yTWV0cmljcyByb2xlJmx0Oy9wJmd0OyZsdDtwJmd0O0ZpbHRlcnMgUGFydCAxLipmaWx0ZXJpbmcqIChubyB3aWxkZSBjYXJkcyBldGMuKSBwYXJhbWV0ZXJzIHRvIEdFVCAvbWFuYWdlbWVudC9jb25uZWN0b3IvbWV0cmljcyZsdDsvcCZndDsmbHQ7cCZndDtTaG91bGQgYmUgYWJsZSB0byBmaWx0ZXIgb24gdGhlIGZvbGxvd2luZyBtZXRyaWNzIGZpZWxkcyZsdDsvcCZndDsmbHQ7cCZndDtlZzogL21hbmFnZW1lbnQvY29ubmVjdG9yL21ldHJpY3M/c3RhcnRfZGF0ZSYjeDNEOzIwMTctMDMtMDEmYW1wO2FtcDtlbmRfZGF0ZSYjeDNEOzIwMTctMDMtMDQmYW1wO2FtcDtsaW1pdCYjeDNEOzUwJmFtcDthbXA7b2Zmc2V0JiN4M0Q7MiZsdDsvcCZndDsmbHQ7cCZndDsxIHN0YXJ0X2RhdGUgKGRlZmF1bHRzIHRvIG9uZSB3ZWVrIGJlZm9yZSBjdXJyZW50IGRhdGUpOiBlZzpzdGFydF9kYXRlJiN4M0Q7MjAxNy0wMy0wMSZsdDsvcCZndDsmbHQ7cCZndDsyIGVuZF9kYXRlIChkZWZhdWx0cyB0byBjdXJyZW50IGRhdGUpIGVnOmVuZF9kYXRlJiN4M0Q7MjAxNy0wMy0wNSZsdDsvcCZndDsmbHQ7cCZndDszIGxpbWl0IChmb3IgcGFnaW5hdGlvbjogZGVmYXVsdHMgdG8gMTAwMCkgZWc6bGltaXQmI3gzRDsyMDAwJmx0Oy9wJmd0OyZsdDtwJmd0OzQgb2Zmc2V0IChmb3IgcGFnaW5hdGlvbjogemVybyBpbmRleCwgZGVmYXVsdHMgdG8gMCkgZWc6IG9mZnNldCYjeDNEOzEwJmx0Oy9wJmd0OyZsdDtwJmd0O2VnOiAvbWFuYWdlbWVudC9jb25uZWN0b3IvbWV0cmljcz9zdGFydF9kYXRlJiN4M0Q7MjAxNi0wMy0wNSZhbXA7YW1wO2VuZF9kYXRlJiN4M0Q7MjAxNy0wMy0wOCZhbXA7YW1wO2xpbWl0JiN4M0Q7MTAwJmFtcDthbXA7b2Zmc2V0JiN4M0Q7MzAwJmx0Oy9wJmd0OyZsdDtwJmd0O090aGVyIGZpbHRlcnM6Jmx0Oy9wJmd0OyZsdDtwJmd0OzUgY29ubmVjdG9yX25hbWUgKGlmIG51bGwgaWdub3JlKSZsdDsvcCZndDsmbHQ7cCZndDs2IGZ1bmN0aW9uX25hbWUgKGlmIG51bGwgaWdub3JlKSZsdDsvcCZndDsmbHQ7cCZndDs3IGNvcnJlbGF0aW9uX2lkIChpZiBudWxsIGlnbm9yZSkmbHQ7L3AmZ3Q7XG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMjBHZXRDb25uZWN0b3JNZXRyaWNzV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9tYW5hZ2VtZW50L2Nvbm5lY3Rvci9tZXRyaWNzJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IENvdW50ZXJwYXJ0aWVzIG9mIG9uZSBBY2NvdW50LlxuICAgICAqICZsdDtwJmd0O0dldCB0aGUgY291bnRlcnBhcnRpZXMgZm9yIHRoZSBhY2NvdW50IC8gdmlldy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMjIwR2V0Q291bnRlcnBhcnRpZXNGb3JBY2NvdW50V2l0aEh0dHBJbmZvKFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS9jb3VudGVycGFydGllcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdWSUVXX0lEJyArICd9JywgU3RyaW5nKFZJRVdfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1ZJRVdfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVklFV19JRCA9PT0gbnVsbCB8fCBWSUVXX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFZJRVdfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwR2V0Q291bnRlcnBhcnRpZXNGb3JBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwR2V0Q291bnRlcnBhcnRpZXNGb3JBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwR2V0Q291bnRlcnBhcnRpZXNGb3JBY2NvdW50LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBDdXJyZW50IEZ4UmF0ZVxuICAgICAqICZsdDtwJmd0O0dldCB0aGUgbGF0ZXN0IEZYUmF0ZSBzcGVjaWZpZWQgYnkgQkFOS19JRCwgRlJPTV9DVVJSRU5DWV9DT0RFIGFuZCBUT19DVVJSRU5DWV9DT0RFICZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVE9fQ1VSUkVOQ1lfQ09ERSBUaGUgdG8gY3VycmVuY3kgY29kZVxuICAgICAqIEBwYXJhbSBGUk9NX0NVUlJFTkNZX0NPREUgVGhlIGZyb20gY3VycmVuY3kgY29kZVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMyMjBHZXRDdXJyZW50RnhSYXRlV2l0aEh0dHBJbmZvKFRPX0NVUlJFTkNZX0NPREU6IHN0cmluZywgRlJPTV9DVVJSRU5DWV9DT0RFOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vZngvJHtGUk9NX0NVUlJFTkNZX0NPREV9LyR7VE9fQ1VSUkVOQ1lfQ09ERX0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVE9fQ1VSUkVOQ1lfQ09ERScgKyAnfScsIFN0cmluZyhUT19DVVJSRU5DWV9DT0RFKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdGUk9NX0NVUlJFTkNZX0NPREUnICsgJ30nLCBTdHJpbmcoRlJPTV9DVVJSRU5DWV9DT0RFKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVE9fQ1VSUkVOQ1lfQ09ERScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChUT19DVVJSRU5DWV9DT0RFID09PSBudWxsIHx8IFRPX0NVUlJFTkNZX0NPREUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVE9fQ1VSUkVOQ1lfQ09ERSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMjBHZXRDdXJyZW50RnhSYXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0ZST01fQ1VSUkVOQ1lfQ09ERScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChGUk9NX0NVUlJFTkNZX0NPREUgPT09IG51bGwgfHwgRlJPTV9DVVJSRU5DWV9DT0RFID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEZST01fQ1VSUkVOQ1lfQ09ERSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMyMjBHZXRDdXJyZW50RnhSYXRlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMjIwR2V0Q3VycmVudEZ4UmF0ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgTWVzc2FnZSBEb2NzXG4gICAgICogJmx0O3AmZ3Q7VGhlc2UgbWVzc2FnZSBkb2NzIHByb3ZpZGUgZXhhbXBsZSBtZXNzYWdlcyBzZW50IGJ5IE9CUCB0byB0aGUgKEthZmthKSBtZXNzYWdlIHF1ZXVlIGZvciBwcm9jZXNzaW5nIGJ5IHRoZSBDb3JlIEJhbmtpbmcgLyBQYXltZW50IHN5c3RlbSBBZGFwdGVyIC0gdG9nZXRoZXIgd2l0aCBhbiBleGFtcGxlIGV4cGVjdGVkIHJlc3BvbnNlIGFuZCBwb3NzaWJsZSBlcnJvciBjb2Rlcy4gIEludGVncmF0b3JzIGNhbiB1c2UgdGhlc2UgbWVzc2FnZXMgdG8gYnVpbGQgQWRhcHRlcnMgdGhhdCBwcm92aWRlIGNvcmUgYmFua2luZyBzZXJ2aWNlcyB0byBPQlAuICBOb3RlOiBUbyBlbmFibGUgS2Fma2EgY29ubmVjdG9yIGFuZCB0aGlzIG1lc3NhZ2UgZm9ybWF0LCB5b3UgbXVzdCBzZXQgY29uZW5jdG9yJiN4M0Q7a2Fma2Ffdk1hcjIwMTcgaW4geW91ciBQcm9wcyZsdDsvcCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzIyMEdldE1lc3NhZ2VEb2NzV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9tZXNzYWdlLWRvY3MvbWFyMjAxNyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9mdW5jMjIwLnNlcnZpY2UudHMiLCIvKipcbiAqIE9wZW4gQmFuayBQcm9qZWN0IEFQSVxuICogQW4gT3BlbiBTb3VyY2UgQVBJIGZvciBCYW5rcy4gKGMpIFRFU09CRSBMdGQuIDIwMTEgLSAyMDE2LiBMaWNlbnNlZCB1bmRlciB0aGUgQUdQTCBhbmQgY29tbWVyY2lhbCBsaWNlbmNlcy5cbiAqXG4gKiBPcGVuQVBJIHNwZWMgdmVyc2lvbjogdjMuMC4wXG4gKiBDb250YWN0OiBjb250YWN0QHRlc29iZS5jb21cbiAqXG4gKiBOT1RFOiBUaGlzIGNsYXNzIGlzIGF1dG8gZ2VuZXJhdGVkIGJ5IHRoZSBzd2FnZ2VyIGNvZGUgZ2VuZXJhdG9yIHByb2dyYW0uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuLmdpdFxuICogRG8gbm90IGVkaXQgdGhlIGNsYXNzIG1hbnVhbGx5LlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSBtZW1iZXItb3JkZXJpbmcgKi9cblxuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBPcHRpb25hbCB9ICAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cCwgSGVhZGVycywgVVJMU2VhcmNoUGFyYW1zIH0gICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVxdWVzdE1ldGhvZCwgUmVxdWVzdE9wdGlvbnMsIFJlcXVlc3RPcHRpb25zQXJncyB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgUmVzcG9uc2UsIFJlc3BvbnNlQ29udGVudFR5cGUgfSAgICAgICAgICAgICAgICAgICAgIGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcbmltcG9ydCAnLi4vcnhqcy1vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBBdG1Kc29uVjMwMCB9IGZyb20gJy4uL21vZGVsL2F0bUpzb25WMzAwJztcbmltcG9ydCB7IEJyYW5jaEpzb25WMzAwIH0gZnJvbSAnLi4vbW9kZWwvYnJhbmNoSnNvblYzMDAnO1xuaW1wb3J0IHsgQnJhbmNoZXNKc29uVjMwMCB9IGZyb20gJy4uL21vZGVsL2JyYW5jaGVzSnNvblYzMDAnO1xuaW1wb3J0IHsgQ29yZUFjY291bnRzSnNvblYzMDAgfSBmcm9tICcuLi9tb2RlbC9jb3JlQWNjb3VudHNKc29uVjMwMCc7XG5pbXBvcnQgeyBDcmVhdGVWaWV3SnNvbiB9IGZyb20gJy4uL21vZGVsL2NyZWF0ZVZpZXdKc29uJztcbmltcG9ydCB7IEVycm9yQmFua0FjY291bnROb3RGb3VuZCB9IGZyb20gJy4uL21vZGVsL2Vycm9yQmFua0FjY291bnROb3RGb3VuZCc7XG5pbXBvcnQgeyBFcnJvckJhbmtOb3RGb3VuZCB9IGZyb20gJy4uL21vZGVsL2Vycm9yQmFua05vdEZvdW5kJztcbmltcG9ydCB7IEVycm9yRmlsdGVyU29ydERpcmVjdGlvbkVycm9yIH0gZnJvbSAnLi4vbW9kZWwvZXJyb3JGaWx0ZXJTb3J0RGlyZWN0aW9uRXJyb3InO1xuaW1wb3J0IHsgRXJyb3JJbnZhbGlkSnNvbkZvcm1hdCB9IGZyb20gJy4uL21vZGVsL2Vycm9ySW52YWxpZEpzb25Gb3JtYXQnO1xuaW1wb3J0IHsgRXJyb3JVc2VyTm90TG9nZ2VkSW4gfSBmcm9tICcuLi9tb2RlbC9lcnJvclVzZXJOb3RMb2dnZWRJbic7XG5pbXBvcnQgeyBNb2RlcmF0ZWRBY2NvdW50SlNPTiB9IGZyb20gJy4uL21vZGVsL21vZGVyYXRlZEFjY291bnRKU09OJztcbmltcG9ydCB7IE1vZGVyYXRlZENvcmVBY2NvdW50SlNPTiB9IGZyb20gJy4uL21vZGVsL21vZGVyYXRlZENvcmVBY2NvdW50SlNPTic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbnNKU09OIH0gZnJvbSAnLi4vbW9kZWwvdHJhbnNhY3Rpb25zSlNPTic7XG5pbXBvcnQgeyBVcGRhdGVWaWV3SlNPTiB9IGZyb20gJy4uL21vZGVsL3VwZGF0ZVZpZXdKU09OJztcbmltcG9ydCB7IFVzZXJzSlNPTlYyMDAgfSBmcm9tICcuLi9tb2RlbC91c2Vyc0pTT05WMjAwJztcbmltcG9ydCB7IFZpZXdKc29uVjMwMCB9IGZyb20gJy4uL21vZGVsL3ZpZXdKc29uVjMwMCc7XG5pbXBvcnQgeyBWaWV3c0pzb25WMzAwIH0gZnJvbSAnLi4vbW9kZWwvdmlld3NKc29uVjMwMCc7XG5cbmltcG9ydCB7IEJBU0VfUEFUSCwgQ09MTEVDVElPTl9GT1JNQVRTIH0gICAgICAgICAgICAgICAgICAgICBmcm9tICcuLi92YXJpYWJsZXMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdGlvbiB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGdW5jXzNfMF8wU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYmFzZVBhdGggPSAnaHR0cDovL2FwYy5vcGVuYmFua3Byb2plY3QuY29tL29icC92My4wLjAnO1xuICAgIHB1YmxpYyBkZWZhdWx0SGVhZGVyczogSGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgcHVibGljIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGh0dHA6IEh0dHAsIEBPcHRpb25hbCgpQEluamVjdChCQVNFX1BBVEgpIGJhc2VQYXRoOiBzdHJpbmcsIEBPcHRpb25hbCgpIGNvbmZpZ3VyYXRpb246IENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgaWYgKGJhc2VQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvbiA9IGNvbmZpZ3VyYXRpb247XG5cdFx0XHR0aGlzLmJhc2VQYXRoID0gYmFzZVBhdGggfHwgY29uZmlndXJhdGlvbi5iYXNlUGF0aCB8fCB0aGlzLmJhc2VQYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogRXh0ZW5kcyBvYmplY3QgYnkgY29waW5nIG5vbi1leGlzdGluZyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSBvYmpBIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICAgICAqIEBwYXJhbSBvYmpCIHNvdXJjZSBvYmplY3RcbiAgICAgKi9cbiAgICBwcml2YXRlIGV4dGVuZE9iajxUMSxUMj4ob2JqQTogVDEsIG9iakI6IFQyKSB7XG4gICAgICAgIGZvcihsZXQga2V5IGluIG9iakIpe1xuICAgICAgICAgICAgaWYob2JqQi5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcbiAgICAgICAgICAgICAgICAob2JqQSBhcyBhbnkpW2tleV0gPSAob2JqQiBhcyBhbnkpW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxUMSZUMj5vYmpBO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb25zdW1lcyBzdHJpbmdbXSBtaW1lLXR5cGVzXG4gICAgICogQHJldHVybiB0cnVlOiBjb25zdW1lcyBjb250YWlucyAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIGZhbHNlOiBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBwcml2YXRlIGNhbkNvbnN1bWVGb3JtKGNvbnN1bWVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBmb3JtID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuICAgICAgICBmb3IgKGxldCBjb25zdW1lIG9mIGNvbnN1bWVzKSB7XG4gICAgICAgICAgICBpZiAoZm9ybSA9PT0gY29uc3VtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5JbmZvcm1hdGlvbiByZXR1cm5lZCBhYm91dCBhbiBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEIGFzIG1vZGVyYXRlZCBieSB0aGUgdmlldyAoVklFV19JRCk6PC9wPjx1bD4gIDxsaT5OdW1iZXI8L2xpPiAgPGxpPk93bmVyczwvbGk+ICA8bGk+VHlwZTwvbGk+ICA8bGk+QmFsYW5jZTwvbGk+ICA8bGk+SUJBTjwvbGk+ICA8bGk+QXZhaWxhYmxlIHZpZXdzIChzb3J0ZWQgYnkgc2hvcnRfbmFtZSk8L2xpPjwvdWw+PHA+TW9yZSBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIG1vZGVyYXRpb24gYnkgdGhlIHZpZXcgPGEgaHJlZj1cXFwiIzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXFwiPmhlcmU8L2E+LjwvcD48cD5QU0QyIENvbnRleHQ6IFBTRDIgcmVxdWlyZXMgY3VzdG9tZXJzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZWlyIGFjY291bnQgaW5mb3JtYXRpb24gdmlhIHRoaXJkIHBhcnR5IGFwcGxpY2F0aW9ucy4gVGhpcyBjYWxsIHByb3ZpZGVzIGJhbGFuY2UgYW5kIG90aGVyIGFjY291bnQgaW5mb3JtYXRpb24gdmlhIGRlbGVnYXRlZCBhdXRoZW50aWNhaXRvbiB1c2luZyBPQXV0aC48L3A+PHA+T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgaWYgdGhlICdpc19wdWJsaWMnIGZpZWxkIGluIHZpZXcgKFZJRVdfSUQpIGlzIG5vdCBzZXQgdG8gPGNvZGU+dHJ1ZTwvY29kZT4uPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBBY2NvdW50IGJ5IElkIChGdWxsKVxuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwQWNjb3VudEJ5SWQoVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8TW9kZXJhdGVkQWNjb3VudEpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMEFjY291bnRCeUlkV2l0aEh0dHBJbmZvKFZJRVdfSUQsIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCBwcml2YXRlIGFjY291bnRzIGF0IGFsbCBiYW5rcyAoQXV0aGVudGljYXRlZCBhY2Nlc3MpIFJldHVybnMgdGhlIGxpc3Qgb2YgYWNjb3VudHMgY29udGFpbmluZyBwcml2YXRlIHZpZXdzIGZvciB0aGUgdXNlciBhdCBhbGwgYmFua3MuIEZvciBlYWNoIGFjY291bnQgdGhlIEFQSSByZXR1cm5zIHRoZSBJRCBhbmQgdGhlIGF2YWlsYWJsZSB2aWV3cy48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5PC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBBY2NvdW50cyBhdCBhbGwgQmFua3MgKFByaXZhdGUpXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBDb3JlUHJpdmF0ZUFjY291bnRzQWxsQmFua3MoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Q29yZUFjY291bnRzSnNvblYzMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMENvcmVQcml2YXRlQWNjb3VudHNBbGxCYW5rc1dpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5DcmVhdGUgQVRNIGZvciB0aGUgQmFuay48L3A+PHA+QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5PC9wPjxwPk9CUC0yMDAwNjogVXNlciBpcyBtaXNzaW5nIG9uZSBvciBtb3JlIHJvbGVzOiBDYW5DcmVhdGVBdG0gT1IgQ2FuQ3JlYXRlQXRtQXRBbnlCYW5rPC9wPlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBBVE1cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwQ3JlYXRlQXRtKGJvZHk6IEF0bUpzb25WMzAwLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEF0bUpzb25WMzAwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMzMDBDcmVhdGVBdG1XaXRoSHR0cEluZm8oYm9keSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlIEJyYW5jaCBmb3IgdGhlIEJhbmsuPC9wPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeTwvcD48cD5PQlAtMjAwMDY6IFVzZXIgaXMgbWlzc2luZyBvbmUgb3IgbW9yZSByb2xlczogQ2FuQ3JlYXRlQnJhbmNoIGVudGl0bGVtZW50cyBhcmUgcmVxdWlyZWQgT1IgQ2FuQ3JlYXRlQnJhbmNoQXRBbnlCYW5rPC9wPlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBCcmFuY2hcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwQ3JlYXRlQnJhbmNoKGJvZHk6IEJyYW5jaEpzb25WMzAwLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPEJyYW5jaEpzb25WMzAwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMzMDBDcmVhdGVCcmFuY2hXaXRoSHR0cEluZm8oYm9keSwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlIGEgdmlldyBvbiBiYW5rIGFjY291bnQ8L3A+PHA+T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LiAgVGhlICdhbGlhcycgZmllbGQgaW4gdGhlIEpTT04gY2FuIHRha2Ugb25lIG9mIHRocmVlIHZhbHVlczo8L3A+PHVsPiAgPGxpPjxlbT5wdWJsaWM8L2VtPjogdG8gdXNlIHRoZSBwdWJsaWMgYWxpYXMgaWYgdGhlcmUgaXMgb25lIHNwZWNpZmllZCBmb3IgdGhlIG90aGVyIGFjY291bnQuPC9saT4gIDxsaT48ZW0+cHJpdmF0ZTwvZW0+OiB0byB1c2UgdGhlIHB1YmxpYyBhbGlhcyBpZiB0aGVyZSBpcyBvbmUgc3BlY2lmaWVkIGZvciB0aGUgb3RoZXIgYWNjb3VudC48L2xpPiAgPGxpPiAgPHA+PGVtPicnKGVtcHR5IHN0cmluZyk8L2VtPjogdG8gdXNlIG5vIGFsaWFzOyB0aGUgdmlldyBzaG93cyB0aGUgcmVhbCBuYW1lIG9mIHRoZSBvdGhlciBhY2NvdW50LjwvcD48L2xpPjwvdWw+PHA+VGhlICdoaWRlX21ldGFkYXRhX2lmX2FsaWFzX3VzZWQnIGZpZWxkIGluIHRoZSBKU09OIGNhbiB0YWtlIGJvb2xlYW4gdmFsdWVzLiBJZiBpdCBpcyBzZXQgdG8gPGNvZGU+dHJ1ZTwvY29kZT4gYW5kIHRoZXJlIGlzIGFuIGFsaWFzIG9uIHRoZSBvdGhlciBhY2NvdW50IHRoZW4gdGhlIG90aGVyIGFjY291bnRzJyBtZXRhZGF0YSAobGlrZSBtb3JlX2luZm8sIHVybCwgaW1hZ2VfdXJsLCBvcGVuX2NvcnBvcmF0ZXNfdXJsLCBldGMuKSB3aWxsIGJlIGhpZGRlbi4gT3RoZXJ3aXNlIHRoZSBtZXRhZGF0YSB3aWxsIGJlIHNob3duLjwvcD48cD5UaGUgJ2FsbG93ZWRfYWN0aW9ucycgZmllbGQgaXMgYSBsaXN0IGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGFjdGlvbnMgYWxsb3dlZCBvbiB0aGlzIHZpZXcsIGFsbCB0aGUgYWN0aW9ucyBjb250YWluZWQgd2lsbCBiZSBzZXQgdG8gPGNvZGU+dHJ1ZTwvY29kZT4gb24gdGhlIHZpZXcgY3JlYXRpb24sIHRoZSByZXN0IHdpbGwgYmUgc2V0IHRvIDxjb2RlPmZhbHNlPC9jb2RlPi48L3A+PHA+WW91IHNob3VsZCB1c2UgYSBsZWFkaW5nIF8gKHVuZGVyc2NvcmUpIGZvciB0aGUgdmlldyBuYW1lIGJlY2F1c2Ugb3RoZXIgdmlldyBuYW1lcyBtYXkgYmVjb21lIHJlc2VydmVkIGJ5IE9CUCBpbnRlcm5hbGx5PC9wPlxuICAgICAqIEBzdW1tYXJ5IENyZWF0ZSBWaWV3LlxuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMENyZWF0ZVZpZXdGb3JCYW5rQWNjb3VudChib2R5OiBDcmVhdGVWaWV3SnNvbiwgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFZpZXdKc29uVjMwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwQ3JlYXRlVmlld0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKGJvZHksIEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPkdldCBhIGJhc2ljIEFkYXB0ZXIgaW5mbzwvcD48cD5Mb2dpbiBpcyByZXF1aXJlZC48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IEluZm8gT2YgQWRhcHRlclxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRBZGFwdGVyKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VXNlcnNKU09OVjIwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0QWRhcHRlcldpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IEFUTSBmb3IgYSBzaW5nbGUgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCBhbmQgQVRNX0lEIGluY2x1ZGluZzo8L3A+PHVsPiAgPGxpPkFkZHJlc3M8L2xpPiAgPGxpPkdlbyBMb2NhdGlvbjwvbGk+ICA8bGk+TGljZW5zZSB0aGUgZGF0YSB1bmRlciB0aGlzIGVuZHBvaW50IGlzIHJlbGVhc2VkIHVuZGVyPC9saT48L3VsPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBCYW5rIEFUTVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRBdG0oQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxBdG1Kc29uVjMwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0QXRtV2l0aEh0dHBJbmZvKEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgQVRNcyBmb3IgYSBzaW5nbGUgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCBpbmNsdWRpbmc6PC9wPjx1bD4gIDxsaT5BZGRyZXNzPC9saT4gIDxsaT5HZW8gTG9jYXRpb248L2xpPiAgPGxpPkxpY2Vuc2UgdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlcjwvbGk+PC91bD48cD5BdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbDwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgQmFuayBBVE1TXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldEF0bXMoQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxBdG1Kc29uVjMwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0QXRtc1dpdGhIdHRwSW5mbyhCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGJyYW5jaGVzIGZvciBhIHNpbmdsZSBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEIGFuZCBCUkFOQ0hfSUQgaW5jbHVkaW5nOiAgbWV0YS5saWNlbnNlLmlkIGFuZCBldGEubGljZW5zZS5uYW1lIGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eS48L3A+PHVsPiAgPGxpPk5hbWU8L2xpPiAgPGxpPkFkZHJlc3M8L2xpPiAgPGxpPkdlbyBMb2NhdGlvbjwvbGk+ICA8bGk+TGljZW5zZSB0aGUgZGF0YSB1bmRlciB0aGlzIGVuZHBvaW50IGlzIHJlbGVhc2VkIHVuZGVyPC9saT48L3VsPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBCYW5rIEJyYW5jaFxuICAgICAqIEBwYXJhbSBCUkFOQ0hfSUQgVGhlIGJyYW5jaCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRCcmFuY2goQlJBTkNIX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QnJhbmNoSnNvblYzMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMEdldEJyYW5jaFdpdGhIdHRwSW5mbyhCUkFOQ0hfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgYnJhbmNoZXMgZm9yIGEgc2luZ2xlIGJhbmsgc3BlY2lmaWVkIGJ5IEJBTktfSUQgaW5jbHVkaW5nOjwvcD48dWw+ICA8bGk+TmFtZTwvbGk+ICA8bGk+QWRkcmVzczwvbGk+ICA8bGk+R2VvIExvY2F0aW9uPC9saT4gIDxsaT5MaWNlbnNlIHRoZSBkYXRhIHVuZGVyIHRoaXMgZW5kcG9pbnQgaXMgcmVsZWFzZWQgdW5kZXI8L2xpPiAgPGxpPlN0cnVjdHVyZWQgb3BlbmluZyBob3VyczwvbGk+ICA8bGk+QWNjZXNzaWJsZSBmbGFnPC9saT4gIDxsaT5CcmFuY2ggVHlwZTwvbGk+ICA8bGk+TW9yZSBJbmZvPC9saT48L3VsPjxwPkF1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBCcmFuY2hlcyBmb3IgYSBCYW5rXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldEJyYW5jaGVzKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8QnJhbmNoZXNKc29uVjMwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0QnJhbmNoZXNXaXRoSHR0cEluZm8oQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPHA+SW5mb3JtYXRpb24gcmV0dXJuZWQgYWJvdXQgdGhlIGFjY291bnQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQ6PC9wPjx1bD4gIDxsaT5OdW1iZXI8L2xpPiAgPGxpPk93bmVyczwvbGk+ICA8bGk+VHlwZTwvbGk+ICA8bGk+QmFsYW5jZTwvbGk+ICA8bGk+SUJBTjwvbGk+PC91bD48cD5UaGlzIGNhbGwgcmV0dXJucyB0aGUgb3duZXIgdmlldyBhbmQgcmVxdWlyZXMgYWNjZXNzIHRvIHRoYXQgdmlldy48L3A+PHA+T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQ8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IEFjY291bnQgYnkgSWQgKENvcmUpXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0Q29yZUFjY291bnRCeUlkKEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxNb2RlcmF0ZWRDb3JlQWNjb3VudEpTT04+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMEdldENvcmVBY2NvdW50QnlJZFdpdGhIdHRwSW5mbyhBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5SZXR1cm5zIHRyYW5zYWN0aW9ucyBsaXN0IChDb3JlIGluZm8pIG9mIHRoZSBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lELjwvcD48cD5BdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZC48L3A+PHA+UG9zc2libGUgY3VzdG9tIGhlYWRlcnMgZm9yIHBhZ2luYXRpb246PC9wPjx1bD4gIDxsaT5vYnBfc29ydF9ieT1DUklURVJJQSA9PSZndDsgZGVmYXVsdCB2YWx1ZTogXFxcImNvbXBsZXRlZFxcXCIgZmllbGQ8L2xpPiAgPGxpPm9icF9zb3J0X2RpcmVjdGlvbj1BU0MvREVTQyA9PSZndDsgZGVmYXVsdCB2YWx1ZTogREVTQzwvbGk+ICA8bGk+b2JwX2xpbWl0PU5VTUJFUiA9PSZndDsgZGVmYXVsdCB2YWx1ZTogNTA8L2xpPiAgPGxpPm9icF9vZmZzZXQ9TlVNQkVSID09Jmd0OyBkZWZhdWx0IHZhbHVlOiAwPC9saT4gIDxsaT5vYnBfZnJvbV9kYXRlPURBVEUgPSZndDsgZGVmYXVsdCB2YWx1ZTogZGF0ZSBvZiB0aGUgb2xkZXN0IHRyYW5zYWN0aW9uIHJlZ2lzdGVyZWQgKGZvcm1hdCBiZWxvdyk8L2xpPiAgPGxpPm9icF90b19kYXRlPURBVEUgPSZndDsgZGVmYXVsdCB2YWx1ZTogZGF0ZSBvZiB0aGUgbmV3ZXN0IHRyYW5zYWN0aW9uIHJlZ2lzdGVyZWQgKGZvcm1hdCBiZWxvdyk8L2xpPjwvdWw+PHA+PHN0cm9uZz5EYXRlIGZvcm1hdCBwYXJhbWV0ZXI8L3N0cm9uZz46IFxcXCJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MuU1NTJ1onXFxcIiAoMjAxNC0wNy0wMVQwMDowMDowMC4wMDBaKSA9PSZndDsgdGltZSB6b25lIGlzIFVUQy48L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IFRyYW5zYWN0aW9ucyBmb3IgQWNjb3VudCAoQ29yZSlcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRDb3JlVHJhbnNhY3Rpb25zRm9yQmFua0FjY291bnQoQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPE1vZGVyYXRlZENvcmVBY2NvdW50SlNPTj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0Q29yZVRyYW5zYWN0aW9uc0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKEFDQ09VTlRfSUQsIEJBTktfSUQsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxwPlJldHVybnMgdHJhbnNhY3Rpb25zIGxpc3Qgb2YgdGhlIGFjY291bnQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQgYW5kIDxhIGhyZWY9XFxcIiMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFxcIj5tb2RlcmF0ZWQ8L2E+IGJ5IHRoZSB2aWV3IChWSUVXX0lEKS48L3A+PHA+QXV0aGVudGljYXRpb24gdmlhIE9BdXRoIGlzIHJlcXVpcmVkIGlmIHRoZSB2aWV3IGlzIG5vdCBwdWJsaWMuPC9wPjxwPlBvc3NpYmxlIGN1c3RvbSBoZWFkZXJzIGZvciBwYWdpbmF0aW9uOjwvcD48dWw+ICA8bGk+b2JwX3NvcnRfYnk9Q1JJVEVSSUEgPT0mZ3Q7IGRlZmF1bHQgdmFsdWU6IFxcXCJjb21wbGV0ZWRcXFwiIGZpZWxkPC9saT4gIDxsaT5vYnBfc29ydF9kaXJlY3Rpb249QVNDL0RFU0MgPT0mZ3Q7IGRlZmF1bHQgdmFsdWU6IERFU0M8L2xpPiAgPGxpPm9icF9saW1pdD1OVU1CRVIgPT0mZ3Q7IGRlZmF1bHQgdmFsdWU6IDUwPC9saT4gIDxsaT5vYnBfb2Zmc2V0PU5VTUJFUiA9PSZndDsgZGVmYXVsdCB2YWx1ZTogMDwvbGk+ICA8bGk+b2JwX2Zyb21fZGF0ZT1EQVRFID0mZ3Q7IGRlZmF1bHQgdmFsdWU6IGRhdGUgb2YgdGhlIG9sZGVzdCB0cmFuc2FjdGlvbiByZWdpc3RlcmVkIChmb3JtYXQgYmVsb3cpPC9saT4gIDxsaT5vYnBfdG9fZGF0ZT1EQVRFID0mZ3Q7IGRlZmF1bHQgdmFsdWU6IGRhdGUgb2YgdGhlIG5ld2VzdCB0cmFuc2FjdGlvbiByZWdpc3RlcmVkIChmb3JtYXQgYmVsb3cpPC9saT48L3VsPjxwPjxzdHJvbmc+RGF0ZSBmb3JtYXQgcGFyYW1ldGVyPC9zdHJvbmc+OiBcXFwieXl5eS1NTS1kZCdUJ0hIOm1tOnNzLlNTUydaJ1xcXCIgKDIwMTQtMDctMDFUMDA6MDA6MDAuMDAwWikgPT0mZ3Q7IHRpbWUgem9uZSBpcyBVVEMuPC9wPlxuICAgICAqIEBzdW1tYXJ5IEdldCBUcmFuc2FjdGlvbnMgZm9yIEFjY291bnQgKEZ1bGwpXG4gICAgICogQHBhcmFtIFZJRVdfSUQgVGhlIHZpZXcgaWRcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRUcmFuc2FjdGlvbnNGb3JCYW5rQWNjb3VudChWSUVXX0lEOiBzdHJpbmcsIEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxUcmFuc2FjdGlvbnNKU09OPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMzMDBHZXRUcmFuc2FjdGlvbnNGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhWSUVXX0lELCBBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgdXNlcnMgYnkgZW1haWwgYWRkcmVzczwvcD48cD5Mb2dpbiBpcyByZXF1aXJlZC4gQ2FuR2V0QW55VXNlciBlbnRpdGxlbWVudCBpcyByZXF1aXJlZCw8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IFVzZXJzIGJ5IEVtYWlsIEFkZHJlc3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFVzZXIoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8VXNlcnNKU09OVjIwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0VXNlcldpdGhIdHRwSW5mbyhleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgdXNlciBieSBVU0VSX0lEPC9wPjxwPkxvZ2luIGlzIHJlcXVpcmVkLiBDYW5HZXRBbnlVc2VyIGVudGl0bGVtZW50IGlzIHJlcXVpcmVkLDwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgVXNlciBieSBVU0VSX0lEXG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFVzZXJCeVVzZXJJZChVU0VSX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFVzZXJzSlNPTlYyMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMEdldFVzZXJCeVVzZXJJZFdpdGhIdHRwSW5mbyhVU0VSX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5HZXQgdXNlciBieSBVU0VSTkFNRTwvcD48cD5Mb2dpbiBpcyByZXF1aXJlZC4gQ2FuR2V0QW55VXNlciBlbnRpdGxlbWVudCBpcyByZXF1aXJlZCw8L3A+XG4gICAgICogQHN1bW1hcnkgR2V0IFVzZXIgYnkgVVNFUk5BTUVcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFVzZXJCeVVzZXJuYW1lKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFVzZXJzSlNPTlYyMDA+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuYzMwMEdldFVzZXJCeVVzZXJuYW1lV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpXG4gICAgICAgICAgICAubWFwKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDxoMT5WaWV3czwvaDE+PHA+Vmlld3MgaW4gT3BlbiBCYW5rIFByb2plY3QgcHJvdmlkZSBhIG1lY2hhbmlzbSBmb3IgZmluZSBncmFpbmVkIGFjY2VzcyBjb250cm9sIGFuZCBkZWxlZ2F0aW9uIHRvIEFjY291bnRzIGFuZCBUcmFuc2FjdGlvbnMuIEFjY291bnQgaG9sZGVycyB1c2UgdGhlICdvd25lcicgdmlldyBieSBkZWZhdWx0LiBEZWxlZ2F0ZWQgYWNjZXNzIGlzIG1hZGUgdGhyb3VnaCBvdGhlciB2aWV3cyBmb3IgZXhhbXBsZSAnYWNjb3VudGFudHMnLCAnc2hhcmUtaG9sZGVycycgb3IgJ3RhZ2dpbmctYXBwbGljYXRpb24nLiBWaWV3cyBjYW4gYmUgY3JlYXRlZCB2aWEgdGhlIEFQSSBhbmQgZWFjaCB2aWV3IGhhcyBhIGxpc3Qgb2YgZW50aXRsZW1lbnRzLjwvcD48cD5WaWV3cyBvbiBhY2NvdW50cyBhbmQgdHJhbnNhY3Rpb25zIGZpbHRlciB0aGUgdW5kZXJseWluZyBkYXRhIHRvIHJlZGFjdCBjZXJ0YWluIGZpZWxkcyBmb3IgY2VydGFpbiB1c2Vycy4gRm9yIGluc3RhbmNlIHRoZSBiYWxhbmNlIG9uIGFuIGFjY291bnQgbWF5IGJlIGhpZGRlbiBmcm9tIHRoZSBwdWJsaWMuIFRoZSB3YXkgdG8ga25vdyB3aGF0IGlzIHBvc3NpYmxlIG9uIGEgdmlldyBpcyBkZXRlcm1pbmVkIGluIHRoZSBmb2xsb3dpbmcgSlNPTi48L3A+PHA+PHN0cm9uZz5EYXRhOjwvc3Ryb25nPiBXaGVuIGEgdmlldyBtb2RlcmF0ZXMgYSBzZXQgb2YgZGF0YSwgc29tZSBmaWVsZHMgbXkgY29udGFpbiB0aGUgdmFsdWUgPGNvZGU+bnVsbDwvY29kZT4gcmF0aGVyIHRoYW4gdGhlIG9yaWdpbmFsIHZhbHVlLiBUaGlzIGluZGljYXRlcyBlaXRoZXIgdGhhdCB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byBzZWUgdGhlIG9yaWdpbmFsIGRhdGEgb3IgdGhlIGZpZWxkIGlzIGVtcHR5LjwvcD48cD5UaGVyZSBpcyBjdXJyZW50bHkgb25lIGV4Y2VwdGlvbiB0byB0aGlzIHJ1bGU7IHRoZSAnaG9sZGVyJyBmaWVsZCBpbiB0aGUgSlNPTiBjb250YWlucyBhbHdheXMgYSB2YWx1ZSB3aGljaCBpcyBlaXRoZXIgYW4gYWxpYXMgb3IgdGhlIHJlYWwgbmFtZSAtIGluZGljYXRlZCBieSB0aGUgJ2lzX2FsaWFzJyBmaWVsZC48L3A+PHA+PHN0cm9uZz5BY3Rpb246PC9zdHJvbmc+IFdoZW4gYSB1c2VyIHBlcmZvcm1zIGFuIGFjdGlvbiBsaWtlIHRyeWluZyB0byBwb3N0IGEgY29tbWVudCAod2l0aCBQT1NUIEFQSSBjYWxsKSwgaWYgaGUgaXMgbm90IGFsbG93ZWQsIHRoZSBib2R5IHJlc3BvbnNlIHdpbGwgY29udGFpbiBhbiBlcnJvciBtZXNzYWdlLjwvcD48cD48c3Ryb25nPk1ldGFkYXRhOjwvc3Ryb25nPiBUcmFuc2FjdGlvbiBtZXRhZGF0YSAobGlrZSBpbWFnZXMsIHRhZ3MsIGNvbW1lbnRzLCBldGMuKSB3aWxsIGFwcGVhcnMgPGVtPk9OTFk8L2VtPiBvbiB0aGUgdmlldyB3aGVyZSB0aGV5IGhhdmUgYmVlbiBjcmVhdGVkIGUuZy4gY29tbWVudHMgcG9zdGVkIHRvIHRoZSBwdWJsaWMgdmlldyBvbmx5IGFwcGVhciBvbiB0aGUgcHVibGljIHZpZXcuPC9wPjxwPlRoZSBvdGhlciBhY2NvdW50IG1ldGFkYXRhIGZpZWxkcyAobGlrZSBpbWFnZV9VUkwsIG1vcmVfaW5mbywgZXRjLikgYXJlIHVuaXF1ZSB0aHJvdWdoIGFsbCB0aGUgdmlld3MuIEV4YW1wbGUsIGlmIGEgdXNlciBlZGl0cyB0aGUgJ21vcmVfaW5mbycgZmllbGQgaW4gdGhlICd0ZWFtJyB2aWV3LCB0aGVuIHRoZSB2aWV3ICdhdXRob3JpdGllcycgd2lsbCBzaG93IHRoZSBuZXcgdmFsdWUgKGlmIGl0IGlzIGFsbG93ZWQgdG8gZG8gaXQpLjwvcD48aDE+QWxsPC9oMT48cD48ZW0+T3B0aW9uYWw8L2VtPjwvcD48cD5SZXR1cm5zIHRoZSBsaXN0IG9mIHRoZSB2aWV3cyBjcmVhdGVkIGZvciBhY2NvdW50IEFDQ09VTlRfSUQgYXQgQkFOS19JRC48L3A+PHA+T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LjwvcD5cbiAgICAgKiBAc3VtbWFyeSBHZXQgVmlld3MgZm9yIEFjY291bnQuXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0Vmlld3NGb3JCYW5rQWNjb3VudChBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Vmlld3NKc29uVjMwMD4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mdW5jMzAwR2V0Vmlld3NGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhBQ0NPVU5UX0lELCBCQU5LX0lELCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKVxuICAgICAgICAgICAgLm1hcCgocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA8cD5VcGRhdGUgYW4gZXhpc3RpbmcgdmlldyBvbiBhIGJhbmsgYWNjb3VudDwvcD48cD5PQXV0aCBhdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZCBhbmQgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIG93bmVyIHZpZXcuPC9wPjxwPlRoZSBqc29uIHNlbnQgaXMgdGhlIHNhbWUgYXMgZHVyaW5nIHZpZXcgY3JlYXRpb24gKGFib3ZlKSwgd2l0aCBvbmUgZGlmZmVyZW5jZTogdGhlICduYW1lJyBmaWVsZCBvZiBhIHZpZXcgaXMgbm90IGVkaXRhYmxlIChpdCBpcyBvbmx5IHNldCB3aGVuIGEgdmlldyBpcyBjcmVhdGVkKTwvcD5cbiAgICAgKiBAc3VtbWFyeSBVcGRhdGUgVmlldy5cbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMFVwZGF0ZVZpZXdGb3JCYW5rQWNjb3VudChib2R5OiBVcGRhdGVWaWV3SlNPTiwgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8Vmlld0pzb25WMzAwPiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZ1bmMzMDBVcGRhdGVWaWV3Rm9yQmFua0FjY291bnRXaXRoSHR0cEluZm8oYm9keSwgVklFV19JRCwgQUNDT1VOVF9JRCwgQkFOS19JRCwgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkgfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgQWNjb3VudCBieSBJZCAoRnVsbClcbiAgICAgKiAmbHQ7cCZndDtJbmZvcm1hdGlvbiByZXR1cm5lZCBhYm91dCBhbiBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lEIGFzIG1vZGVyYXRlZCBieSB0aGUgdmlldyAoVklFV19JRCk6Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtOdW1iZXImbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O093bmVycyZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7VHlwZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7QmFsYW5jZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7SUJBTiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7QXZhaWxhYmxlIHZpZXdzIChzb3J0ZWQgYnkgc2hvcnRfbmFtZSkmbHQ7L2xpJmd0OyZsdDsvdWwmZ3Q7Jmx0O3AmZ3Q7TW9yZSBkZXRhaWxzIGFib3V0IHRoZSBkYXRhIG1vZGVyYXRpb24gYnkgdGhlIHZpZXcgJmx0O2EgaHJlZiYjeDNEO1xcJnF1b3Q7IzFfMl8xLWdldFZpZXdzRm9yQmFua0FjY291bnRcXCZxdW90OyZndDtoZXJlJmx0Oy9hJmd0Oy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7UFNEMiBDb250ZXh0OiBQU0QyIHJlcXVpcmVzIGN1c3RvbWVycyB0byBoYXZlIGFjY2VzcyB0byB0aGVpciBhY2NvdW50IGluZm9ybWF0aW9uIHZpYSB0aGlyZCBwYXJ0eSBhcHBsaWNhdGlvbnMuIFRoaXMgY2FsbCBwcm92aWRlcyBiYWxhbmNlIGFuZCBvdGhlciBhY2NvdW50IGluZm9ybWF0aW9uIHZpYSBkZWxlZ2F0ZWQgYXV0aGVudGljYWl0b24gdXNpbmcgT0F1dGguJmx0Oy9wJmd0OyZsdDtwJmd0O09BdXRoIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGlmIHRoZSAmIzM5O2lzX3B1YmxpYyYjMzk7IGZpZWxkIGluIHZpZXcgKFZJRVdfSUQpIGlzIG5vdCBzZXQgdG8gJmx0O2NvZGUmZ3Q7dHJ1ZSZsdDsvY29kZSZndDsuJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBWSUVXX0lEIFRoZSB2aWV3IGlkXG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwQWNjb3VudEJ5SWRXaXRoSHR0cEluZm8oVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS8ke1ZJRVdfSUR9L2FjY291bnQnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzMwMEFjY291bnRCeUlkLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwQWNjb3VudEJ5SWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBBY2NvdW50QnlJZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQWNjb3VudHMgYXQgYWxsIEJhbmtzIChQcml2YXRlKVxuICAgICAqICZsdDtwJmd0O0dldCBwcml2YXRlIGFjY291bnRzIGF0IGFsbCBiYW5rcyAoQXV0aGVudGljYXRlZCBhY2Nlc3MpIFJldHVybnMgdGhlIGxpc3Qgb2YgYWNjb3VudHMgY29udGFpbmluZyBwcml2YXRlIHZpZXdzIGZvciB0aGUgdXNlciBhdCBhbGwgYmFua3MuIEZvciBlYWNoIGFjY291bnQgdGhlIEFQSSByZXR1cm5zIHRoZSBJRCBhbmQgdGhlIGF2YWlsYWJsZSB2aWV3cy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0O1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwQ29yZVByaXZhdGVBY2NvdW50c0FsbEJhbmtzV2l0aEh0dHBJbmZvKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9teS9hY2NvdW50cyc7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBBVE1cbiAgICAgKiAmbHQ7cCZndDtDcmVhdGUgQVRNIGZvciB0aGUgQmFuay4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgTWFuZGF0b3J5Jmx0Oy9wJmd0OyZsdDtwJmd0O09CUC0yMDAwNjogVXNlciBpcyBtaXNzaW5nIG9uZSBvciBtb3JlIHJvbGVzOiBDYW5DcmVhdGVBdG0gT1IgQ2FuQ3JlYXRlQXRtQXRBbnlCYW5rJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBDcmVhdGVBdG1XaXRoSHR0cEluZm8oYm9keTogQXRtSnNvblYzMDAsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYXRtcydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBDcmVhdGVBdG0uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBDcmVhdGVBdG0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQnJhbmNoXG4gICAgICogJmx0O3AmZ3Q7Q3JlYXRlIEJyYW5jaCBmb3IgdGhlIEJhbmsuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE1hbmRhdG9yeSZsdDsvcCZndDsmbHQ7cCZndDtPQlAtMjAwMDY6IFVzZXIgaXMgbWlzc2luZyBvbmUgb3IgbW9yZSByb2xlczogQ2FuQ3JlYXRlQnJhbmNoIGVudGl0bGVtZW50cyBhcmUgcmVxdWlyZWQgT1IgQ2FuQ3JlYXRlQnJhbmNoQXRBbnlCYW5rJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBDcmVhdGVCcmFuY2hXaXRoSHR0cEluZm8oYm9keTogQnJhbmNoSnNvblYzMDAsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYnJhbmNoZXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ2JvZHknIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoYm9keSA9PT0gbnVsbCB8fCBib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIGJvZHkgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwQ3JlYXRlQnJhbmNoLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwQ3JlYXRlQnJhbmNoLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5Qb3N0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGJvZHkgPT0gbnVsbCA/ICcnIDogSlNPTi5zdHJpbmdpZnkoYm9keSksIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzEwNjEyXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFZpZXcuXG4gICAgICogJmx0O3AmZ3Q7Q3JlYXRlIGEgdmlldyBvbiBiYW5rIGFjY291bnQmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LiAgVGhlICYjMzk7YWxpYXMmIzM5OyBmaWVsZCBpbiB0aGUgSlNPTiBjYW4gdGFrZSBvbmUgb2YgdGhyZWUgdmFsdWVzOiZsdDsvcCZndDsmbHQ7dWwmZ3Q7ICAmbHQ7bGkmZ3Q7Jmx0O2VtJmd0O3B1YmxpYyZsdDsvZW0mZ3Q7OiB0byB1c2UgdGhlIHB1YmxpYyBhbGlhcyBpZiB0aGVyZSBpcyBvbmUgc3BlY2lmaWVkIGZvciB0aGUgb3RoZXIgYWNjb3VudC4mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0OyZsdDtlbSZndDtwcml2YXRlJmx0Oy9lbSZndDs6IHRvIHVzZSB0aGUgcHVibGljIGFsaWFzIGlmIHRoZXJlIGlzIG9uZSBzcGVjaWZpZWQgZm9yIHRoZSBvdGhlciBhY2NvdW50LiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7ICAmbHQ7cCZndDsmbHQ7ZW0mZ3Q7JiMzOTsmIzM5OyhlbXB0eSBzdHJpbmcpJmx0Oy9lbSZndDs6IHRvIHVzZSBubyBhbGlhczsgdGhlIHZpZXcgc2hvd3MgdGhlIHJlYWwgbmFtZSBvZiB0aGUgb3RoZXIgYWNjb3VudC4mbHQ7L3AmZ3Q7Jmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0O1RoZSAmIzM5O2hpZGVfbWV0YWRhdGFfaWZfYWxpYXNfdXNlZCYjMzk7IGZpZWxkIGluIHRoZSBKU09OIGNhbiB0YWtlIGJvb2xlYW4gdmFsdWVzLiBJZiBpdCBpcyBzZXQgdG8gJmx0O2NvZGUmZ3Q7dHJ1ZSZsdDsvY29kZSZndDsgYW5kIHRoZXJlIGlzIGFuIGFsaWFzIG9uIHRoZSBvdGhlciBhY2NvdW50IHRoZW4gdGhlIG90aGVyIGFjY291bnRzJiMzOTsgbWV0YWRhdGEgKGxpa2UgbW9yZV9pbmZvLCB1cmwsIGltYWdlX3VybCwgb3Blbl9jb3Jwb3JhdGVzX3VybCwgZXRjLikgd2lsbCBiZSBoaWRkZW4uIE90aGVyd2lzZSB0aGUgbWV0YWRhdGEgd2lsbCBiZSBzaG93bi4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7VGhlICYjMzk7YWxsb3dlZF9hY3Rpb25zJiMzOTsgZmllbGQgaXMgYSBsaXN0IGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGFjdGlvbnMgYWxsb3dlZCBvbiB0aGlzIHZpZXcsIGFsbCB0aGUgYWN0aW9ucyBjb250YWluZWQgd2lsbCBiZSBzZXQgdG8gJmx0O2NvZGUmZ3Q7dHJ1ZSZsdDsvY29kZSZndDsgb24gdGhlIHZpZXcgY3JlYXRpb24sIHRoZSByZXN0IHdpbGwgYmUgc2V0IHRvICZsdDtjb2RlJmd0O2ZhbHNlJmx0Oy9jb2RlJmd0Oy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7WW91IHNob3VsZCB1c2UgYSBsZWFkaW5nIF8gKHVuZGVyc2NvcmUpIGZvciB0aGUgdmlldyBuYW1lIGJlY2F1c2Ugb3RoZXIgdmlldyBuYW1lcyBtYXkgYmVjb21lIHJlc2VydmVkIGJ5IE9CUCBpbnRlcm5hbGx5Jmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBib2R5IEJBTktfQk9EWVxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMENyZWF0ZVZpZXdGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhib2R5OiBDcmVhdGVWaWV3SnNvbiwgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vdmlld3MnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBDcmVhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBDcmVhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBDcmVhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlBvc3QsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogYm9keSA9PSBudWxsID8gJycgOiBKU09OLnN0cmluZ2lmeShib2R5KSwgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMTA2MTJcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW5mbyBPZiBBZGFwdGVyXG4gICAgICogJmx0O3AmZ3Q7R2V0IGEgYmFzaWMgQWRhcHRlciBpbmZvJmx0Oy9wJmd0OyZsdDtwJmd0O0xvZ2luIGlzIHJlcXVpcmVkLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0QWRhcHRlcldpdGhIdHRwSW5mbyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FkYXB0ZXInXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0QWRhcHRlci4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQmFuayBBVE1cbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IEFUTSBmb3IgYSBzaW5nbGUgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCBhbmQgQVRNX0lEIGluY2x1ZGluZzombHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O0FkZHJlc3MmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0dlbyBMb2NhdGlvbiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7TGljZW5zZSB0aGUgZGF0YSB1bmRlciB0aGlzIGVuZHBvaW50IGlzIHJlbGVhc2VkIHVuZGVyJmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRBdG1XaXRoSHR0cEluZm8oQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hdG1zL0FUTV9JRCdcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBHZXRBdG0uJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEJhbmsgQVRNU1xuICAgICAqICZsdDtwJmd0O1JldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgQVRNcyBmb3IgYSBzaW5nbGUgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCBpbmNsdWRpbmc6Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtBZGRyZXNzJmx0Oy9saSZndDsgICZsdDtsaSZndDtHZW8gTG9jYXRpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0xpY2Vuc2UgdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlciZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyBPcHRpb25hbCZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0QXRtc1dpdGhIdHRwSW5mbyhCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2F0bXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0QXRtcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgQmFuayBCcmFuY2hcbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IGJyYW5jaGVzIGZvciBhIHNpbmdsZSBiYW5rIHNwZWNpZmllZCBieSBCQU5LX0lEIGFuZCBCUkFOQ0hfSUQgaW5jbHVkaW5nOiAgbWV0YS5saWNlbnNlLmlkIGFuZCBldGEubGljZW5zZS5uYW1lIGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eS4mbHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O05hbWUmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0FkZHJlc3MmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0dlbyBMb2NhdGlvbiZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7TGljZW5zZSB0aGUgZGF0YSB1bmRlciB0aGlzIGVuZHBvaW50IGlzIHJlbGVhc2VkIHVuZGVyJmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIGlzIE9wdGlvbmFsJmx0Oy9wJmd0O1xuICAgICAqIEBwYXJhbSBCUkFOQ0hfSUQgVGhlIGJyYW5jaCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRCcmFuY2hXaXRoSHR0cEluZm8oQlJBTkNIX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYnJhbmNoZXMvJHtCUkFOQ0hfSUR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JSQU5DSF9JRCcgKyAnfScsIFN0cmluZyhCUkFOQ0hfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCUkFOQ0hfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQlJBTkNIX0lEID09PSBudWxsIHx8IEJSQU5DSF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCUkFOQ0hfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0QnJhbmNoLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0QnJhbmNoLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBCcmFuY2hlcyBmb3IgYSBCYW5rXG4gICAgICogJmx0O3AmZ3Q7UmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBicmFuY2hlcyBmb3IgYSBzaW5nbGUgYmFuayBzcGVjaWZpZWQgYnkgQkFOS19JRCBpbmNsdWRpbmc6Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtOYW1lJmx0Oy9saSZndDsgICZsdDtsaSZndDtBZGRyZXNzJmx0Oy9saSZndDsgICZsdDtsaSZndDtHZW8gTG9jYXRpb24mbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0xpY2Vuc2UgdGhlIGRhdGEgdW5kZXIgdGhpcyBlbmRwb2ludCBpcyByZWxlYXNlZCB1bmRlciZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7U3RydWN0dXJlZCBvcGVuaW5nIGhvdXJzJmx0Oy9saSZndDsgICZsdDtsaSZndDtBY2Nlc3NpYmxlIGZsYWcmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O0JyYW5jaCBUeXBlJmx0Oy9saSZndDsgICZsdDtsaSZndDtNb3JlIEluZm8mbHQ7L2xpJmd0OyZsdDsvdWwmZ3Q7Jmx0O3AmZ3Q7QXV0aGVudGljYXRpb24gaXMgT3B0aW9uYWwmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldEJyYW5jaGVzV2l0aEh0dHBJbmZvKEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYnJhbmNoZXMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0JBTktfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQkFOS19JRCA9PT0gbnVsbCB8fCBCQU5LX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEJBTktfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0QnJhbmNoZXMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IEFjY291bnQgYnkgSWQgKENvcmUpXG4gICAgICogJmx0O3AmZ3Q7SW5mb3JtYXRpb24gcmV0dXJuZWQgYWJvdXQgdGhlIGFjY291bnQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQ6Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtOdW1iZXImbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O093bmVycyZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7VHlwZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7QmFsYW5jZSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7SUJBTiZsdDsvbGkmZ3Q7Jmx0Oy91bCZndDsmbHQ7cCZndDtUaGlzIGNhbGwgcmV0dXJucyB0aGUgb3duZXIgdmlldyBhbmQgcmVxdWlyZXMgYWNjZXNzIHRvIHRoYXQgdmlldy4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0Q29yZUFjY291bnRCeUlkV2l0aEh0dHBJbmZvKEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvbXkvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9L2FjY291bnQnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBHZXRDb3JlQWNjb3VudEJ5SWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBHZXRDb3JlQWNjb3VudEJ5SWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFRyYW5zYWN0aW9ucyBmb3IgQWNjb3VudCAoQ29yZSlcbiAgICAgKiAmbHQ7cCZndDtSZXR1cm5zIHRyYW5zYWN0aW9ucyBsaXN0IChDb3JlIGluZm8pIG9mIHRoZSBhY2NvdW50IHNwZWNpZmllZCBieSBBQ0NPVU5UX0lELiZsdDsvcCZndDsmbHQ7cCZndDtBdXRoZW50aWNhdGlvbiBpcyByZXF1aXJlZC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7UG9zc2libGUgY3VzdG9tIGhlYWRlcnMgZm9yIHBhZ2luYXRpb246Jmx0Oy9wJmd0OyZsdDt1bCZndDsgICZsdDtsaSZndDtvYnBfc29ydF9ieSYjeDNEO0NSSVRFUklBICYjeDNEOyYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IFxcJnF1b3Q7Y29tcGxldGVkXFwmcXVvdDsgZmllbGQmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O29icF9zb3J0X2RpcmVjdGlvbiYjeDNEO0FTQy9ERVNDICYjeDNEOyYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IERFU0MmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O29icF9saW1pdCYjeDNEO05VTUJFUiAmI3gzRDsmI3gzRDsmYW1wO2d0OyBkZWZhdWx0IHZhbHVlOiA1MCZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7b2JwX29mZnNldCYjeDNEO05VTUJFUiAmI3gzRDsmI3gzRDsmYW1wO2d0OyBkZWZhdWx0IHZhbHVlOiAwJmx0Oy9saSZndDsgICZsdDtsaSZndDtvYnBfZnJvbV9kYXRlJiN4M0Q7REFURSAmI3gzRDsmYW1wO2d0OyBkZWZhdWx0IHZhbHVlOiBkYXRlIG9mIHRoZSBvbGRlc3QgdHJhbnNhY3Rpb24gcmVnaXN0ZXJlZCAoZm9ybWF0IGJlbG93KSZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7b2JwX3RvX2RhdGUmI3gzRDtEQVRFICYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IGRhdGUgb2YgdGhlIG5ld2VzdCB0cmFuc2FjdGlvbiByZWdpc3RlcmVkIChmb3JtYXQgYmVsb3cpJmx0Oy9saSZndDsmbHQ7L3VsJmd0OyZsdDtwJmd0OyZsdDtzdHJvbmcmZ3Q7RGF0ZSBmb3JtYXQgcGFyYW1ldGVyJmx0Oy9zdHJvbmcmZ3Q7OiBcXCZxdW90O3l5eXktTU0tZGQmIzM5O1QmIzM5O0hIOm1tOnNzLlNTUyYjMzk7WiYjMzk7XFwmcXVvdDsgKDIwMTQtMDctMDFUMDA6MDA6MDAuMDAwWikgJiN4M0Q7JiN4M0Q7JmFtcDtndDsgdGltZSB6b25lIGlzIFVUQy4mbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIEFDQ09VTlRfSUQgVGhlIGFjY291bnQgaWRcbiAgICAgKiBAcGFyYW0gQkFOS19JRCBUaGUgYmFuayBpZFxuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0Q29yZVRyYW5zYWN0aW9uc0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvbXkvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9L3RyYW5zYWN0aW9ucydcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdBQ0NPVU5UX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEFDQ09VTlRfSUQgPT09IG51bGwgfHwgQUNDT1VOVF9JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBBQ0NPVU5UX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzMwMEdldENvcmVUcmFuc2FjdGlvbnNGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzMwMEdldENvcmVUcmFuc2FjdGlvbnNGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVHJhbnNhY3Rpb25zIGZvciBBY2NvdW50IChGdWxsKVxuICAgICAqICZsdDtwJmd0O1JldHVybnMgdHJhbnNhY3Rpb25zIGxpc3Qgb2YgdGhlIGFjY291bnQgc3BlY2lmaWVkIGJ5IEFDQ09VTlRfSUQgYW5kICZsdDthIGhyZWYmI3gzRDtcXCZxdW90OyMxXzJfMS1nZXRWaWV3c0ZvckJhbmtBY2NvdW50XFwmcXVvdDsmZ3Q7bW9kZXJhdGVkJmx0Oy9hJmd0OyBieSB0aGUgdmlldyAoVklFV19JRCkuJmx0Oy9wJmd0OyZsdDtwJmd0O0F1dGhlbnRpY2F0aW9uIHZpYSBPQXV0aCBpcyByZXF1aXJlZCBpZiB0aGUgdmlldyBpcyBub3QgcHVibGljLiZsdDsvcCZndDsmbHQ7cCZndDtQb3NzaWJsZSBjdXN0b20gaGVhZGVycyBmb3IgcGFnaW5hdGlvbjombHQ7L3AmZ3Q7Jmx0O3VsJmd0OyAgJmx0O2xpJmd0O29icF9zb3J0X2J5JiN4M0Q7Q1JJVEVSSUEgJiN4M0Q7JiN4M0Q7JmFtcDtndDsgZGVmYXVsdCB2YWx1ZTogXFwmcXVvdDtjb21wbGV0ZWRcXCZxdW90OyBmaWVsZCZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7b2JwX3NvcnRfZGlyZWN0aW9uJiN4M0Q7QVNDL0RFU0MgJiN4M0Q7JiN4M0Q7JmFtcDtndDsgZGVmYXVsdCB2YWx1ZTogREVTQyZsdDsvbGkmZ3Q7ICAmbHQ7bGkmZ3Q7b2JwX2xpbWl0JiN4M0Q7TlVNQkVSICYjeDNEOyYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IDUwJmx0Oy9saSZndDsgICZsdDtsaSZndDtvYnBfb2Zmc2V0JiN4M0Q7TlVNQkVSICYjeDNEOyYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IDAmbHQ7L2xpJmd0OyAgJmx0O2xpJmd0O29icF9mcm9tX2RhdGUmI3gzRDtEQVRFICYjeDNEOyZhbXA7Z3Q7IGRlZmF1bHQgdmFsdWU6IGRhdGUgb2YgdGhlIG9sZGVzdCB0cmFuc2FjdGlvbiByZWdpc3RlcmVkIChmb3JtYXQgYmVsb3cpJmx0Oy9saSZndDsgICZsdDtsaSZndDtvYnBfdG9fZGF0ZSYjeDNEO0RBVEUgJiN4M0Q7JmFtcDtndDsgZGVmYXVsdCB2YWx1ZTogZGF0ZSBvZiB0aGUgbmV3ZXN0IHRyYW5zYWN0aW9uIHJlZ2lzdGVyZWQgKGZvcm1hdCBiZWxvdykmbHQ7L2xpJmd0OyZsdDsvdWwmZ3Q7Jmx0O3AmZ3Q7Jmx0O3N0cm9uZyZndDtEYXRlIGZvcm1hdCBwYXJhbWV0ZXImbHQ7L3N0cm9uZyZndDs6IFxcJnF1b3Q7eXl5eS1NTS1kZCYjMzk7VCYjMzk7SEg6bW06c3MuU1NTJiMzOTtaJiMzOTtcXCZxdW90OyAoMjAxNC0wNy0wMVQwMDowMDowMC4wMDBaKSAmI3gzRDsmI3gzRDsmYW1wO2d0OyB0aW1lIHpvbmUgaXMgVVRDLiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFRyYW5zYWN0aW9uc0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKFZJRVdfSUQ6IHN0cmluZywgQUNDT1VOVF9JRDogc3RyaW5nLCBCQU5LX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy9iYW5rcy8ke0JBTktfSUR9L2FjY291bnRzLyR7QUNDT1VOVF9JRH0vJHtWSUVXX0lEfS90cmFuc2FjdGlvbnMnXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVklFV19JRCcgKyAnfScsIFN0cmluZyhWSUVXX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdBQ0NPVU5UX0lEJyArICd9JywgU3RyaW5nKEFDQ09VTlRfSUQpKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0JBTktfSUQnICsgJ30nLCBTdHJpbmcoQkFOS19JRCkpO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdWSUVXX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKFZJRVdfSUQgPT09IG51bGwgfHwgVklFV19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBWSUVXX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzMwMEdldFRyYW5zYWN0aW9uc0ZvckJhbmtBY2NvdW50LicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0VHJhbnNhY3Rpb25zRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBHZXRUcmFuc2FjdGlvbnNGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVXNlcnMgYnkgRW1haWwgQWRkcmVzc1xuICAgICAqICZsdDtwJmd0O0dldCB1c2VycyBieSBlbWFpbCBhZGRyZXNzJmx0Oy9wJmd0OyZsdDtwJmd0O0xvZ2luIGlzIHJlcXVpcmVkLiBDYW5HZXRBbnlVc2VyIGVudGl0bGVtZW50IGlzIHJlcXVpcmVkLCZsdDsvcCZndDtcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFVzZXJXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL3VzZXJzL2VtYWlsL0VNQUlML3Rlcm1pbmF0b3InO1xuXG4gICAgICAgIGxldCBxdWVyeVBhcmFtZXRlcnMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnModGhpcy5kZWZhdWx0SGVhZGVycy50b0pTT04oKSk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzY4NDVcblxuXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB0aGUgQWNjZXB0IGhlYWRlclxuICAgICAgICBsZXQgcHJvZHVjZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGF1dGhlbnRpY2F0aW9uIChkaXJlY3RMb2dpbikgcmVxdWlyZWRcbiAgICAgICAgaWYgKHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCB0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgcmVxdWVzdE9wdGlvbnM6IFJlcXVlc3RPcHRpb25zQXJncyA9IG5ldyBSZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBtZXRob2Q6IFJlcXVlc3RNZXRob2QuR2V0LFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHNlYXJjaDogcXVlcnlQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOnRoaXMuY29uZmlndXJhdGlvbi53aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zd2FnZ2VyLWFwaS9zd2FnZ2VyLWNvZGVnZW4vaXNzdWVzLzQwMzdcbiAgICAgICAgaWYgKGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zID0gKDxhbnk+T2JqZWN0KS5hc3NpZ24ocmVxdWVzdE9wdGlvbnMsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cC5yZXF1ZXN0KHBhdGgsIHJlcXVlc3RPcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgVXNlciBieSBVU0VSX0lEXG4gICAgICogJmx0O3AmZ3Q7R2V0IHVzZXIgYnkgVVNFUl9JRCZsdDsvcCZndDsmbHQ7cCZndDtMb2dpbiBpcyByZXF1aXJlZC4gQ2FuR2V0QW55VXNlciBlbnRpdGxlbWVudCBpcyByZXF1aXJlZCwmbHQ7L3AmZ3Q7XG4gICAgICogQHBhcmFtIFVTRVJfSUQgVGhlIHVzZXIgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMEdldFVzZXJCeVVzZXJJZFdpdGhIdHRwSW5mbyhVU0VSX0lEOiBzdHJpbmcsIGV4dHJhSHR0cFJlcXVlc3RQYXJhbXM/OiBhbnkpOiBPYnNlcnZhYmxlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLmJhc2VQYXRoICsgJy91c2Vycy91c2VyX2lkLyR7VVNFUl9JRH0nXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnVVNFUl9JRCcgKyAnfScsIFN0cmluZyhVU0VSX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ1VTRVJfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoVVNFUl9JRCA9PT0gbnVsbCB8fCBVU0VSX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIFVTRVJfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0VXNlckJ5VXNlcklkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG8gZGV0ZXJtaW5lIHRoZSBBY2NlcHQgaGVhZGVyXG4gICAgICAgIGxldCBwcm9kdWNlczogc3RyaW5nW10gPSBbXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYXV0aGVudGljYXRpb24gKGRpcmVjdExvZ2luKSByZXF1aXJlZFxuICAgICAgICBpZiAodGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKSB7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsIHRoaXMuY29uZmlndXJhdGlvbi5hcGlLZXlzW1wiQXV0aG9yaXphdGlvblwiXSk7XG4gICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIGxldCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdE9wdGlvbnNBcmdzID0gbmV3IFJlcXVlc3RPcHRpb25zKHtcbiAgICAgICAgICAgIG1ldGhvZDogUmVxdWVzdE1ldGhvZC5HZXQsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBVc2VyIGJ5IFVTRVJOQU1FXG4gICAgICogJmx0O3AmZ3Q7R2V0IHVzZXIgYnkgVVNFUk5BTUUmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7TG9naW4gaXMgcmVxdWlyZWQuIENhbkdldEFueVVzZXIgZW50aXRsZW1lbnQgaXMgcmVxdWlyZWQsJmx0Oy9wJmd0O1xuICAgICAqL1xuICAgIHB1YmxpYyBmdW5jMzAwR2V0VXNlckJ5VXNlcm5hbWVXaXRoSHR0cEluZm8oZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL3VzZXJzL3VzZXJuYW1lL1VTRVJOQU1FJztcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IFZpZXdzIGZvciBBY2NvdW50LlxuICAgICAqICZsdDtoMSZndDtWaWV3cyZsdDsvaDEmZ3Q7Jmx0O3AmZ3Q7Vmlld3MgaW4gT3BlbiBCYW5rIFByb2plY3QgcHJvdmlkZSBhIG1lY2hhbmlzbSBmb3IgZmluZSBncmFpbmVkIGFjY2VzcyBjb250cm9sIGFuZCBkZWxlZ2F0aW9uIHRvIEFjY291bnRzIGFuZCBUcmFuc2FjdGlvbnMuIEFjY291bnQgaG9sZGVycyB1c2UgdGhlICYjMzk7b3duZXImIzM5OyB2aWV3IGJ5IGRlZmF1bHQuIERlbGVnYXRlZCBhY2Nlc3MgaXMgbWFkZSB0aHJvdWdoIG90aGVyIHZpZXdzIGZvciBleGFtcGxlICYjMzk7YWNjb3VudGFudHMmIzM5OywgJiMzOTtzaGFyZS1ob2xkZXJzJiMzOTsgb3IgJiMzOTt0YWdnaW5nLWFwcGxpY2F0aW9uJiMzOTsuIFZpZXdzIGNhbiBiZSBjcmVhdGVkIHZpYSB0aGUgQVBJIGFuZCBlYWNoIHZpZXcgaGFzIGEgbGlzdCBvZiBlbnRpdGxlbWVudHMuJmx0Oy9wJmd0OyZsdDtwJmd0O1ZpZXdzIG9uIGFjY291bnRzIGFuZCB0cmFuc2FjdGlvbnMgZmlsdGVyIHRoZSB1bmRlcmx5aW5nIGRhdGEgdG8gcmVkYWN0IGNlcnRhaW4gZmllbGRzIGZvciBjZXJ0YWluIHVzZXJzLiBGb3IgaW5zdGFuY2UgdGhlIGJhbGFuY2Ugb24gYW4gYWNjb3VudCBtYXkgYmUgaGlkZGVuIGZyb20gdGhlIHB1YmxpYy4gVGhlIHdheSB0byBrbm93IHdoYXQgaXMgcG9zc2libGUgb24gYSB2aWV3IGlzIGRldGVybWluZWQgaW4gdGhlIGZvbGxvd2luZyBKU09OLiZsdDsvcCZndDsmbHQ7cCZndDsmbHQ7c3Ryb25nJmd0O0RhdGE6Jmx0Oy9zdHJvbmcmZ3Q7IFdoZW4gYSB2aWV3IG1vZGVyYXRlcyBhIHNldCBvZiBkYXRhLCBzb21lIGZpZWxkcyBteSBjb250YWluIHRoZSB2YWx1ZSAmbHQ7Y29kZSZndDtudWxsJmx0Oy9jb2RlJmd0OyByYXRoZXIgdGhhbiB0aGUgb3JpZ2luYWwgdmFsdWUuIFRoaXMgaW5kaWNhdGVzIGVpdGhlciB0aGF0IHRoZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHNlZSB0aGUgb3JpZ2luYWwgZGF0YSBvciB0aGUgZmllbGQgaXMgZW1wdHkuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZXJlIGlzIGN1cnJlbnRseSBvbmUgZXhjZXB0aW9uIHRvIHRoaXMgcnVsZTsgdGhlICYjMzk7aG9sZGVyJiMzOTsgZmllbGQgaW4gdGhlIEpTT04gY29udGFpbnMgYWx3YXlzIGEgdmFsdWUgd2hpY2ggaXMgZWl0aGVyIGFuIGFsaWFzIG9yIHRoZSByZWFsIG5hbWUgLSBpbmRpY2F0ZWQgYnkgdGhlICYjMzk7aXNfYWxpYXMmIzM5OyBmaWVsZC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7Jmx0O3N0cm9uZyZndDtBY3Rpb246Jmx0Oy9zdHJvbmcmZ3Q7IFdoZW4gYSB1c2VyIHBlcmZvcm1zIGFuIGFjdGlvbiBsaWtlIHRyeWluZyB0byBwb3N0IGEgY29tbWVudCAod2l0aCBQT1NUIEFQSSBjYWxsKSwgaWYgaGUgaXMgbm90IGFsbG93ZWQsIHRoZSBib2R5IHJlc3BvbnNlIHdpbGwgY29udGFpbiBhbiBlcnJvciBtZXNzYWdlLiZsdDsvcCZndDsmbHQ7cCZndDsmbHQ7c3Ryb25nJmd0O01ldGFkYXRhOiZsdDsvc3Ryb25nJmd0OyBUcmFuc2FjdGlvbiBtZXRhZGF0YSAobGlrZSBpbWFnZXMsIHRhZ3MsIGNvbW1lbnRzLCBldGMuKSB3aWxsIGFwcGVhcnMgJmx0O2VtJmd0O09OTFkmbHQ7L2VtJmd0OyBvbiB0aGUgdmlldyB3aGVyZSB0aGV5IGhhdmUgYmVlbiBjcmVhdGVkIGUuZy4gY29tbWVudHMgcG9zdGVkIHRvIHRoZSBwdWJsaWMgdmlldyBvbmx5IGFwcGVhciBvbiB0aGUgcHVibGljIHZpZXcuJmx0Oy9wJmd0OyZsdDtwJmd0O1RoZSBvdGhlciBhY2NvdW50IG1ldGFkYXRhIGZpZWxkcyAobGlrZSBpbWFnZV9VUkwsIG1vcmVfaW5mbywgZXRjLikgYXJlIHVuaXF1ZSB0aHJvdWdoIGFsbCB0aGUgdmlld3MuIEV4YW1wbGUsIGlmIGEgdXNlciBlZGl0cyB0aGUgJiMzOTttb3JlX2luZm8mIzM5OyBmaWVsZCBpbiB0aGUgJiMzOTt0ZWFtJiMzOTsgdmlldywgdGhlbiB0aGUgdmlldyAmIzM5O2F1dGhvcml0aWVzJiMzOTsgd2lsbCBzaG93IHRoZSBuZXcgdmFsdWUgKGlmIGl0IGlzIGFsbG93ZWQgdG8gZG8gaXQpLiZsdDsvcCZndDsmbHQ7aDEmZ3Q7QWxsJmx0Oy9oMSZndDsmbHQ7cCZndDsmbHQ7ZW0mZ3Q7T3B0aW9uYWwmbHQ7L2VtJmd0OyZsdDsvcCZndDsmbHQ7cCZndDtSZXR1cm5zIHRoZSBsaXN0IG9mIHRoZSB2aWV3cyBjcmVhdGVkIGZvciBhY2NvdW50IEFDQ09VTlRfSUQgYXQgQkFOS19JRC4mbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LiZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gQUNDT1VOVF9JRCBUaGUgYWNjb3VudCBpZFxuICAgICAqIEBwYXJhbSBCQU5LX0lEIFRoZSBiYW5rIGlkXG4gICAgICovXG4gICAgcHVibGljIGZ1bmMzMDBHZXRWaWV3c0ZvckJhbmtBY2NvdW50V2l0aEh0dHBJbmZvKEFDQ09VTlRfSUQ6IHN0cmluZywgQkFOS19JRDogc3RyaW5nLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zPzogYW55KTogT2JzZXJ2YWJsZTxSZXNwb25zZT4ge1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5iYXNlUGF0aCArICcvYmFua3MvJHtCQU5LX0lEfS9hY2NvdW50cy8ke0FDQ09VTlRfSUR9L3ZpZXdzJ1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ0FDQ09VTlRfSUQnICsgJ30nLCBTdHJpbmcoQUNDT1VOVF9JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQkFOS19JRCcgKyAnfScsIFN0cmluZyhCQU5LX0lEKSk7XG5cbiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1ldGVycyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmRlZmF1bHRIZWFkZXJzLnRvSlNPTigpKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNjg0NVxuXG4gICAgICAgIC8vIHZlcmlmeSByZXF1aXJlZCBwYXJhbWV0ZXIgJ0FDQ09VTlRfSUQnIGlzIG5vdCBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICBpZiAoQUNDT1VOVF9JRCA9PT0gbnVsbCB8fCBBQ0NPVU5UX0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWlyZWQgcGFyYW1ldGVyIEFDQ09VTlRfSUQgd2FzIG51bGwgb3IgdW5kZWZpbmVkIHdoZW4gY2FsbGluZyBmdW5jMzAwR2V0Vmlld3NGb3JCYW5rQWNjb3VudC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2ZXJpZnkgcmVxdWlyZWQgcGFyYW1ldGVyICdCQU5LX0lEJyBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgaWYgKEJBTktfSUQgPT09IG51bGwgfHwgQkFOS19JRCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVpcmVkIHBhcmFtZXRlciBCQU5LX0lEIHdhcyBudWxsIG9yIHVuZGVmaW5lZCB3aGVuIGNhbGxpbmcgZnVuYzMwMEdldFZpZXdzRm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLkdldCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBzZWFyY2g6IHF1ZXJ5UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHdpdGhDcmVkZW50aWFsczp0aGlzLmNvbmZpZ3VyYXRpb24ud2l0aENyZWRlbnRpYWxzXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3dhZ2dlci1hcGkvc3dhZ2dlci1jb2RlZ2VuL2lzc3Vlcy80MDM3XG4gICAgICAgIGlmIChleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgICAgICByZXF1ZXN0T3B0aW9ucyA9ICg8YW55Pk9iamVjdCkuYXNzaWduKHJlcXVlc3RPcHRpb25zLCBleHRyYUh0dHBSZXF1ZXN0UGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmh0dHAucmVxdWVzdChwYXRoLCByZXF1ZXN0T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIFZpZXcuXG4gICAgICogJmx0O3AmZ3Q7VXBkYXRlIGFuIGV4aXN0aW5nIHZpZXcgb24gYSBiYW5rIGFjY291bnQmbHQ7L3AmZ3Q7Jmx0O3AmZ3Q7T0F1dGggYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgYW5kIHRoZSB1c2VyIG5lZWRzIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBvd25lciB2aWV3LiZsdDsvcCZndDsmbHQ7cCZndDtUaGUganNvbiBzZW50IGlzIHRoZSBzYW1lIGFzIGR1cmluZyB2aWV3IGNyZWF0aW9uIChhYm92ZSksIHdpdGggb25lIGRpZmZlcmVuY2U6IHRoZSAmIzM5O25hbWUmIzM5OyBmaWVsZCBvZiBhIHZpZXcgaXMgbm90IGVkaXRhYmxlIChpdCBpcyBvbmx5IHNldCB3aGVuIGEgdmlldyBpcyBjcmVhdGVkKSZsdDsvcCZndDtcbiAgICAgKiBAcGFyYW0gYm9keSBCQU5LX0JPRFlcbiAgICAgKiBAcGFyYW0gVklFV19JRCBUaGUgdmlldyBpZFxuICAgICAqIEBwYXJhbSBBQ0NPVU5UX0lEIFRoZSBhY2NvdW50IGlkXG4gICAgICogQHBhcmFtIEJBTktfSUQgVGhlIGJhbmsgaWRcbiAgICAgKi9cbiAgICBwdWJsaWMgZnVuYzMwMFVwZGF0ZVZpZXdGb3JCYW5rQWNjb3VudFdpdGhIdHRwSW5mbyhib2R5OiBVcGRhdGVWaWV3SlNPTiwgVklFV19JRDogc3RyaW5nLCBBQ0NPVU5UX0lEOiBzdHJpbmcsIEJBTktfSUQ6IHN0cmluZywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcz86IGFueSk6IE9ic2VydmFibGU8UmVzcG9uc2U+IHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuYmFzZVBhdGggKyAnL2JhbmtzLyR7QkFOS19JRH0vYWNjb3VudHMvJHtBQ0NPVU5UX0lEfS92aWV3cy8ke1ZJRVdfSUR9J1xuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJHsnICsgJ1ZJRVdfSUQnICsgJ30nLCBTdHJpbmcoVklFV19JRCkpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCckeycgKyAnQUNDT1VOVF9JRCcgKyAnfScsIFN0cmluZyhBQ0NPVU5UX0lEKSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyR7JyArICdCQU5LX0lEJyArICd9JywgU3RyaW5nKEJBTktfSUQpKTtcblxuICAgICAgICBsZXQgcXVlcnlQYXJhbWV0ZXJzID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHRoaXMuZGVmYXVsdEhlYWRlcnMudG9KU09OKCkpOyAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy82ODQ1XG5cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnYm9keScgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChib2R5ID09PSBudWxsIHx8IGJvZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgYm9keSB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBVcGRhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnVklFV19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChWSUVXX0lEID09PSBudWxsIHx8IFZJRVdfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgVklFV19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBVcGRhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQUNDT1VOVF9JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChBQ0NPVU5UX0lEID09PSBudWxsIHx8IEFDQ09VTlRfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQUNDT1VOVF9JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBVcGRhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmVyaWZ5IHJlcXVpcmVkIHBhcmFtZXRlciAnQkFOS19JRCcgaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGlmIChCQU5LX0lEID09PSBudWxsIHx8IEJBTktfSUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgQkFOS19JRCB3YXMgbnVsbCBvciB1bmRlZmluZWQgd2hlbiBjYWxsaW5nIGZ1bmMzMDBVcGRhdGVWaWV3Rm9yQmFua0FjY291bnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0byBkZXRlcm1pbmUgdGhlIEFjY2VwdCBoZWFkZXJcbiAgICAgICAgbGV0IHByb2R1Y2VzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBhdXRoZW50aWNhdGlvbiAoZGlyZWN0TG9naW4pIHJlcXVpcmVkXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb24uYXBpS2V5c1tcIkF1dGhvcml6YXRpb25cIl0pIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgdGhpcy5jb25maWd1cmF0aW9uLmFwaUtleXNbXCJBdXRob3JpemF0aW9uXCJdKTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBcbiAgICAgICAgaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RPcHRpb25zOiBSZXF1ZXN0T3B0aW9uc0FyZ3MgPSBuZXcgUmVxdWVzdE9wdGlvbnMoe1xuICAgICAgICAgICAgbWV0aG9kOiBSZXF1ZXN0TWV0aG9kLlB1dCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICBib2R5OiBib2R5ID09IG51bGwgPyAnJyA6IEpTT04uc3RyaW5naWZ5KGJvZHkpLCAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xMDYxMlxuICAgICAgICAgICAgc2VhcmNoOiBxdWVyeVBhcmFtZXRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6dGhpcy5jb25maWd1cmF0aW9uLndpdGhDcmVkZW50aWFsc1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItY29kZWdlbi9pc3N1ZXMvNDAzN1xuICAgICAgICBpZiAoZXh0cmFIdHRwUmVxdWVzdFBhcmFtcykge1xuICAgICAgICAgICAgcmVxdWVzdE9wdGlvbnMgPSAoPGFueT5PYmplY3QpLmFzc2lnbihyZXF1ZXN0T3B0aW9ucywgZXh0cmFIdHRwUmVxdWVzdFBhcmFtcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5odHRwLnJlcXVlc3QocGF0aCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS9mdW5jMzAwLnNlcnZpY2UudHMiLCJpbXBvcnQgeyBOZ01vZHVsZSwgTW9kdWxlV2l0aFByb3ZpZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEh0dHBNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IENvbmZpZ3VyYXRpb24gfSBmcm9tICcuL2NvbmZpZ3VyYXRpb24nO1xuXG5pbXBvcnQgeyBGdW5jXzFfMl8xU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMxMjEuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzFfM18wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMxMzAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzFfNF8wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMxNDAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzJfMF8wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMyMDAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzJfMV8wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMyMTAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzJfMl8wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMyMjAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzNfMF8wU2VydmljZSB9IGZyb20gJy4vYXBpL2Z1bmMzMDAuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6ICAgICAgWyBDb21tb25Nb2R1bGUsIEh0dHBNb2R1bGUgXSxcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgZXhwb3J0czogICAgICBbXSxcbiAgcHJvdmlkZXJzOiAgICBbIEZ1bmNfMV8yXzFTZXJ2aWNlLCBGdW5jXzFfM18wU2VydmljZSwgRnVuY18xXzRfMFNlcnZpY2UsIEZ1bmNfMl8wXzBTZXJ2aWNlLCBGdW5jXzJfMV8wU2VydmljZSwgRnVuY18yXzJfMFNlcnZpY2UsIEZ1bmNfM18wXzBTZXJ2aWNlIF1cbn0pXG5leHBvcnQgY2xhc3MgQXBpTW9kdWxlIHtcbiAgICBwdWJsaWMgc3RhdGljIGZvckNvbmZpZyhjb25maWd1cmF0aW9uRmFjdG9yeTogKCkgPT4gQ29uZmlndXJhdGlvbik6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmdNb2R1bGU6IEFwaU1vZHVsZSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogWyB7cHJvdmlkZTogQ29uZmlndXJhdGlvbiwgdXNlRmFjdG9yeTogY29uZmlndXJhdGlvbkZhY3Rvcnl9XVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi90c2xpbnQtbG9hZGVyIS4vc3JjL2FwaS5tb2R1bGUudHMiLCJleHBvcnQgKiBmcm9tICcuL2Z1bmMxMjEuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzFfMl8xU2VydmljZSB9IGZyb20gJy4vZnVuYzEyMS5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vZnVuYzEzMC5zZXJ2aWNlJztcbmltcG9ydCB7IEZ1bmNfMV8zXzBTZXJ2aWNlIH0gZnJvbSAnLi9mdW5jMTMwLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9mdW5jMTQwLnNlcnZpY2UnO1xuaW1wb3J0IHsgRnVuY18xXzRfMFNlcnZpY2UgfSBmcm9tICcuL2Z1bmMxNDAuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2Z1bmMyMDAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzJfMF8wU2VydmljZSB9IGZyb20gJy4vZnVuYzIwMC5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vZnVuYzIxMC5zZXJ2aWNlJztcbmltcG9ydCB7IEZ1bmNfMl8xXzBTZXJ2aWNlIH0gZnJvbSAnLi9mdW5jMjEwLnNlcnZpY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9mdW5jMjIwLnNlcnZpY2UnO1xuaW1wb3J0IHsgRnVuY18yXzJfMFNlcnZpY2UgfSBmcm9tICcuL2Z1bmMyMjAuc2VydmljZSc7XG5leHBvcnQgKiBmcm9tICcuL2Z1bmMzMDAuc2VydmljZSc7XG5pbXBvcnQgeyBGdW5jXzNfMF8wU2VydmljZSB9IGZyb20gJy4vZnVuYzMwMC5zZXJ2aWNlJztcbmV4cG9ydCBjb25zdCBBUElTID0gW0Z1bmNfMV8yXzFTZXJ2aWNlLCBGdW5jXzFfM18wU2VydmljZSwgRnVuY18xXzRfMFNlcnZpY2UsIEZ1bmNfMl8wXzBTZXJ2aWNlLCBGdW5jXzJfMV8wU2VydmljZSwgRnVuY18yXzJfMFNlcnZpY2UsIEZ1bmNfM18wXzBTZXJ2aWNlXTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9hcGkvYXBpLnRzIiwiZXhwb3J0ICogZnJvbSAnLi9hcGkvYXBpJztcbmV4cG9ydCAqIGZyb20gJy4vbW9kZWwvbW9kZWxzJztcbmV4cG9ydCAqIGZyb20gJy4vdmFyaWFibGVzJztcbmV4cG9ydCAqIGZyb20gJy4vY29uZmlndXJhdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2FwaS5tb2R1bGUnO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vdHNsaW50LWxvYWRlciEuL3NyYy9pbmRleC50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xNV9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwiQGFuZ3VsYXIvY29tbW9uXCJcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xNl9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicnhqcy9hZGQvb2JzZXJ2YWJsZS90aHJvd1wiXG4vLyBtb2R1bGUgaWQgPSAxNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMTdfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcInJ4anMvYWRkL29wZXJhdG9yL2NhdGNoXCJcbi8vIG1vZHVsZSBpZCA9IDE3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xOF9fO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIGV4dGVybmFsIFwicnhqcy9hZGQvb3BlcmF0b3IvbWFwXCJcbi8vIG1vZHVsZSBpZCA9IDE4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=
